[["index.html", "Predictive analytics with KNIME Preface", " Predictive analytics with KNIME Acito 2023-06-04 Preface This text, Predictive Analytics with KNIME, is based on my over 40 years of teaching analytics to thousands of students at the Kelley School of Business at Indiana University. Graduate programs in analytics are very popular, with one estimate that nearly 250 such programs have been developed at universities, with more on the horizon. Several texts on analytics are available, but this text differs in several ways. The text draws from my lectures, Excel demonstrations, handouts, and other materials I developed. Based upon my years of teaching this material, I have learned where students have difficulty and have developed strategies for helping them learn. One differentiating feature of my text is using KNIME as the principal analytics software. KNIME is an open-source, drag-and-drop package that is especially easy to use. Unlike R and Python, which are used in other textbooks, learning KNIME is much more intuitive and does not require coding. The drag-and-drop workflows created in KNIME are self-documenting, so users can see exactly which analysis steps were taken and in what order. The graphical interface in KNIME is similar to that in expensive commercial programs such as SAS Enterprise Miner, IBM SPSS Modeler, and Microsoft’s Azure Machine Learning. Despite being open-source, KNIME has thousands of easy-to-use nodes which can perform most analyses, including nodes for deep learning, text analytics, and ensemble models. Since KNIME is open-source, students can use it after completing the course for their work or in organizations. KNIME is unlike many other tools that require expensive annual licensing. Feedback from students indicates that they are often disappointed that they cannot use the software after the end of the course because licenses are too costly for them and many of the organizations where they work. Another advantage of KNIME is that it can incorporate R code. In a few instances, I use R for specialized tasks that are either unavailable in KNIME or enable more customization of the analyses. However, r is not a requirement for students, and all the R codes will be provided. While providing conceptual background on the algorithms, the text also includes intuitive explanations. For example, principal components analysis is usually presented as a series of matrix calculations using eigenvalue decomposition, and the mathematics do not make clear how this technique works. While I include the equations, I also demonstrate how an eigenvalue can be obtained in Excel by maximizing the variance of a weighted average of a set of variables. This is one example of how the book should be accessible to those with little technical background but still interesting to those more comfortable with statistics and mathematics. Images of the KNIME workflows and detailed descriptions of each node in the KNIME workflow are provided. Another feature of this book is the provision of links to all of the KNIME analyses, including the required data sets, so that users can download the workflows, run them on their computers, experiment with modifications, and use these as templates for further work. "],["dedication.html", "Dedication", " Dedication I dedicate this work to my loving wife, Sandie, who has been patient, supportive, and understanding of my efforts. To Sandie: CYK. "],["introduction-to-analytics.html", "Chapter 1 Introduction to analytics", " Chapter 1 Introduction to analytics Analytics involves the application of data-based models to enhance results, reduce costs, and reduce risk in both profit-making and non-profit organizations. Eric Siegel coined \"The prediction effect\" term to describe how models that can make predictions about people, documents, actions, or entities at the individual level (Siegel 2013). He further states that useful predictive results do not have to be perfectly accurate. All that is needed is that predictions using analytics need to be better than the method used in the past or better than guessing. Analytics has emerged as a catch-all term for various business intelligence and application-related initiatives. It refers to a breadth of capabilities to a specific content area (for example, sales, service, supply chain) used to describe statistical and mathematical data analyses. Analytics can be classified into three basic types based on the end objective of an application: descriptive, predictive, and prescriptive, in a rough order of sophistication. Descriptive analytics refers to examining and interpreting data to answer questions such as “What happened?” or “What is currently happening?” Data visualizations such as bar charts, scatterplots, line graphs, box plots, and histograms are commonly used to derive insights from data sets. In addition, descriptive analytics makes use of basic summary statistics such as measures of central tendency and spread as well as correlations. Predictive analytics describes the approach to analyses that emphasize the prediction of continuous variables and the classification of categorical outcomes. Using descriptive analytics to understand, clean, and otherwise prepare data are important preliminary steps before developing predictive models. Techniques such as multiple regression, decision trees, and neural networks are among the many predictive analytics models available. Prescriptive analytics is an advanced form that guides decision-makers regarding “What should be done?” Simulation, recommendation engines, and optimization methods are used to develop prescriptive models. To create prescriptive models, accurate predictive models are needed as precursors. While descriptive and prescriptive analytics will be featured in some examples, the principal focus of this book is on methods for predictive analytics. Predictive analytics can provide direct value to decision-makers. Descriptive analytics are essential, but while reports and dashboards based on descriptive analytics can provide understanding and insight, decision-makers are left to integrate the findings into their beliefs and experiences to make choices. Prescriptive analytics, on the other hand, can provide managers with directions on actions to take. The growing emphasis on analytics The 2021 Digital Readiness Survey found that 89% of IT respondents reported increased use of business analytics in the past two years (https://www.manageengine.com/the-digital-readiness-survey-2021). A 2022 survey of supply chain and manufacturing executives said that 22% had adopted predictive and prescriptive analytics with more than 80% reported intentions to adopt in the next five years (“The 2022 MHI Annual Industry Report” 2022). A 2019 study found that 60% of healthcare executives used predictive analytics. The human resources function has recently emerged as a leader in analytics applications (Davenport 2019). Three developments have created significant opportunities to use analytics to support and enhance decision-making in business, health care and medicine, government, and not-for-profit organizations. The three developments are: An explosion in the amount, variety, and velocity of data. Better, faster, and cheaper hardware and software. Demand for fact-based, data-supported decision-making. Amount, variety, and velocity of data More data is being collected, from more sources, than ever before. Data has not only increased in volume; it has also gained tremendous richness and diversity. For many years data analysis was applied to structured quantitative data clearly formatted with defined fields from internally generated information about finance, production, employees, and sales. Today, richer analyses can lead to new insights by combining internal data with external data from governments, social media, mobile devices, and many other sources. Advances have made the extraction of unstructured data from text, images, video, and voice possible. In 2001 analyst Doug Laney formulated the 3V’s framework to characterize the dimensions of the data explosion (Laney 2001).1 Laney noted that the amount of data is expanding in three ways: • Volume: The amount or size of data. Big data is about volumes of data that are reaching unprecedented levels. Even the prefixes used to identify big data metrics have evolved to quantify the massive amounts of data measured in bytes: mega (106), giga (109), tera (1012, peta (1015), exa (1018), zeta (1021), and yotta (1024). • Variety: The diversity and range of data, including structured databases, unstructured data not directly machine-readable, time series, spatial, natural language, media, and data from connected devices. • Velocity: The speed at which data is received, stored, managed, and analyzed, in some cases, in real time. One data source that is growing in importance is from embedded sensors that collect and transmit data from connected devices - such as machines, automobiles, and home appliances. This phenomenon, called “The Internet of Things,” has led to smarter home security systems, autonomous farm equipment, self-driving vehicles, and numerous other developments. Data is generated by everything from cameras and traffic sensors to heart rate monitors, enabling richer insights into human behavior. Retailers, for instance, are trying to build complete customer profiles across all their touchpoints, while healthcare providers can now monitor patients remotely. In addition, companies in traditional industries such as natural resources and manufacturing are using sensors to monitor their physical assets and logistics. They can use that data to predict and prevent bottlenecks or maximize utilization. Some of the data generated is a byproduct of using the internet, smartphones, and other connected devices. This has been labeled \"data exhaust\" for how it streams out, similar to how car exhaust spews out behind motor vehicles. There is no question that the explosion of data, especially personally identifiable data, must be carefully used. Governmental rules and regulations have not kept up with the technical capabilities, so it is incumbent on analysts to carefully balance applications with ethical considerations. Better, faster, easier to use, and less expensive hardware and software About 70 years ago, the era of digital computers began. The computers of the fifties and sixties were huge, room-filling machines that had to be operated in climate-controlled environments. They required one or more operators to monitor their performance continuously. Since then, exponential improvements in the basic circuitry, memory chips, and processors produced computers that are smaller and cheaper than anything imagined in the 1960s. The growth of computing power was noted in the 1960s by Gordon Moore, a Caltech professor and one of the founders of the giant Intel Corporation. Moore's Law (the observation that the number of transistors in an integrated circuit has doubled every 18 to 24 months since 1965) has tracked the exponential growth in the power of microprocessors since 1965. One interesting calculation compares one of the first all-transistor computers, the IBM 7090 produced in 1961, with today’s powerful laptops. A modern chip in a high-end laptop can operate 30,000 times as fast as the IBM 7090 (which would cost $20 million in today’s money versus $500 to $2,000 for today’s machines). So, analysts today have computing power on personal machines which can use the latest advanced techniques even with huge data sets. Several developments have improved data mining and predictive analytics software tools making them easier to use, more powerful, and, in some cases, less expensive. One key development has been the emergence of cloud computing, which provides software tools as web services and turns computational power into a utility. The cloud-based supply model enables on-demand power and pay-as-you-go. Leaders in this domain include Microsoft, Amazon Web Services, IBM, and Google. Desktop software has also become more sophisticated, more powerful, and more user-friendly, lowering the entry barriers for building analytics models. Open-source tools such as Python and R provide free access to world-class tools for data analytics. Advanced data analysis packages used to have steep learning curves and, even when learned, required arcane commands and complex syntax. Today, analytics can be done with drag-and-drop tools that have made analytics accessible to more people. Furthermore, open-source tools such as KNIME, H2O, Orange, and Weka are free. Many software programs can quickly produce basic visual representations of data such as bar charts, scatter plots, pie charts, and line graphs. Such visualizations are only a tiny sliver of what is possible. Advanced data visualization is the last link in communicating results – from the computer to the human mind. Techniques are now used to show dynamic content and animations, allow real-time querying alerts, and combine multiple visualizations into interactive dashboards. Enhanced data visualization tools such as Power BI Desktop, Tableau, and Qlik enable the creation of state-of-the-art visualizations and dashboards for understanding and communicating insights from data. Demand for fact-based, data-supported decision making Today, advanced analytics are used in all types of commercial and non-commercial organizations. However, while decision-makers know the benefits of data analytics, many organizations have yet to realize the potential benefits fully. A very early example of predictive analytics was done in 1689 by the Lloyd Company, which used past data to evaluate the risk of sea voyages and thus set premiums for insuring the voyages (“A Brief History of Predictive Analytics” 2019). A more recent example of commercial analytics applications was the system created by the Fair Isaacs Corporation in the 1950s with the development of FICO scores for credit. Since then, applications and opportunities have existed in all functional areas. For example, an emerging trend is using analytics in human resources, where applications are being developed to automatically filter job applications, deal with turnover issues, optimize and manage benefits, drive succession planning, and guide employee training. Greater management sophistication (and expectations) regarding the use of data to support decision-making has been a driver of analytics. Organizations are turning to analytics to make fact-based decisions, relying less on intuition and becoming more data-driven. The influential McKinsey report, “Big data: The next frontier for innovation, competition, and productivity” (Manyika 2016), provided an in-depth look at the landscape of big data, predicted the huge benefits that can be generated by mining the big data in domains such as health care, public service, and government, retail, manufacturing, and logistics, and projected a shortage of expertise in data mining specialty and data-sophisticated managerial talent. References "],["applications-of-analytics.html", "Applications of analytics", " Applications of analytics Google launched Project Oxygen in 2008 to determine the common behaviors of its managers. Analyses of more than 10,000 performance reviews were analyzed to examine the effect of leadership on employee retention. Applying insights from the analyses led was measurable improvements in turnover, satisfaction, and performance (Harrell and Barbato. 2018). Analytics is being used in all sorts of creative and impactful ways. Analytics is used extensively in professional and collegiate football, basketball, soccer, and other sports to diagnose and improve individual and team performance, recruit new players, and increase revenue. The lodging industry uses analytics for a wide variety of applications of analytics. Marriott, a leader in the use of analytics, uses data to identify new sources of revenue, cultivate new customers and increase loyalty of legacy ones, and identify opportunities for new properties in new markets (https://www.hotelmanagement.net/tech/marriott-builds-its-brands-by-knowing-more-about-you). Amazon has several recommendation engines for books, consumer products, music, and videos that predict shopping preferences of their customers. While many retailers use recommendation tools, Amazon has one of the best. Rather than blindly suggesting a product, Amazon uses data analytics and machine learning to drive its recommendation engine. Amazon’s system uses three types of data to decide which products to recommend to a consumer using its site: (1) customer demographics that are related to product preferences; (2) product-product relationships such as recommending books and movies based on the patterns of products purchased by others; (3) data on customers’ prior purchases and search behavior. McKinsey estimated that, in 2017, 35 percent of Amazon’s consumer purchases could be tied back to the company’s recommendation system. Example appliction to health insurance An example of an analytics project by Accenture to improve operations in a health insurance provider was described in an article by Kumar et al. (Kumar and Mei 2010). The focus of the project was the reduction of errors in claims by an insurance company. These errors required extra administrative work, extra costs, and dissatisfaction by medical professionals and their patients due to delays and incorrect denials of payments. Two common ways of identifying errors are a random selection of claims for audit and using rules devised by experts to flag claims with errors. While using expert-based rules is slightly better than random audits, the rules require investments in expert time for development and continued refinement. The project aimed to identify claims with errors (not necessarily fraud) before authorizing the final payment. To illustrate how predictive analytics was used to make the claims auditing process more efficient, the following example uses simulated hypothetical data. (The actual data used in the Accenture study is not available.) Assume a hypothetical health insurance provider receives about 5,000 claims every working day, resulting in 1,250,000 claims yearly. The company employs a team that takes a random sample of the claims for audit. Experience indicates that about 5% of the claims audited have one or more errors, which means that about 62,500 claim errors occur each year for this provider. Also assume the audit team can review 200 randomly selected claims per day, so with 200 X 250 days, 50,000 claims can be audited each year. Using the 5% error rate, the audit team would be expected to find about 2,500 claim errors per year, only 4% of the 65,000 total. This meant that 62,500 claim errors would not be flagged and require costly rework when a patient or provider disputes the claim and requests a second review. A predictive model can be developed using the historical data from the claims database using a flag indicating whether rework was needed. This flag can be used as a binary target variable for a predictive model which uses variables from the claim text and data on the providers and patients. As with most models, the model cannot identify every error and may incorrectly flag claims without errors. Assume the model provides a score on each claim in the data based reflecting the probability that the claim has an error and needs to be reviewed. The model’s outcome data can be sorted by probability and the top 50,000 claims in terms of the probability of error selected. This matches the annual capacity of the audit team. Assume that the model flags 25% claims as having one or more errors. The remaining 75% are incorrectly flagged as having errors, five times higher than the 5% rate using the random sample. This means that 25% of the claims presented to the audit team will have errors, five times the 5% rate achieved with random selection. So, instead of the auditors identifying 2,500 claims with errors, using the model enables the auditors to identify 25% X 50,000 or 12,500 claims. The efficiency of the audit process thus increases. References "],["the-citizen-data-scientist.html", "The citizen data scientist", " The citizen data scientist Software tools that require little or no coding to develop sophisticated predictive analytics models make analytics available to a broader set of employees. Gartner (Tapadinhas and Idoine 2016) coined the term \"citizen data scientist\" to describe the emerging trend of democratizing analytics beyond dedicated, highly trained, and hard-to-find data scientists. Gartner offered the following definition: A citizen data scientist is a person who creates or generates models that use predictive or prescriptive analytics, but whose primary job function is outside the field of statistics and analytics (Pidsley and Idoine 2021). Citizen data scientists employ self-service analytics tools to increase the effectiveness and impact of their organizational work, employing predictive analytics and advanced visualization as part of their everyday jobs. Citizen data scientists can fill the gap left in IT organizations needing help to meet the demand for incorporating analytics into day-to-day decision-making and operations. Even deep learning tools, which have empowered computers to mimic or even exceed human-level intelligence in highly specialized areas such as image analysis, speech processing, and text analytics, are available in accessible software tools, many of which are open source. The demand far outstrips the supply of highly skilled data scientists. Suppose a highly skilled data scientist is defined as a candidate with three years of experience and skills in Python, SQL, Cloud Computing, and Machine Learning. In that case, 98% of the current world talent pool would not qualify, according to Gartner Talent Neuron data (Heizenberg 2022). So, while citizen data scientists are not replacements for such experts, there are likely to be many opportunities for them. References "],["the-analytics-process.html", "The analytics process", " The analytics process Developing a predictive analytics model is best approached as a deliberate sequence of activities that starts with carefully understanding the problem. These activities or steps are conducted in sequence, but following the steps in a strict order rarely occurs in practice. Instead, iteration, revision, and repetition are usually required since the results of one step may require that previous steps be re-examined and redefined. Several process frameworks have been published, including CRISP (Cross Industry Standard Process for Data Mining) (\"The Crisp-DM User Guide\"), SEMMA (Sample, Explore, Modify, Model and Assess) (\"SEMMA from SAS\"), KDD (\"KDD and Data Mining\") (Knowledge Discovery in Databases), Microsoft's TDSP (\"What Is TDSP?\") (Team Data Science Process), and others. While the CRISP framework has not been updated since it was developed, it has remained the most popular model according to a KDnuggets survey in 2014 CRISP (“CRISP-DM, Still the Top Methodology for Analytics, Data Mining, or Data Science Projects”). A diagram of the standard CRISP model is shown in Figure 1.1. Figure 1.1: The standard CRISP model. Based on the author’s experience in developing predictive models, some modifications were made to the standard model, resulting in the revised framework shown in Figure 1.2. The changes are: The label on the first step is changed to Problem Definition, since this more clearly indicates that the output of this step needs to state the problem to be solved by the analysis task. The two steps, Data Understanding and Data Preparation, are combined into a single step Data Preparation, since the two separate steps shown in the CRISP model are rarely conducted in the sequence shown. Modeling and Evaluation are combined into a single step to reflect the iteration typically needed in building an accurate model. A new step, Communication, has been added to emphasize the importance of gaining understanding and buy-in from others, which is usually needed if the model is to be deployed and used. Figure 1.2: A revised analytics framework. "],["outline-of-this-book.html", "Outline of this book", " Outline of this book The modified CRISP model is used to organize the chapters covered in the book, starting with Problem definition in chapter 2 and ending with Communication and deployment in Chapter 14. Chapter 1: Introduction to predictive analytics Chapter 2: Problem definition Chapter 3: Introduction to KNIME Chapter 4: Data preparation Chapter 5: Dimensionality reduction and feature selection Chapter 6: Ordinary least squares regression Chapter 7: Logistic regression Chapter 8: Decision and regression trees Chapter 9: Naïve Bayes Chapter 10: K nearest neighbors Chapter 11: Neural networks Chapter 12: Ensemble models Chapter 13: Cluster analysis Chapter 14: Communicating and deploying models "],["problem-definition.html", "Chapter 2 Problem definition", " Chapter 2 Problem definition Before collecting data or thinking about which analytic technique to use, it is critical to understand the business problem. While it may seem evident that the business problem should be clearly stated, it is frequently reported that the biggest reason for failures of analytics projects is a poor understanding of the problem. Moreover, defining a problem that will add value to an organization must be preceded by a good knowledge of the business.2 This phase of the analytics process includes understanding the business, identifying the stakeholders, recognizing the type of problem, and finally, framing the questions. There is a temptation to take a request from a client or manager without careful thought and to go directly to gathering and analyzing data. If this path is taken, the most important questions will not be answered, wasting time and resources. The benefits of a careful effort to understand the business and define the problem include: First, the analyst's work becomes more efficient because fewer dead ends are encountered. Data collection will be more focused on getting the correct data. Rather than just getting all the data that can be found, a more directed search occurs. Clearly stating which data is needed also provides a more substantial justification for asking the client for additional data in consulting situations. Second, business analytics is about adding value. With the proper problem structure obtaining a helpful solution is more likely. Scattershot model building is expected to lead to poor predictions and little guidance on what is wrong and how to improve the model. Third, two well-known traps can be avoided by having a clearly defined problem that can be communicated to everyone involved. The traps are: Providing information that is already known (e.g., the client says, “Tell me something I don’t already know”). Providing results that are so unusual as to be unbelievable (e.g., a manager says, “Something is wrong with your analysis; your results strain credibility). The word business is used collectively to include non-profit organizations, governments, healthcare providers, educational institutions, etc., that can use predictive analytics.↩︎ "],["expert-views-on-problem-definition.html", "Expert views on problem definition", " Expert views on problem definition Defining the problem is one of the most critical tasks in analytics projects. These quotes from various experts attest to the importance of this phase of the analytics process. “The difference between great and mediocre data science is not about math or engineering: it is about asking the right question(s)… No amount of technical competence or statistical rigor can make up for having solved a useless problem.” (Cady 2017) “If I had one hour to save the world, I would spend fifty-five minutes defining the problem, and only five minutes finding the solution.” (“Albert Einstein Quotes about Problem Solving” 2020) “The most serious mistakes are not being made as a result of wrong answers. The truly dangerous thing is asking the wrong questions.” (Drucker 2015) “Successful analytic teams spend more time understanding the business problem and less time wading through lakes of data.” (Taylor 2017) “What we are finding is that in a lot of companies, there are great data scientists and great business people, but what is missing is business people who know enough data analytics to say, here is the problem I would like you to help me with. And then, they can take the outcome from the data scientists and see how they can best leverage it. That is where we must get to in the next couple of years if we want to take advantage of the digital technologies.” (Ittner 2019) Telecom example One typical application of analytics is predicting and understanding churn (canceling a contract) for telecommunications providers. Subscribers to cell phone plans are notorious for canceling contracts and signing up with another carrier. People churn because they are unhappy with the service, want a new phone, or want to get a better price from another provider. Churn can be costly for the provider, and it is usually far cheaper for the provider to take steps to keep a customer than to find a new one. The following case study demonstrates the importance of delving deeper into a situation rather than focusing on the approach asked for by the client.3 A large cell phone carrier in the United States was experiencing a high churn and called in an analyst to help with this problem. The carrier wanted the business analyst to find a way to predict which customers were most likely to leave the company and to determine what might be done to prevent those customers from leaving. This seemed like a reasonable request that could be addressed with analytics. The cell phone company had data on its customers, including a history of customers who stayed and left. This type of data could be used to develop a predictive model, but the analyst investigated the problem before building a predictive model. The analyst found that a lot of the churn occurred right around the time when a customer's two-year contract was up. The analyst asked managers in the company for a detailed explanation of how customers were contacted, how they were asked to sign up for a new contract, and what sort of communications were being sent to the customers. It turned out that about two months before a customer's contract was up, the company sent a reminder letter saying that the contract was coming up for renewal and asking that the customer sign up for another two years. Imagine you are a consumer with a cell phone company, and you get a reminder letter from the company saying that your contract ends in 60 days. What behavior does this trigger? For many customers, it got them thinking about shopping around. It turned out that the efforts to get customers to sign up for another contract motivated many of them to leave the company. Many people do not know exactly when their contracts are up; if left alone, they could continue with the company for years without switching. The company's communication triggered the churn, and these communications about renewing contracts were stopped, and the churn went down. If the analyst had just gone directly to analyze data, the root cause might not have been identified. Management wanted a predictive churn model, and understanding the real problem was the key in this situation. References "],["defining-the-analytics-problem.html", "Defining the analytics problem", " Defining the analytics problem Several tasks can be performed to develop a good problem definition: Determine the ultimate business objectives. Predictive analytics are used to create value for an organization. In business situations, value-related goals might be to gain new customers, increase current customers' loyalty, or reduce monetary loss due to fraud. Translate the business objectives into metrics. Such metrics can be used to assess the performance of developed models that result from the analysis. For example, if customer loyalty is the problem, the objective could be to identify those customers likely to stop using the company's products or services. This objective might be further refined by stating a needed lead time before customer loss so that remedial action could be taken. Identify stakeholders. Stakeholders are the people in the organization who care about the problem - they can be part of the solution, potentially derail the solution, provide the resources needed to arrive at a solution, or be able to act on the results. Stakeholders can include IT, executives in various departments (marketing, accounting, finance, etc.), those expected to use the resulting model, and those affected in some way by the project. Develop a project plan. Developing a plan involves creating a list of the project stages, required resources, risks, time duration, contingencies, and deployment plans. Carefully frame the problem. How a problem is framed can lead to quite different approaches to finding a solution. Properly framing the problem Framing refers to describing and interpreting a situation: framing focuses attention. The problem frame helps define the importance of a problem and sets the direction for solving it. How a problem or question is framed can lead to quite different answers. For example, these two questions ask about the number 10 in at least two ways, which will lead to different responses: What is the sum of 5 plus 5? What two numbers add up to 10? Similarly, different frames will lead to different analytics approaches. For example, an insurance company may want to reduce the cost of fraudulent claims. Analytics could address this problem, but framing the situation will lead to different target variables and analytic approaches. Consider the following different frames that could be associated with reducing fraud at an insurance provider: Identify customers that had the highest propensity for fraud. Identify customers most likely to commit fraud soon. Identify customers when applying for a policy who are likely to commit fraud. Identify fraudulent claims where there is the highest likelihood to recover monies. Identify fraudulent claims with the most significant potential dollar amount of fraud. Identify fraudulent claims that maximize the hourly return of investigators assigned to deal with potential fraud. The importance of problem framing is illustrated in this story (Shoemaker and Russo 2001). There is an old story about a Franciscan priest and a Jesuit priest who were both heavy smokers and troubled by their human fragility, especially about smoking when praying to the Lord. The Franciscan met with his prefect and asked, “Father, would it be permitted to smoke while praying to the Lord?” The answer was a resounding, “No!” The Jesuit also sought counsel but asked his question differently. “Father, when in moments of weakness I smoke, would it be permitted to say a prayer to the Lord?” The answer was, “Yes, of course, my son.” In some cases, the first attempt at a problem statement focuses on symptoms, which may not address the root problem. For example, a sign might be: \"We are losing market share rapidly.\" The problem definition might then be: \"How do we regain market share?\" (Hauch 2018). But this may not direct the analyst team to the real issue. One suggestion to get at the root of a problem through framing is to use \"The 40-20-10-5 rule.\" You can apply this rule through four basic steps for complex problems. State your problem in 40 words. Cut it down to 20, then to 10, and end up with a five-word problem statement. If you cannot keep the problem definition simple, you have not reached its roots yet. Another data scientist summarized key considerations as a guide to problem framing when proposing a predictive analytics model from attending a Google training session (Arnuld 2020). See if you can solve the problem without using predictive analytics. Sometimes a simple heuristic is good enough. Be clear about what you want and state it without using predictive analytics. Write your desired outcome in simple English. What do you expect the model to output? What predictive analytics problem are you solving, e.g., if supervised, then what kind: classification or regression? If classification, then what kind? Binary or multiclass? What is a successful model in this case? What is a failed model in this case? Quantify your success. How will you measure it in your model? Try to keep the model simple. Complex models are slower to train and difficult to understand. Build a simple model and deploy it. The results from deploying the simple model can justify a more complex model. Example of solving a more straightforward problem Often, engineers make things more complicated than necessary. Consider the example of the NASA space pen. During the 1960s, NASA launched a program to develop a pen that would write in zero gravity, while the Soviet space program used the much more straightforward and already-invented pencil. I don’t know for sure because I wasn’t there, but I strongly suspect this came about because of a miss in the problem statement. The Americans were working on this problem: How do we get a pen to write in zero gravity? The Soviets were working on a different problem: How do we write in zero gravity? It seems like such a small, subtle difference, but it greatly impacted what work followed. (Flinchbaugh 2009) References "],["structured-versus-unstructured-problems.html", "Structured versus unstructured problems", " Structured versus unstructured problems The types of problems that could be addressed with analytics are wide-ranging: How can the Red Cross increase blood donations? Should a consumer products company increase ad spending for a specific brand or lower the price to stimulate sales? How do you increase the number of people who agree to be organ donors? How can a university improve its student retention rates? How much of a discount should a resort offer for booking tickets online six months early? Should a hotel offer a \"surprise discount\" on rooms at check-in, or should they offer it as people leave? How can a casino increase the lifetime value of a customer? Should a particular person be approved for a loan? Is this credit card transaction fraudulent? While these may seem like precise questions, attempting to structure the question to guide an analytics project would likely reveal that the questions are poorly structured. Many challenging analytics problems are unstructured and complex. Professionals are rewarded for their ability to solve difficult problems, not simply following rote procedures or relaying memorized information. When faced with an unstructured problem, it is even more critical to define it carefully. Based on (Jonassen 1997) the following lists some characteristics that distinguish well-structured versus unstructured problems. Characteristices of well-structured problems All elemnts are clearly presented. A possible solution is available. There exist a limited number of rules and principles that can be applied. The concepts and rules are in a definable knowledge domain. There are well-defined constraints. There est correct, convergent answers. There is a preferred, prescribed solution process. Characteristices of unstructured problems Goals are vaguely defined or unclear. There are multiple criteia for evaluating solutions. There are no general rules or principles to guide a solution. Relationships among concepts, rules, and principles are inconsistent. Constraints are unstated or unclear. There are multiple (or no) solution paths. There are no clear means for determining appropriate actions. References "],["summary.html", "Summary", " Summary Preparing a practical, actionable definition of the problem before developing a machine learning application is universally recognized as necessary. However, specifying exactly how to create a problem definition can be complicated in a complex process. As with many complex concepts, it is likely that \"you will know it when you see it.\" But getting to that point requires creativity and hard work. "],["appendix.html", "Appendix", " Appendix Because of the critical importance of problem definition, many tools and strategies have been developed to get started. A few of these are listed here. A1: Right to left thinking One approach that can be very helpful is to turn the business objective into a decision to be made. For example, if the problem is that a company needs more customers, this could lead to a goal of getting new customers or working on keeping current customers. These goals will lead to quite different data needs and analyses. If the goal is keeping existing customers, then a model that predicts which specific customers are likely to leave can lead to actions to reduce the probability of those customers leaving. If, on the other hand, the goal is to get new customers, then the model can be used to indicate which potential individuals are most likely to respond favorably to an offer. So, using right-to-left thinking, the process would begin at the \"right side\" with an operational decision and work backward to specify the data need, the risks, the buy-in required, and so on. A2: Reversing the problem Identify the problem or challenge and write it down. Brainstorm the reverse problem to generate reverse solution ideas. Allow the brainstorming to flow freely. Do not reject anything at this stage. Instead of asking, “How do I solve or prevent this problem?” ask, “How could I cause the problem?” Instead of asking, “How do I achieve these results?” ask, “How could I achieve the opposite effect?” Once you have brainstormed all the ideas to solve the reverse problem, reverse these into solutions for the original problem or challenge. Evaluate these ideas to determine if a potential solution is suggested or at least the attributes of a solution (DeRusha and WOlfson, n.d.). A3: Opening up by asking \"whys.\" Consider the following example of opening up the problem by asking a series of “whys”: If I asked you to build a bridge for me, you could go off and build a bridge. Or you could come back to me with another question: “Why do you need a bridge?” I would likely tell you that I need a bridge to get to the other side of a river. Aha! This response opens up the frame of possible solutions. There are many ways to get across a river besides using a bridge. You could dig a tunnel, take a ferry, paddle a canoe, use a zip line, or fly a hot-air balloon, to name a few. You can open the frame even farther by asking why I want to get to the other side of the river. Imagine that I told you that I work on the other side. This information broadens the range of possible solutions even more. There are probably viable ways to earn a living without ever going across the river (Seelig 2013). A4: Challenge assumptions No matter how simple it may be, every problem is attached to a lengthy list of assumptions. Many of these assumptions may be inaccurate and could make your problem statement inadequate or even misguided. The first step is making assumptions explicit. Write a list and expose as many assumptions as possible — especially those that may seem the most obvious and 'untouchable.' That, in itself, brings more clarity to the problem at hand. You need to learn how to think like a philosopher. But go further and test each assumption for validity: think in ways that might not be valid and their consequences. What you will find may surprise you: that many of those flawed assumptions are self-imposed — with just a bit of scrutiny, you can safely drop them. Be a skeptic (Clissold 2021). Consider the example of the mathematician Abraham Wald and the British Air Ministry. During World War II, the British Air Ministry engaged Mr. Wald to study the damage suffered by airplanes involved in combat missions and use those results to recommend appropriate places for armor reinforcement. All returning planes were assessed for damage, and the data was collected and analyzed. Patterns of damage soon became apparent, and the officers of the Royal Air Force concluded that the planes should be reinforced based on those patterns. Mr. Wald took a different approach. He reasoned that the damaged planes which made it back weren't the real problem. Additional armor was needed most on planes that didn't make it back. While Wald didn't know where the damage was on the lost aircraft, he could reason that it differed from the damage to planes that safely returned. His task was to see the problem, which wasn't easily observed. (Ellenberg 2016) A5: Chunking Chunk up Chunking up is about taking a broader view. Helicopter up to 30,000 feet. Survey the landscape to see the entire system. Ask ‘Why’ things happen to find a higher-level purpose. Ask ‘what is this an instance of’ to find a more general classification. Use inductive reasoning to go from specific detail to general theories and explanations. Chunk down Chunking down is about going into detail to find minor, more specific system elements. Ask 'How' things happen to find lower-level detail. Ask 'What, specifically' to probe for more information. Ask \"Give me an example\" to get specific instances of a class. Use deductive reasoning to go from general theories and ideas to cases. Chunk up and down Chunking up and down go well together to look differently at the same situation. Chunk up from the existing situation to find a general or broader view. Then chunk down somewhere else (“Chunking Questions” n.d.). References "],["exercises.html", "Exercises", " Exercises 2.1 Twisting the question. Virtually all database systems today include retrieving records and efficiently creating and manipulating tables. Queries return data from a database that fulfills the user's specific constraints and criteria. OLAP uses a process of preaggregation to form data cubes, which enables retrieval more quickly, often with less computational power. Neither database queries nor OLAP, however, are considered data mining tools. Data mining addresses fundamentally different questions by constructing models of the data. Consider the following business questions. Take a few minutes and “twist” each question into an analytic modeling question. Who are my best customers? What geographic areas have the most sales? How long do customers stay with my company? What do my customers buy, specifically? What share of the customer's wallet do I have? Which suppliers are most reliable? What are the characteristics of the most reliable suppliers? Which salespeople provide the most profit? What is the perceived quality of my products? Which products are most profitable? 2.2 Predicting loan defaults. A bank is interested in a significant promotion to increase its new car loan market share. Assuming the promotion is successful, the number of applications for new car loans will increase substantially. Therefore, a predictive analytics model should be developed to speed up the loan acceptance or rejection process, with the specific goal of quickly and automatically identifying applicants likely to default on the loan. A database of 5,500 automobile loans is available from the bank's information system, covering loans from July 1999 through June 2010. Variables for each loan include: - Whether or not the loan resulted in default - Amount of loan - Percentage of loan to value of the automobile - Date of the loan - Duration of the loan in months - Applicant characteristics: - Age - Gender - Current debt (monthly payments) - Monthly household income - Years in current residence - Years in the previous residence - Number of dependents - Marital status - Credit score What issues or questions would you have regarding this data set before developing a predictive model? 2.3 Screening insurance claims. Given the steady increase in healthcare costs and the heightened attention to controlling these costs, interest in analyzing the huge amounts of data collected by health insurance providers has grown. One major health insurance provider has issued a request for proposal (RFP) to develop ways to automate screening of claims for diagnostic tests as well as the behaviors of providers that are ordering the tests. The goal is to identify potentially fraudulent and/or inappropriate usage of such tests. While diagnostic tests represent only a portion of the benefits paid by the company, management believes that a focused project on claims for the tests would be a good first step and would provide useful experience for further analyses and systems. Two databases are available, both representing activities for a 24-month period. The first database contains 17,000 records on health care providers, including basic demographics (location, age, gender, etc.) and data on the total number of tests ordered during the 24-month period, the total charges for the tests, the total benefits paid for the tests by the insurance company, and a unique identification code. The second database contains 6,800,000 transaction records for patients with basic demographics, a unique ID number, a code for the test performed, the cost of the test, the benefit paid, the date the test was performed, and the provider identification code which is tied to the provider database. A total of 227 different diagnostic tests are tracked in this database. Prepare a response to the insurance company’s RFP. Some suggestions for developing your response: Develop a reasonable set of boundaries for the problem that will prevent the model from becoming overly complex. Be prepared to defend any simplifying assumptions. Define the options or decisions that decision makers have. Discuss and defend the options you select. Define the outcome or outcomes that will be measured for the options under consideration. The outcome measures should enable the quantification of the results of any options that are pursued. Develop a list of the variables that should be incorporated into the model. Discuss how the variables would be linked into a model. "],["introduction-to-knime.html", "Chapter 3 Introduction to KNIME", " Chapter 3 Introduction to KNIME KNIME is a comprehensive analytics and data mining tool that uses an intuitive drag-and-drop workflow canvas. While KNIME can be (and is) used by professional data analysts, it is an excellent \"low code\" platform for learning predictive analytics and data mining. KNIME workflows provide a graphic representation of the steps taken in analysis, making the analysis self-documenting. This documentation makes it easy to reproduce analyses and communicate methods and results to others. This chapter introduces KNIME with demonstrations of some of its features and includes links to a variety of free resources, including tutorials and documentation. A step-by-step example of using KNIME demonstrates how KNIME can be used to analyze a data set. KNIME was developed at the University of Konstanz in Germany beginning in 2004, with the first release in 2006. As noted on its website, KNIME is committed to open source: \"Unlike other open-source products, KNIME Analytics Platform is not a cut-down version, and there are no artificial limitations on execution environment or data size: If you have enough local or cloud-based space and compute power, you can run projects with billions of rows, as many KNIME users currently do.\" https://www.knime.com/knime-open-source-story) KNIME features There are several features that KNIME stand out from its competitors: KNIME is free to use on your machine. KNIME runs on Windows, Mac, and Linux machines. KNIME has over 4,000 nodes for data source connections, transformations, machine learning, and visualization. While KNIME includes a broad array of data processing and analysis capabilities, it is fully extensible by using nodes that can run R or Python. Many of the capabilities of two other analytic platforms, H2O, and WEKA, are also integrated into KNIME and work seamlessly in the drag-and-drop workflow. Various data file types can be used, including csv, Excel, and, using an easily installed extension, databases. Data can be exported to Excel, Tableau, Spotfire, Power BI, and other reporting platforms. A large active community of users can answer questions and provide help. Many ready-to-use workflows can be easily installed in your work environment by dragging and dropping from the KNIME site. Extensive documentation, learning modules, videos, and training events are available. A paid, commercial server version of KNIME is needed for deploying KNIME models on the web, but this is not required for learning. Everything else is available with the open-source version. The KNIME Workbench The main sections of the KNIME Workbench are shown in Figure 3.1. A brief description of each unit is provided below, but for more detail, see the KNIME Workbench Guide. Figure 3.1: The KNIME Workbench. "],["elements-of-the-knime-workbench.html", "Elements of the KNIME Workbench", " Elements of the KNIME Workbench KNIME Explorer This links to the available workflows on your machine and those available from KNIME servers, including workflow examples from KNIME and the KNIME community. Workflow Coach This is a handy tool to help you build an analytic workflow. The suggested following nodes are listed for any node selected in your workflow, and the suggestions are based on usage statistics from the KNIME Community. Node Repository Listed in this area are the analysis nodes installed on your machine. Nodes are available to read and write files, explore and transform data, run basic and advanced analytics, and create visualizations. A core set of nodes is included when you install KNIME, but thousands of additional nodes are available and easily installed. The nodes are organized by categories, but you can also use the search box on the top of the node repository to find nodes. Workflow Editor This is the canvas for editing the currently active workflow. The workflow is created by dragging nodes from the Node Repository and linking them appropriately. Outline This area shows a small overview of the current workflow. Console This shows the processing taking place when executing a workflow. It also provides warnings and error messages. Node Descriptions For each node selected in a workflow, a detailed description is provided, including the general function of the node, available settings, and input and output ports. "],["learning-to-use-knime.html", "Learning to use KNIME", " Learning to use KNIME Learning to use KNIME takes some time, but extensive, free written and video resources are available. A “Getting Started Guide” is available at Getting started with KNIME. A series of self-paced courses are online and free. The courses include exercises and solutions. KNIME Self-Paced Courses. There are four levels of self-paced courses: Level 1 courses KNIME Analytics Platform for Data Scientists: Basics KNIME Analytics Platform for Data Wranglers: Basics Level 2 courses KNIME Analytics Platform for Data Scientists: Advanced KNIME Analytics Platform for Data Wranglers: Advanced Level 3 course KNIME Server Course: Productionizing and Collaboration Level 4 courses Introduction to Big Data with KNIME Analytics Platform Introduction to Text Processing KNIME Documentation links to all the documentation, which can be read online or downloaded. Individual documents for specific topics are available as follows: KNIME QuickStart Guide KNIME Analytics Platform Installation Guide KNIME Workbench Guide Extensions and Integrations Guide KNIME Flow Control Guide KNIME Components Guide KNIME Integrated Deployment Guide KNIME File Handling Guide A free \"boot camp\" for KNIME is available from UDEMY with 50 video instructional lectures running over four hours. The course starts with installation and setup and proceeds to demonstrate practical applications in machine learning.(Bootcamp for KNIME Analytics Platform) "],["knime-extensions-and-integrations.html", "KNIME extensions and integrations", " KNIME extensions and integrations In addition to the nodes that are developed and maintained by KNIME, there are many nodes that have been developed by community developers and KNIME Partners. The KNIME Community Extensions offer nodes for image processing, information retrieval, and many others created and maintained by community developers. Trusted Extensions provide the following guarantees to users: (https://www.knime.com/trusted-community-contributions) Backward compatibility, i.e., existing workflows will continue to work with newer versions of KNIME. Compliance with the KNIME usage model and quality standards. Support (via forum) in case of problems. Maintenance for the last two KNIME versions. One nice feature of KNIME is its integration with open-source tools. Examples are listed below. R and Python scripts can be run seamlessly in a KNIME workflow. Code can also be run from Jupyter notebooks. H20 provides high-performance algorithms such as Random Forests, Gradient Boosted Trees, and many others. The H20 open-source tools can be integrated into a KNIME workflow. One feature of H20 is an available \"AutoML Learner,\" which runs and compares several predictor models' performance using optimum parameter settings. KNIME provides integration with the Python Keras Deep Learning framework. Keras (which makes TensorFlow more approachable) contains several implementations of neural networks, including convolutional and recurrent nets, which can be used for applications such as image recognition. Data types in KNIME Data tables in KNIME support several different data types, including Double (D), Integer (I), String (S), Date or Time, and Boolean (B). The data type is indicated in the header row of each variable. Double values are floating point numerical values with fractional parts. Double floating-point variables allow greater precision by using 64 bits. Integer variables store signed whole numbers. String variables (alphanumeric or character variables) may include letters, numbers, or symbols. Date variables are strings formatted as yyyy-MM-dd and Time variables formatted as HH:mm:ss. Boolean variables represent True/False or 0/1. "],["example-1-predicting-heart-disease.html", "Example #1: Predicting heart disease", " Example #1: Predicting heart disease The following example illustrates how KNIME can be used to build a model. Do not be concerned if some of the details are unfamiliar at this point; these details will be covered in later chapters of the book. The example involves a cardiovascular disease data set. Mortality rates for cardiovascular diseases are high and increasing, especially in developing regions of the world. In the United States, 1 in 4 deaths yearly are from heart disease. If the presence of heart disease can be predicted using a physician's examination and laboratory tests, this would be a valuable diagnostic tool. Such a prediction is difficult because there are several contributory variables, including diabetes, high blood pressure, high cholesterol, abnormal pulse rate, and other factors. A data set from the Cleveland Clinic on is available from the UCI Machine Learning Repository. The data set has 2974 rows, 13 predictor values, and one target (heart disease versus no heart disease). Since the target variable has just two levels, logistic regression was run in KNIME. (Details on logistic regression and other models are provided in later chapters.) A step-by-step illustration of running KNIME is shown in the following sections. The workflow, along with the data, is available in the file WorkflowForFigure3.2.knwf. The next sections provide details on each of the nodes in the workflow in Figure 3.2. The details show how each node was configured. To configure a node, simply point to and right-click on a node and select Configuration. Figure 3.2: Example of a KNIME workflow. Read data from a CSV file The first step is to read the heart disease data from a csv file that has been saved relative to the workflow itself. The node was configured as shown in Figure 3.3, and a preview of the data is shown in Figure 3.4. Figure 3.3: Configuring the CSV Reader node. Figure 3.4: Preview of the Heart Disease data. Creating training and test subsets of data Good practice in building machine learning models is to create a model using part of the data for training and the rest for testing the model. Accordingly, the KNIME node “Partitioning” was used to create training and test data subsets. 70% of the sample was used for training and 30% for testing (Figure 3.5. The 70/30 ratio is typical but not the only split that can be used. The data was split randomly; a seed was set to 123 to make the randomization repeatable. Also, the random selection was conducted with stratified sampling so that the ratio of “heart disease” versus “no heart disease” would be equal (or nearly equal) in both the training and test subsets. The Partitioning node has two outputs: the upper output is the training data, and the lower output is the test data. Figure 3.5: Create training and test data sets.. Developing a logistic regression model Performing a logistic regression in KNIME involves two nodes. The first node “learns” the logistic model (Figure 3.6. Note that the upper output from the Partitioning node (the training data) was sent to the Logistic Regression Learner and used to build the model. Figure 3.6: Configuring the Logistic Regression Learner node. There are three outputs from the Logistic Regression Learning: the upper output (shown as a dark green square) contains the model itself, the middle output arrow contains the coefficients from the model. The lower output arrow has information about the modeling process (not used in this example). Calculating predictions from a model The Logistic Regression Predictor (Figure 3.7) has two inputs: the square input port takes the model built in the Learner node, and the lower arrow input port takes the test data from the Partitioning node. The Logistic Regression Predictor uses these inputs to create predictions for the test data, which is output in the single arrow on the node's right. Figure 3.7: Configuring the Logistic Regression Predictor node. Six rows were dropped due to missing values.↩︎ "],["evaluating-predictive-accuracy.html", "Evaluating predictive accuracy", " Evaluating predictive accuracy The Scorer node in KNIME (Figure 3.8) is used to evaluate the performance of models where the target variable is binary, as is the case in this example. The input to this node is a data table with the actual and predicted values for the test data set. A cross-tabulation called a “confusion matrix” is created using the actual and predicted values. Figure 3.8: Configuring the Scorer node. The 2 X 2 confusion matrix from the Scorer node is shown in Figure 3.9. This table shows both accurate and inaccurate predictions. In this example, the prediction accuracy was under 80%, which is insufficient for clinical diagnoses. A different model with more variables might be developed to improve accuracy. Especially of concern in the results shown in the confusion matrix is the 11 cases where heart disease was \"present,\" but the model predicted, \"not present.\" Adjustments to the prediction mechanism could be made to err more on predicting \"present\" when the fact is \"not present\" since this is less serious than the other type of error. Figure 3.9: The confusion matrix. The Scorer node also provides additional performance measures, and these will be discussed in the chapter on model evaluation. "],["example-2-preparation-of-hospital-data.html", "Example #2: Preparation of hospital data", " Example #2: Preparation of hospital data The length of stay for patients in hospitals is an important indicator of the efficiency of hospital management. Extended stays can increase the likelihood of infection and complications. Extended stays in the hospital negatively impact a patient's experience and result in higher healthcare costs. This example uses a 2015 data set with over 2.3 million patient hospitalizations in New York State. Thirty-four variables are included in the data set, but this analysis will focus on the variables in Table 3.1. ## Warning: package &#39;magrittr&#39; was built under R version 4.2.3 .cl-2d49c574{}.cl-2d27bc9a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2d405d90{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2d405d9a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-2d4083ec{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d408400{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d408401{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d408402{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d40840a{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d40840b{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.1: Variables in the hospital discharge data set. VariableDescriptionAge Group0 to 17, 18 to 29, 30 to 49, 50 to 69, 70 or OlderGenderM, F, U (male, female, unknown)Length of Stayin daysType of admissionElective, UrgentThe severity of the illnessMinor, Moderate, Major, ExtremeTotal ChargesThe amount billed by the hospital)Total CostThe expense incurred by the hospital The workflow for the analysis is shown in Figure 3.10. (file: WorkflowForFigure3.10.knwf). Node descriptions are shown in Table 3.2. Figure 3.10: Workflow for analysis of hospital data subset. "],["node-descriptions-for-figure-3.10-workflow.html", "Node descriptions for Figure 3.10 workflow", " Node descriptions for Figure 3.10 workflow .cl-2d7d7310{}.cl-2d6e74b4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2d6e74c8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2d743fe8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2d743ff2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2d746068{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d746072{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d74607c{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d74607d{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d74607e{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2d746086{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.2: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead file: Hospital_Inpatient_DischargesOutput port: KNIME table with Hospital_Inpatient_DischargesNode 2Column FilterPlace the following variables in the Include area: - Age Group- Gender- Length of Stay- Type of Admission- APR Severity of Illness Description- Total Charges- Total CostsPut other variables in the Exclude areaInput port: KNIME table with Hospital Inpatient Discharges Output port: Selected columns of KNIME table with Hospital Inpatient DischargesNode 3String ManipulationString manipulation to remove the comma from the variable Total ChargesIn the Expression area:- removeChars($Total Charges$,\",\" )- Select: Replace Column - Enter name: Total ChargesInput port: Selected columns of KNIME table with Hospital Inpatient DischargesOutput port: Modified KNIME table: Removed “’,” from Total ChargesNode 4String ManipulationString manipulation to remove the comma from the variable Total CostsIn the Expression area:- removeChars($Total Costs$,\",\" )- Select: Replace Column - Enter name Total CostsInput port: Modified KNIME table from Node 3Output port: Modified KNIME table: Removed “’,” from Total CostsNode 5String ManipulationString manipulation to remove the plus sign from the variable Length of Stay.In the Expression area:- removeChars($Length of Stay$,\"+\" )- Select: Replace Column - Enter name: Length of StayInput port: Modified KNIME table from Node 4 Output port: Modified KNIME table: Removed “’+” from Length of StayNode 6String to NumberChange string variables to numeric.Settings - Place the following variables in the Include area: - Length of Stay - Total Charges - Total CostsInput port: Modified KNIME table from Node 5Output port: Modified KNIME table with Length of Stay, Total Charges, and Total Costs changed from string to numericNode 7Row FilterThis node removes the cases where Gender is U (unknown).Filter Criteria:- In the left box, select Exclude rows by attribute value.- Column to test: Gender- Matching criteria: Check to use pattern matching; enter the letter UInput port: Modified KNIME table from Node 6Output port: Modified KNIME cases with Gender = “U” removedNode 8Data ExplorerOptionsColumns- Check Show most frequent/infrequent nominal values.- Check Display Row Id in the Data PreviewInput port: Filtered table from Node 7Output port: Same as the input port "],["steps-to-run-the-figure-3.10-workflow.html", "Steps to run the Figure 3.10 workflow", " Steps to run the Figure 3.10 workflow The following steps can be used to run the workflow 5: Make sure the workflow is in a hard drive folder. Launch KNIME. Click on file&gt; Import KNIME Workflow. In the Select file area: Browse to the file WorkflowForFigure3.10.knwf file and select it. Click Open, then Finish. Locate the selected workflow in the KNIME Explorer and double-click on the workflow file. Execute the nodes in order from left to right. Descriptive statistics from the Data Explorer The table from the Data Explorer node for the continuous variables is shown in Figure 3.11, and the table for nominal variables is shown in Figure 3.12. Figure 3.11: Summary of continuous variables in the hospital data subset. Figure 3.12: Summary of categorical variables in the hospital data subset. Many nodes in KNIME use \"regex\" for searching and transforming variables. Regex (which stands for \"regular expressions\") uses a sequence of special characters to select variables and perform operations. Examples of regex expressions are provided in Appendix 2 of this chapter.↩︎ "],["flow-variables.html", "Flow variables", " Flow variables Flow variables are parameters in KNIME used to overwrite configuration settings. The input and output ports of nodes are usually used to transfer values in KNIME data tables. But there can be other variables of interest in many nodes. These variables are the parameters that control settings for nodes and can be double, integer, or string variables. Flow variables can be used to create loops that iterate over values, to automate inputs, to make workflows interactive, and other tasks. Flow variable ports are shown as red circles above a node. In most nodes, these are hidden by default. To unhide the flow variable ports, right-click on a node and select Show Flow Variable Ports. There are many ways to create and use flow variables. Several basic examples will be shown here, and others will be shown in later chapters in specific applications. Convert a table row into a flow variable The example uses an auto insurance fraud data set available from Kaggle. The data set contains 1,000 observations with 38 columns with attributes such as the age of the driver, the state where the auto insurance policy was written, and the make, model, and year of the policyholder's automobile. The Table Row to Variable node converts the first row of each column in a data table into a flow variable. The workflow shown in Figure 3.13 (file: WorkflowForFigure3.13.knwf) illustrates how the node works. Node descriptions are shown in Table 3.3. Figure 3.13: Workflow to demonstrate Table Row to Variable. "],["node-descriptions-for-figure-3.13-workflow.html", "Node descriptions for Figure 3.13 workflow", " Node descriptions for Figure 3.13 workflow .cl-2db74982{}.cl-2da88636{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2da88640{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2dae5eee{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2dae5ef8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2dae7f82{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dae7f8c{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dae7f8d{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dae7f96{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dae7f97{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dae7f98{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.3: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead file: FraudData.csvOutput port: KNIME table FraudDataNode 2GroupBYForm groups by the state where the policy was written and obtain the total claim amount for each state. Settings: Groups- Group column: policy_state- Manual Aggregation- Column: total_claim_amount- Aggregation: SumInput port: KNIME table FraudDataOutput port: Grouped table with total claim amounts by stateNode 3SorterSorts the rows by the Sum (total_claim_amount) from highest to lowestSorting Filter- Sum(total_claim_amount)- Select: DescendingInput port: Group table with total claim amounts by stateOutput port: Sorted tableNode 4Table Row to VariableConverts the first row of the sorted table (with the highest total_claim_amount) to a flow variable Settings- Include: - policy_state - Sum(total_claim_amount)Input port: Sorted tableVariable output (red circle): A flow variable with the first row of the sorted tableNode 5Row FilterFilter the Fraud data set by the flow variableFilter Criteria- Include rows by attribute value- Column to test: policy_state- Select: Use pattern matching; click on the V icon and use variable policy_stateVariable input: A flow variable with the first row of the sorted table (red circle)Input port: Table FraudData.csvOutput port: Table of fraud data for policy state selected by Table Row to Variable "],["export-a-configuration-from-a-node-as-a-flow-variable.html", "Export a configuration from a node as a flow variable", " Export a configuration from a node as a flow variable The workflow in Figure 3.14 (file: WorkflowForFigure3.14.knwf) demonstrates how to export a configuration from one node to another. The example uses the auto insurance fraud data from the previous example and performs two-sample t-tests using the grouping of fraud = yes vs. fraud = no. Figure 3.14: Export a configuration. The following null hypotheses are tested: There is no difference in the mean amount of property claims for observations with fraud = Y versus fraud = N. There is no difference in the mean amount of injury claims for observations with fraud = Y versus fraud = N. The group variate (fraud = Y or N) is set for the t-test in Node 2 and then exported as a flow variable to the t-test in Node 3. Descriptions of the nodes are in Table 3.4. "],["node-descriptions-for-figure-3.14-workflow.html", "Node descriptions for Figure 3.14 workflow", " Node descriptions for Figure 3.14 workflow .cl-2de2fe06{}.cl-2dd4550e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2dd45518{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2dda3000{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2dda300a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2dda51de{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dda51e8{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dda51f2{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dda51f3{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dda51fc{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2dda5206{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.4: KNIME nodes NodesDescriptionInput and output portsNode 1File ReaderRead file: FraudData.csvOutput port: FraudData KNIME tableNode 2Independent groups t-testIndependent two-group t-test of difference mean amounts of property claimsSettings- Grouping column: fraud-reported- Include: property_claim- Exclude all other variablesFlow Variables- In the white space to the right of groupingColumn enter GroupColInput port: FraudData KNIME tableFlow variable output: GroupColUpper output port: t-testMiddle output port: Levene testLower output port: Descriptive statisticsNode 3Independent groups t-testIndependent two-group t-test of difference mean amounts of injury claimsSettings- Grouping column: fraud-reported flow variable from Node 2- Include: injury_claim- Exclude all other variablesFlow Variables- In the white space to the right of groupingColumn enter GroupColInput port: FraudData KNIME table Flow variable input: Flow variable GroupColUpper output port: t-testMiddle output port: Levene testLower output port: Descriptive statistics "],["creating-a-global-flow-variable.html", "Creating a global flow variable", " Creating a global flow variable One approach to using flow variables makes the variable available to all nodes in a workflow. Note that more than one global flow variable can be created. To create a global flow variable in a workflow, open the workflow by right-clicking it in the Explorer panel. Then follow these steps. In the KNIME Explorer panel, right-click on the workflow in which the flow variable is needed. This opens the Workflow Variable Administration panel. Click on the Add button. Enter the desired name for the global flow variable in the Variable namespace. Select the Variable Type using the drop-down selector (DOUBLE, INTEGER, or STRING). Enter the default value for the global flow variable. Click OK, then OK. Creating a string flow variable The following workflow (3.15) (file: WorkflowFigure3.15.knwf) uses a String Configuration node so that a user can select state (IL, IN, or OH) from an insurance file and then create two Excel files, one for the continuous variables and one for the nominal (string) variables. Descriptions of the nodes in the workflow are in Table 3.5. A single worksheet is created in each Excel file with the state's name where the policy was written. This demonstrates the use of a flow variable to enable the selection of specified rows. The advantage of using a flow variable in this example is that the choice is done in one place and can be used downstream of the workflow. Figure 3.15: Using a string flow variable. "],["node-descriptions-for-figure-3.15-workflow.html", "Node descriptions for Figure 3.15 workflow", " Node descriptions for Figure 3.15 workflow .cl-2e10e514{}.cl-2e01e3de{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e01e3f2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e081042{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e081056{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e083716{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e083720{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e083721{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e083722{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e08372a{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e08372b{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.5: KNIME nodes. NodeDescriptionsInput.and.output.nodesNode 1 File ReaderRead file: FraudData.csvOutput port: FraudData KNIME tableNode 2 String ConfigurationOutput a string flow variable with a set valueThe value can be IL, IN, or OHInput port: FraudData KNIME tableFlow variable output: policy_state Node 3 Row FilterFilter rows using defined criteriaFilter CriteriaSelect: Include rows by attribute value- Column to test: policy_state- Matching criteria: Select use pattern matching.- Mouse-click on V icon- Check: Use Variable- Select: string-inputFlow variable input port: policy-stateInput port: FraudData KNIME table Output port: FraudData KNIME table with Filtered rowsNode 4 StatisticsOptionsInclude- age- policy_state- insured_sex- insured_education_level- total_claim_amountExclude all other variablesInput port: FraudData KNIME table with Filtered rows Upper output port: Continuous statisticsMiddle output port: Not usedLower output port: OccurencesNode 5 Excel WriterSettings- Excel format: XLSX- Write to Relative to Current workflow data area- File: Statistics.xlsx- Write options: If exists: OverwriteFlow Variables- Sheet_names: string-input (in a grey area)NoneNode 6 Excel WriterSettings- Excel format: XLSX- Write to Relative to Current workflow data area- File: FlowStatisticsString.xlsx- Write options: If exists: OverwriteFlow Variables- Sheet_names: string-input (in the grey area)None "],["loops-in-knime.html", "Loops in KNIME", " Loops in KNIME In some workflows, there is a need to repeat the execution of a set of nodes until a certain condition is met. The general structure of a loop is shown in Figure 3.16. Figure 3.16: Structure of KNIME loops. A loop has a starting point, one or more processing nodes, and an end point. Several different conditions can be set in KNIME. Examples are shown in Table 3.6. .cl-2e40871a{}.cl-2e2e35d8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e36b370{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e36b384{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-2e36dd5a{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e36dd64{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e36dd65{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.6: Examples of KNIME loop structures. Type.of.loopLoop.start.nodeLoop.end.nodeRun a loop a preset number of timesThe Counting Loop StartThis node starts a loop which is executed a predefined number of times specified in the Counting Loop Start dialog.Loop EndThis node marks the end of a workflow loop and collects the intermediate results by row-wise concatenation of the incoming tables.Loop on a set of columnsColumn List Loop StartThis node iterates over a list of columns of the input table. Its columns are divided into two sets, the \"excluded\" columns will always be included in any iteration, the \"included\" columns will be visible once in each iteration.LoopEnd (Column Append)This node collects the intermediate results by joining the tables based on their row IDs. In each iteration the node will join the current input table with the previous result.Loop on a list of valuesInterval Loop StartThe Interval LoopStart starts a loop which increases a variable within a user-defined interval by a certain amount.Loop EndThis node marks the end of a workflow loop and collects the intermediate results by row-wise concatenation of the incoming tables.Loop unitl a condition is satisfiedGeneric Loop StartThis creates a loop that is executed until a specified condition on one of the flow variables is met. The condition must be set in the loop's end node.Variable Condition Loop EndThis node executes the body of the loop until a certain condition on one of the flow variables is met. Run a loop a preset number of times The Counting Loop executes the workflow between the Start and End a specified number of times. In the example shown in the workflow in Figure 3.17 (file: WorkflowForFigure3.17.knwf) the result of 2 to the power of 0 through 9 is found, and the results collected in the output of the Loop End. Node descriptions are in Table 3.7. Figure 3.17: A simple counting loop. "],["node-descriptions-for-figure-3.17-workflow.html", "Node descriptions for Figure 3.17 workflow", " Node descriptions for Figure 3.17 workflow .cl-2e71177c{}.cl-2e60a78e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e60a7a2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e67071e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e670732{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e674170{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e674184{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e67418e{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e674198{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e674199{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e6741a2{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.7: KNIME nodes NodeDescriptionsInput and output portsNode 1Table CreatorCreate a one-row one-column starting value of 1.0Output port: KNIME data tableNode 2 Counting Loop StartStarts a loop and runs it a set number of timesStandard settings- Number of loops: 10Input port: KNIME data tableOutput port: Input KNIME data table plus a flow variable with the current iteration number and the maximum number of iterationsNode 3 Math FormulaCreate a math expression; note that the Math Formula node automatically inputs and outputs flow variablesFlow Variable List- maxIterations- currentIterationColumn List- 2^power of iterationExpression: 2^$${IcurrentIteration}$$Select: Replace Column with column name 2^power of iterationOutput port: 2^power of iterationFlow variables output- maxIterations- currentIterationInput port: Input KNIME data table plus a flow variable with the current iteration number and the maximum number of iterationsOutput port: 2^power of iterationNode 4 Loop EndMark the end of the loop and collect the resultsStandard settingsSelect Row key policy: Use row IDs by appending a suffixInput port: 2^power of iterationOutput port: Table with 2^power for iterations 0 to 9 "],["loop-on-a-set-of-columns.html", "Loop on a set of columns", " Loop on a set of columns Running a set of columns (variables) through the same workflow is sometimes convenient. This can be done with the Column List Loop. In the simple demonstration example, five columns of random numbers, which are normalized to a range of 0 to 1.0 are created. The values are then run through a loop that multiplies each number by 1000 and rounds the result to two decimal places using a Math Formula node. The workflow is shown in Figure 3.18 (file: Figure3.18WorkflowFor.knwf) and node descriptions are in Table 3.9. The data generator output is in Table 3.9, and the resultant output of the loop is in Table 3.10. Figure 3.18: Simple example of Column List loop. "],["node-descriptions-for-figure-3.18-workflow.html", "Node descriptions for Figure 3.18 workflow", " Node descriptions for Figure 3.18 workflow .cl-2ea5fd20{}.cl-2e94b1f0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e94b204{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2e9c5216{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e9c522a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2e9c7afc{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e9c7b06{width:7.5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e9c7b10{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e9c7b1a{width:7.5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e9c7b1b{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2e9c7b24{width:7.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.8: KNIME nodes. NodeDescriptionsInput and output portsNode 1 Data GeneratorCreates a set of random numbers normalized to 0 to 1.0Upper output port: KNIME table with five random numbers plus cluster IDLower output port: Cluster centers (not used here)Node 2 Column FilterFilter the input data table to remove the cluster column.Column Filter- Include: Universe_0_ through Universe_0_4- Exclude: Cluster MembershipInput port: KNIME table with five random numbers plus cluster IDOutput port: KNIME table with five random numbersNode 3 Column List Loop StartStarts a loop that iterates over a list of columnsStandard settings- Include: Universe_0_ through Universe_0_4- Exclude: No entryInput port: KNIME table with five random numbers Output port: KNIME table with filtered columnsNode 4 Column Rename (Regex)This renames Universe_0_ through Universe_0_4 for input to the Math FormulaMain Configuration- Search String (regexp): (.+)- (See: https://www.regular-expressions.info/tutorial.html for a tutorial on regexp)- Replacement: UniverseInput port: KNIME table with filtered columnsOutput port: KNIME table with renamed columnsNode 5 Math FormulaMath expression- Expression: 1000*Input- Append Column: 1000*InputInput port: KNIME table with renamed columnsOutput port: KNIME table with renamed columns and 1000*Input valuesNode 6 Loop End(Column Append)Ends the Column List Loop- Loop End Configuration- Use defautsInput port: KNIME table with renamed columns and 1000*Input valuesOutput port: Collected results (See Table 3.8) "],["inputs-and-outputs-of-the-loop-on-columns.html", "Inputs and outputs of the loop on columns", " Inputs and outputs of the loop on columns .cl-2ed599d6{}.cl-2ec3f26c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2ecb066a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2ecb067e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2ecb067f{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-2ecb0688{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:10pt;line-height: 0.5;background-color:transparent;}.cl-2ecb3d56{width:0.6in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ecb3d60{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ecb3d6a{width:0.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ecb3d74{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ecb3d75{width:0.6in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ecb3d76{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.9: First five rows of the input to the loop. RowIDV0V1V2V3V4Row00.7440.9310.3190.6710.660Row10.6630.9950.3230.5240.597Row20.6110.8460.1540.3510.616Row30.7290.9150.2520.6500.736Row40.7970.8490.1820.6600.798 .cl-2f00cd5e{}.cl-2ef2cf38{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2ef892b0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2ef892c4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2ef892ce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-2ef892cf{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:10pt;line-height: 0.5;background-color:transparent;}.cl-2ef8b484{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ef8b48e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ef8b498{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ef8b499{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ef8b49a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ef8b4a2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 3.10: First five rows of the output of the loop. Row ID1000*V01000*V11000*V2X100V31000*V4Row0744931319671660Row1663995323524597Row2611846154351616Row3729915252650736Row4797849182660798 "],["appendix-1-integrating-r-into-knime.html", "Appendix 1: Integrating R into KNIME", " Appendix 1: Integrating R into KNIME While KNIME has extensive capabilities for preparing, viewing, and analyzing data, many specialized tools and techniques from R can be integrated into KNIME workflows. The following steps are required to incorporate R into KNIME. Install the KNIME Interactive R Statistics Integration. In KNIME Analytics Platform, go to File → Install KNIME Extensions…The KNIME Interactive R Statistics Integration can be found under KNIME &amp; Extensions or by entering R integration into the search box. Download and install R and all required packages as described in the R installation and R packages installation Sections. Configure the KNIME Interactive R Statistics Integration by selecting file =&gt; Preferences =&gt; KNIME and R. Enter the path to R and set the buffer size to 256. Click Apply and then Apply and Close. Figure A.1: Configuring the R extension. At this point, the base functions in R will be available in KNIME. There are thousands of optional R packages which can also be used in KNIME. Any optional package must be installed using R and then loaded using the R library() function. These will be indicated in the text where optional packages have been used. "],["appendix-2-regex-for-search-patterns.html", "Appendix 2: Regex for search patterns", " Appendix 2: Regex for search patterns A Regular Expression is a pattern to specify a certain text string and a way to find, format, and manipulate text. Regular Expressions (abbreviated as regex) are used in several KNIME nodes, including Column Filter, Row Filter, Column Rename (Regex), and Constant Value Column Filter, to perform transformations and searches. Regex is somewhat confusing at first, but it is useful to learn to take full advantage of KNIME. Luckily, several free online tools are available to test your regex before using it in a KNIME node. A good site to use is Regular Expressions 101. Also recommended is an excellent introduction from O'Reilly: An introduction to regular expressions. Regex is used in many programming languages in addition to KNIME. Unfortunately, the syntax differs for Python, C#, Ruby, PHP, and other implementations. A partial list of Regex syntax is shown in the following Table A2.1. Examples of using the syntax are shown in Table A2.2. Table A2.1 Regex Syntax .cl-2f278ce6{}.cl-2f17c2a2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f1ccf4a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f1ccf54{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f1ccf55{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-2f1ccf5e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-2f1cee94{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f1cee9e{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f1ceea8{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f1ceea9{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f1ceeb2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f1ceeb3{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}SyntaxDescription?Optional part of expression; match 0 or 1 time*Match 0 or more times+Match 1 or more times[ ]Range of acceptable values{ }Repeat with exactly n characters|Alternative execution (or) ( )Grouping characters or extracting substringsiCase insensitive^Anchor to the beginning of the string or negation$Anchor to the end of the string.Arbitrary character "],["regex-examples.html", "Regex examples", " Regex examples Table A2.2 Examples of regex using KNIME node Column Rename (Regex) .cl-2f5f9708{}.cl-2f4e3cb0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f557124{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f55712e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f557138{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-2f557139{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-2f559e9c{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eb0{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eb1{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eb2{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eba{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ebb{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ec4{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ec5{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ece{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ecf{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ed8{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ed9{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ee2{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ee3{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ee4{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eec{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559eed{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ef6{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ef7{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f559ef8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}MatchSyntaxReplace withOld nameNew.nameletter e at the end of namee$e2TableTable2TradeTrade2TestTestToonToonTalentTalentmatch a through g[a-g]-TableT—l- TradeTr----TestT-stToonToonTalentT-l-ntmatch o[o]eTableTableTradeTradeTestTestToonTeonTalentTalentmatch o twice[o]{2}eTableTableTradeTradeTestTestToonTenTalentTalentMatch T [T]tTabletableTradetradeTesttestToontoonTalenttalentmatch t at end of a string[t]$TTableTableTradeTradeTestTesTToonToonTalentTalenTreplace blanks with spaces\\sTableTableTradeTradeTestTestT o nToonT alentTalent "],["data-preparation.html", "Chapter 4 Data Preparation", " Chapter 4 Data Preparation Data preparation includes obtaining and cleaning data, feature engineering, and exploratory analysis. Data analysts report that these processes often consume 60 to 90 percent of the time on a project. There are many ways to conduct data preparation processes, and many steps might be taken before the data is ready for analysis. It is essential to document whatever steps are taken to join, clean, transform, or otherwise prepare the data to reference when new data is analyzed.6 Related terms include data wrangling and data munging.↩︎ "],["obtaining-the-needed-data.html", "Obtaining the needed data", " Obtaining the needed data One aspect of the analytics process that surprises many newcomers is that a company's or organization's data warehouse may not provide the needed data in the correct form. The data must be assembled, cleaned, and custom-fitted to the analytics problem. This process is most efficient and effective when the analyst has good knowledge of the business or if a domain expert is on the project team. External data from the web, government, and commercial sources may be needed and integrated into a functional structure along with data from an organization's internal systems. External weather, traffic, calendar, or census data might be required. Functions such as joins can link records between two or more databases by matching key fields. Most predictive and data mining software, including KNIME, requires that the data to be analyzed is in a well-formed tabular structure or flat file. Variables should be in the columns, and observations in the rows. The data table must be transposed if the data source has variables in the rows and observations in the columns, It is also imperative that the proper type of data is available. For example, if a predictive model is to be developed, it is necessary to have both predictors and outcome variables. If a binary outcome is to be predicted, there must be enough instances of both values. For example, a predictive model to identify fraud requires both fraudulent and not fraudulent observations. As the data is assembled, it may not be appropriate or sufficient to address the problem identified in the first step. Then, the business problem might have to be revised or new ways explored to obtain the required data. "],["data-cleaning.html", "Data cleaning", " Data cleaning A data set might include inaccurate, incomplete, or inconsistent values, duplicate records, spelling errors in texts or labels, or simply errors from the original data entry. Analyzing data with such mistakes can lead to incorrect or misleading results. Data cleaning (aka data scrubbing or data cleansing) is extremely important before a model is built. It is not as simple as deleting records with apparent problems. Instead, it is important to maximize accuracy while not removing valuable information. The objective is to ensure that the data set used for modeling is of the highest quality. Some of the activities conducted in the data cleaning process include: Removing unneeded columns (variables) and or rows. Removing duplicate observations. Removing variables that have constant values for all observations. Removing data out of scope and not within the required time frame. Finding and correcting impossible or non-sensible values where logical constraints can be specified. (For example, age in years should equal current year minus birth year, population density should equal total population divided by area, etc.) Identifying and dealing with outliers. Identifying and dealing with missing values. Finding misspellings, out-of-range, or impossible values. (For example, ensuring that dates, geographic regions, and other variables fall into acceptable ranges.) Making sure that the formats and units of measurement are consistent. (For example, have the variables measured the same way over time or have the data definitions been changed? Or are the variables from different data sets available at the same level of granularity?) Ensuring that regular expressions such as phone numbers, zip codes, social security numbers, etc., are in a consistent, correct, and usable format. The preceding may seem imposing, but it is only a partial list of what steps might be needed. Also, some of the listed activities may not be relevant to a particular project. There is no straightforward process to follow since it depends on the specific problem definition and predictive models used. "],["data-cleaning-node-descriptions.html", "Data cleaning node descriptions", " Data cleaning node descriptions KNIME provides several nodes that can be used for cleaning the data. (Figure 4.1) Figure 4.1: Some of the KNIME nodes useful for data cleaning. "],["missing-values.html", "Missing values", " Missing values The presence of missing values is one of the most challenging problems in analytics. In an ideal situation, there would be valid values for every observation. However, some missing values will be present for some of the variables in most real-world data sets. If missing values are found, the best thing to do is go back to sources and find the value for the missing information. While it would be great if the required values could be found, in practice, it is unlikely. Missing values can be indicated in many ways in a data set, so analysts need to look for such indicators. Some of the ways that missing values are indicated in data sets include the following: Null 99, 999, - 999, etc. -1 ? . NA None NaN Somemetimes more than one of the indicators can occur in a single data set. In such cases, the code identifying missing values may differ among variables. Missing values occur for many reasons. Missing values could be generated due to structural reasons. For example, a variable might ask whether a person is a homeowner. If yes, a question might ask for the home's approximate value. If not, the home's value is missing, as it should be. In survey research, it is quite common for respondents to refuse to answer personal questions such as annual income. Respondents may not know the answer to the question or consider the information private. When missing values are found in a data set, consideration of the following questions can aid in data preparation: Why is the data missing? What does “missing” mean in the context of the situation? Refusal? Does not apply? Error? Not collected? How many cases contain missing data? Is data missing for key variables? What if cases with missing data are dropped? What will be the impact on the analysis? When the model is deployed using new data, what will be done with missing data in the new sample? "],["types-of-missing-values.html", "Types of missing values", " Types of missing values A classification scheme for missing values developed by (Rubin 1976). stipulated three types of missing values: MCAR - Missing completely at random. MAR - Missing at random. MNAR - Missing, not at random. MCAR is the most favorable situation since the missing values are not related to target or predictor values. The observations with missing values should have similar distributions as those without missing values. The missing values in the rows of a data set are assumed to result from random processes. For example, if a sensor is used to collect measurements in a manufacturing process, there may be random malfunctions of the sensor itself. Despite the convenience of assuming MCAR, it is often unrealistic. MAR means systematic differences exist between the observations with versus those without missing values. MAR assumes that missing values in a variable are related to values of other predictor variables. For example, income might be related to education and age. An estimate of income could be derived from known values of age and education. MAR is a more realistic assumption than MCAR, and many missing data imputation methods start with the MAR assumption. MNAR refers to situations where the likelihood of a value being missing is not related to other variables but to the value itself. For example, in a data set on creditworthiness, a question on past personal bankruptcies may be left blank by persons who did declare bankruptcy. MNAR is the most pernicious type of missingness. It is difficult to determine whether missing values are MNAR versus MAR or MCAR, but domain knowledge can be helpful in identifying when MNAR is present. References "],["handling-missing-values.html", "Handling missing values", " Handling missing values If the proportion of observations with missing information is small in a large data set (e.g., less than 1%), those observations may be deleted. Deleting such observations is known as listwise deletion. Before dropping cases, however, it is essential to check whether the missing values are concentrated in just a couple of variables or if many or most of the observations have at least one missing value. In the latter case, it is possible, even with a small percentage of missing values, that a data set with thousands of observations could be reduced to only hundreds using listwise deletion. For example, assume that each of the 40 variables in a sample of 10,000 cases has 5% of the values missing spread randomly and independently throughout. The chance that a given record will have complete data and thus escape being deleted is (0.9540)40 = .1285. Therefore, more than 85% of the cases may be dropped, leaving only a sample of 1,285 cases. Another approach to consider is to delete columns with large percentages of missing data. For example, if 75% of observations on a particular variable are missing, the column might be deleted. This, of course, should not be done if the situation is deemed MNAR. The presence of a missing value can itself be important and predictive.7 Finally, there are methods for imputing values for missing data. Imputation assumes values are missing at random. The advantage of using imputation is that observations are not dropped from the analysis, which could lead to bias or poorer estimates. It is possible to empirically evaluate what threshold level missing values would be optimal by running a model with varying the percentage from 0 to 100% and checking model performance.↩︎ "],["excessive-missing-values.html", "Excessive missing values", " Excessive missing values In some cases, columns (variables) can have a large percentage of missing values. For example, imputing the missing information might distort the analysis results if the percentage of missing values in a variable is greater than 50%, although, to be clear, this is an arbitrary threshold. One approach is to compare the results of an analysis with the variable dropped with the results if the missing values are imputed. To demonstrate the methods available in KNIME, the following data table (4.1) with several data types and arbitrary numbers of missing values was created using the Table Creator node. The first two demonstrations are shown in the workflow in Figure 4.2 (file: WorkflowForFigure4.2.knwf ) and utilize the Missing Value node. In the upper workflow imputations were made for the integer, double, and string variables. In the lower workflow, any row with one or more missing values was deleted. The node descriptions are in Table 4.2. .cl-2fa5357e{}.cl-2f9342ba{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f9342c4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f993512{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f993526{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-2f993527{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-2f99581c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995830{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995831{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995832{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f99583a{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f99583b{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995844{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995845{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995846{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995847{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f99584e{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f99584f{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995858{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995859{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995862{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f995863{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.1: Data table created for missing value demonstration. RowIDVar1Var2Var3Var4Var5Proportion of row missingRow010aa13.60.0Row16bb?8.30.2Row2?c??2.10.6Row34??3?0.6Row411ed?5.30.2Row5??d??0.8Row69gg?6.50.2Row712ad?7.30.2Row8?s?63.40.4Proportion of column missing0.330.220.330.670.22 Figure 4.2: Using the Missing Value node. "],["node-descriptions-for-figure-4.2-workflow.html", "Node descriptions for Figure 4.2 workflow", " Node descriptions for Figure 4.2 workflow .cl-2fd473c0{}.cl-2fc4d442{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2fc4d456{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2fcac816{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2fcac82a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2fcaf228{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fcaf232{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fcaf23c{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fcaf23d{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fcaf246{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fcaf250{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.2: KNIME nodes NodesDescriptionsInput and output portsNode 1Table CreatorCreate five variables: Var1-Var5 with missing valuesOutput port: Table with created values (9 rows by 5 columns)Node 2Missing valueDefault: imputation- Number (double): Mean- String: Most frequent value- Number (integer) MedianInput port: Table with created values (9 rows by 5 columns)Output port: Table with imputed values for missing data (9 rows by 5 columns)Node 3Missing ValueDefault: Remove rows with missing values- Number (double): Remove Row- String: Remove Row- Number (integer) Remove RowNote that an error is raised here. That signals that the value heading methods being used will not work in PMML 4.2 the standard for exchanging models among different programs. This is not a problem in the present example.Input port: Table with created values.Output port: Table with rows removed that had missing values (1 row by 5 columns) "],["results-from-dropping-rows-with-missing-values.html", "Results from dropping rows with missing values", " Results from dropping rows with missing values The cell values that were imputed are shown in bold in Table 4.3. Notice that row 5 now has no missing values, but all but one value was imputed. Variable Var4 had only three values, the median of which was 3. Now all but two values are threes. While this demonstration shows how imputation works with the Missing Value node, it also shows that the results may not be desirable. .cl-3005a6d4{}.cl-2ff47472{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2ff4747c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2ffb7dee{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2ffb7df8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-2ffba31e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ffba332{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ffba333{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ffba33c{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ffba346{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2ffba347{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.3: Imputation results. RowIDVar1Var2Var3Var4Var5Row010.0aa13.60Row16.0bb38.30Row28.7cd32.10Row340.0ad35.21Row411.0ed35.30Row58.7af35.21Row69.0gd36.50Row712.0ac37.30Row88.7sd63.40 Table 4.4 shows the data table after any row with at least a single missing value was removed. Only Row0 was retained, again demonstrating that care must be taken when using the Missing Value node. .cl-302e8806{}.cl-30201f46{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30201f5a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30256938{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3025694c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-30259610{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30259624{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30259625{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3025962e{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.4: Results with row removal for at least one missing value. RowIDVar1Var2Var3Var4Var5Row010aa13.6 "],["dropping-rows-with-greater-than-specified-proportion-of-missings.html", "Dropping rows with greater than specified proportion of missings", " Dropping rows with greater than specified proportion of missings Instead of dropping rows with only one or more missing values, it might be desirable to drop rows only if the proportion of missing values is greater than some pre-specified rate. Another approach might be to drop columns only if the proportion of missing values in the column is greater than a given rate. The upper workflow in Figure 4.3 drops rows if the proportion of missing values in a row exceeds a threshold set in the Row Filter. The lower workflow in Figure 4.3 (file: WorkflowForFigure4_3.knwf) removes columns where the proportion of missing values exceeds a threshold. Node descriptions are in Table 4.5. Figure 4.3: Workflows to drop rows or columns with excessive missing values. "],["node-descriptions-for-figure-4.3-workflow.html", "Node descriptions for Figure 4.3 workflow", " Node descriptions for Figure 4.3 workflow .cl-30608b80{}.cl-3050fa30{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3050fa44{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3056a796{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3056a7aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3056c708{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3056c712{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3056c713{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3056c714{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3056c71c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3056c71d{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.5: KNIME nodes NodesDescriptionsInput and output portsNode 1Table CreatorCreate five variables Var1 -Var5 with missing valuesOutput port: Table with created values (9 rows by 5 columns)Node 2Column AggregatorGroups and aggregates the columns listed.Columns- Aggregation columns.- Var1-Var5.Options- Column name: Count.- Aggregation method: Count.- Check Missing box.- Column name: Missing value count.- Aggregation method: Missing value count.Input port: Table with created values (9 rows by 5 columns)Output port: Input table plus Count and Missing value count columns (9 rows by 7 columns) Node 3Math FormulaCalculate the proportion missing.Math Expression.- Table with created values.- Append Column: Proportion missing.Input port: Input table plus Count and Missing value count columns (9 rows by 7 columns)Output port: Input table plus column with proportion missing (9 rows by 8 columns)Node 4Row FilterFilter criteria- Column to test: Proportion missing.- Select Exclude rows by attribute value.- Select; use range checking.- lower bound: 0.3.Input port: Input table plus column with proportion missing (9 rows by 8 columns)Output port: Rows with less than 0.3 proportion of missing values (5 rows by 8 columns)Node 5Column FilterFilter - Include: Var1-Var5.- Exclude: Count Missing value count Proportion missingInput: Rows with less than 0.3 proportion of missing values (5 rows by 8 columns)Output: Var1-Var5 for rows with less than 0.3 proportion of missing values. (5 rows by 6 columns)Node 6Missing Value Column FilterConfiguration- Include: Var1-Var5.- Missing value threshold (in %): 30.Input port: Table with created values (9 rows by 5 columns)Output port: Var2 and Var5 (other variables had more than 0.3 proportion of missing values) (9 rows by 2 columns) "],["section.html", "", " Tables 4.6 and 4.7 show the results from the workflows in Figure 4.3. .cl-309b1fd4{}.cl-3080f730{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3080f73a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30869226{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3086923a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-3086b5e4{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b5ee{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b5ef{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b5f8{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b5f9{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b602{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b603{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b60c{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b616{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b617{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b620{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3086b621{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.6: Output from Node 5 in Figure 4.3 workflow. RowIDVar1Var2Var3Var4Var5Proportion of row missingRow010aa13.60.0Row16bb?8.30.2Row411ed?5.30.2Row69gd?6.50.2Row712ac?7.30.2 .cl-30c46088{}.cl-30b56790{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30b567a4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30bb70cc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-30bb70d6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-30bb70e0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-30bb97f0{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30bb97fa{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30bb9804{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30bb9805{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.7: Output from Node 6 in Figure 4.3 workflow. RowIDVar2Var5Row0a3.6Row1b8.3Row2c2.1Row3??Row4e5.3Row5??Row6g6.5Row7a7.3Row8s3.4 "],["flagging-missing-values.html", "Flagging missing values", " Flagging missing values The fact that a column has a missing value might be informative, so capturing that information could be useful. For example, the variable \"income\" might be missing in a loan default prediction model. The fact that the variable is missing can signal a problem and predict a likely default. The workflow in Figure 4.4 (file: WorkflowForFigure4.4.knwf) shows how to convert a variable with a high percentage of missing values into a string variable that indicates \"Missing\" or \"Not missing .\"The column with the high percentage of missing values is converted to a string variable using Number To String, and then the Rule Engine is used to create the binary string indicating whether the entry is missing. Node descriptions are in Table 4.8, and the output from Node 3 is in Table 4.9. Figure 4.4: Converting missing values to an indicator variable. "],["node-descriptions-for-figure-4.4-workflow.html", "Node descriptions for Figure 4.4 workflow", " Node descriptions for Figure 4.4 workflow .cl-30f1c276{}.cl-30e2a0de{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30e2a0f2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-30e858bc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-30e858c6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-30e874e6{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30e874e7{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30e874f0{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30e874fa{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30e874fb{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-30e87504{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.8: KNIME nodes NodesDescriptionsInput and output portsNode 1Table CreatorCreate five variables Var1-Var5 with missing valueOutput port: Table with created valuesNode 2Number to StringOptionsInclude: Var4Exclude Var1 and Var5Input port: Table with created valuesOutput port: Table with Var4 converted to stringNode 3Rule EngineRule EditorExpressionISSING $Var4$ =&gt; \"Missing\"TRUE =&gt; \"Not missing\"Check: Append Column: Var4 MissingInput port: Table with Var4 converted to stringOutput port: Input table plus added column with string variable indicating Var3 Missing or Not missing "],["results-from-workflow-in-figure-4.4-workflow.html", "Results from workflow in Figure 4.4 workflow", " Results from workflow in Figure 4.4 workflow .cl-31224478{}.cl-310fa566{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-310fa57a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-311842de{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-311842e8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-311842f2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-311842f3{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-31186c8c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186c96{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186ca0{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186caa{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cab{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cac{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cb4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cb5{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cb6{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cb7{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cbe{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31186cbf{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.9: Output of Node 3 in Figure 4.4 workflow. RowIDVar1Var2Var3Var4Var5Var4 MissingRow010aa13.6Not missingRow16bb?8.3MissingRow2?c??2.1MissingRow34??3?Not missingRow411ed?5.3MissingRow5??f??MissingRow69gd?6.5MissingRow712ac?7.3MissingRow8?s?63.4Not missing Var4 Missing can now be used as an indicator in place of Var4. If Var4 Missing is used in predictive models, then Var4 should not be included. "],["imputation-methods.html", "Imputation methods", " Imputation methods Imputation refers to substituting a value to replace the missing values in a data set. (If MNAR is suspected, the imputation techniques discussed in the following should not be used since the results of analyses can be biased and misleading.) Imputation using the Missing Value node was discussed above. Commonly used imputation methods include the following: For numeric variables: Substitute a constant value for all missing values in numeric variables. Substitute missing values with the mean or median of the non-missing values. Regress non-missing values of a variable on other variables in the data set and then use the regression equation to predict the values in the observations with the missing values. Use k nearest neighbors to find observations with similar values on the non-missing variables. Then use those observations to impute the missing values, for example, by taking the average of the non-missing values from k nearest neighbors. For categorical variables: Substitute the mode of the non-missing values for the missing values. Explicitly consider the missing values as simply another level of the categorical variable. Use a model to predict the category level for the missing values from non-missing observations. One such technique to consider is decision trees. "],["nodes-for-handling-missing-values-in-knime.html", "Nodes for handling missing values in KNIME", " Nodes for handling missing values in KNIME Missing values for each variable in a data set can be identified using the KNIME Statistics node. The KNIME node \"Missing Value\" handles missing values for numeric and string variables. The node can replace all numeric and string variables in the same manner, or the type of imputation can be set differently for each variable. The approach to handling missing values depends on the type of variable. The following options are available in the KNIME Missing Value node for numeric variables: For any variable with missing values: Do nothing. (Many algorithms will drop cases with missing values.) Remove the row with the missing value. Impute a fixed value – replace missing values with a user-specified constant for strings or numeric variables. Create a binary variable Missing / Not missing. For numeric variables with missing values: Replace values with a summary statistic – the maximum, minimum, mean, median, or rounded mean. For time-series data with missing values, different approaches to imputation are available in KNIME: Estimate a missing value via increasing or decreasing linear interpolation. Use a moving average of a specified number of look-ahead and look-behind values. For string or nominal variables: Use most frequent value – replace the missing values with the mode of the variable. Additional methods for missing value imputation are available in R packages which can be incorporated into KNIME workflows, such as: MICE (Multivariate Imputation by Chained Equations) (Buurenmice 2022). Amelia (A Program for Missing Data) (Honaker and G. King 2021). VIM (Visualization and Imputation of Missing Values) (Templ 2021). mlr (Machine learning in R) (Bischl et al. 2016). References "],["outliers.html", "Outliers", " Outliers Outliers are defined as values of a numeric variable that are unusually different (extremely high or extremely low) from other values of the variable in a data set. While this may seem like an obvious criterion, whether a value is an outlier is not always easy to discern. Identifying and dealing with extreme outliers is important since these can cause problems for many analytics models. Outliers can lead to biased or incorrect results. Outlying values may contain interesting or valuable information in other cases and should be carefully investigated. In fact, identifying outliers is often the goal of analysis in areas such as credit card fraud detection, detecting voting irregularities, network intrusion, and climate studies. Outliers are sometimes due to data entry errors, e.g., when an extra zero or two is added to or dropped from a value by mistake. In other cases, multiple outlying values can occur for various reasons. Domain knowledge helps explain whether an observation is an outlier or a valid value. For example, air travel, as measured by revenue passenger miles (RPM) by month, shows a sharp decline in the months following 9/11/2000 due to the attacks on the World Trade Center and the Pentagon. In general, removing outliers without further investigation is not a good idea. If there is confidence that an outlier is an error, the observation can be removed if the fraction of cases with outliers is tiny. A recommended approach for identifying outliers is to use multiple techniques, including both visual and quantitative tools (Aquinis et al 2013). Two categories of outlier detection methods are available: univariate and multivariate techniques. Univariate techniques examine each variable in isolation, while multivariate techniques assess the distance of an observation from a central summary measure such as a centroid. "],["univariate-outlier-detection-methods.html", "Univariate outlier detection methods", " Univariate outlier detection methods Graphical methods for identifying potential outliers include box and whisker plots, density plots, and histograms. The workflow in Figure 4.5 (file: WorkflowForFigure4.5.knwf) provides an example of each of these graphics to data on displacement and city and highway mileage per gallon from the data set. Figure 4.5: Workflow for graphical detection of potential outliers. Each component (Nodes 2, 4, and 6) in Figure 4.5 allows the user to select variables to include. In the case of histograms in Node 6, the user can also specify the number of bins to create. Node descriptions for Figure 4.5 are provided in Table 4.10. "],["node-descriptions-for-figure-4.5-workflow.html", "Node descriptions for Figure 4.5 workflow", " Node descriptions for Figure 4.5 workflow .cl-3150c488{}.cl-31430294{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-314302b2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3148e09c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3148e0a6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-31490612{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3149061c{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3149061d{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31490626{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31490627{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31490630{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.10: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead MPV.csvOutput port: Table with displ cty and hwy miles per gallon (234 rows by 2 columns)Node 2Box plotsComponent that loops through selected input variables and creating boxplots of each variableNodes in the component are shown below:- Node C1: Component Input- Node C2: Column Filter Configuration- - Include cty and Hwy- Node C3: Column List Start- - Include variables using Flow Variables- Node C4: Box Plot- - Include variables using Flow Variables- Node C5: Image to Table- - Column name controlled by Flow Variable- Node C6: Renderer to Image- Node C7: Loop End (Column Append)- Node C8: Component Output- - Exclude: column-filterInput port: Table with displ cty and hwy miles per gallon (234 rows by 2 columns)Output port: Table with box plotsNode 3Excel WriterWrite Excel file to Box.xlsx Relative to current workflowInput port: BoxplotsNode 4Density plotsComponent that loops through selected input variables and creating density plots of each variableNodes in the component are shown below:- Node C1: Component Input- Node C2: Column Filter Configuration- - Include cty and Hwy- Node C3: Column List Loop Start- - Include variable using flow variables- Node C3: Column List Loop Start- - Include variable using flow variables- Node C5: Merge Variables- - Merge the density variable with bandwidth- Node C6: 1D Kernel Density Plot- Node C7: Image to Table- Node C8: Loop End (Column Append)- Node C9: Component OutputInput port: Table with displ cty and hwy miles per gallon (234 rows by 2 columns)Output port: Table with density plotsNode 5Excel WriterWrite Excel file to Density.xlsx Relative to current workflowInput port: Density plotsNode 6HistogramsComponent that loops through selected input variables and creating histograms of each variableNodes in the component are shown below:- Node C1: Component Input- Node C2: Column Filter Configuration- - Include cty and Hwy- Node C3: Column List Loop Start- Include variable using flow variables- Node C4: Integer Configuration- Node C5: Merge Variables- - Merge the histogram variable with the number of bins- Node C6: Histogram- - Parameters “num_bins”, “title” and “cat” controlled by flow variables- Node C7: Image To Table- - Column name controlled by flow variable- C8 Renderer to Image- - Column name controlled by flow variable- Node C9; Loop end (Column Image Append)- Node C10: Component OutputInput port: Table with displ cty and hwy miles per gallon (234 rows by 2 columns)Output port: Table with histograms plotsNode 7Excel WriterWrite Excel file to Histogram.xlsx Relative to current workflowInput port: Histograms "],["section-1.html", "", " The graphs copied from the Excel files are in Figures 4.6 through 4.8. Figure 4.6: Box plots of city and highway MPG. Figure 4.7: Density plots of city and highway MPG. Figure 4.8: Histograms for displacement, city and highway MPG. The potential outliers are clearly seen in the box plots and histograms for city miles per gallon and highway miles per gallon. Displacement is skewed to the right, but no outliers are detected. Both the density plots and the histograms for “city MPG” and “highway MPG” suggest the existence of two underlying distributions. The correlations among the three variables were obtained and are shown in Table 4.11. .cl-3189f492{}.cl-317c8b4a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-317c8b5e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3181f382{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3181f396{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-3181f397{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:6pt;line-height: 0.9;background-color:transparent;}.cl-318213e4{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-318213ee{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-318213ef{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-318213f8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-318213f9{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31821402{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.11: Correlation matrix for MPG data. displctyhwydispl1.00.-0.80-0.77cty-0.801.000.96hwy-0.770.961.00 "],["section-2.html", "", " So, to further explore the data, the median value for displacement (3.3) was found using the Statistics node in KNIME and used to create two sets of histograms using the Row Splitter node, one for observations with displacement below the median and one for displacement above the median. (The workflow for this analysis is not shown.) The resulting histograms for “City MPG” and “Highway MPG” are shown in Figure 4.9. Two separate distributions are clear, suggesting an interaction between miles per gallon and engine displacement. The highway MPG for larger displacement engines still shows considerable right skew. The distributions for the lower displacement engines are more symmetric but still have several potential outliers. Figure 4.9: Possible interaction between highway MPG and city MPG. Such graphic methods are useful for visually inspecting variables, but there are other approaches that involve statistical analysis. One common practice is for variables assumed to be normally distributed; a cutoff rule based on two or three standard deviations from the mean can be used. A value falling more than two standard deviations from the mean happens in about 5% of cases. Values falling more than three standard deviations from the mean happen only in about 0.3% of cases. One weakness of this approach is that the standard deviations can be distorted by outliers, which can limit the identification of outliers. Also, a variable should be checked for symmetry before applying the standard deviation rule for detecting extreme values. Skewness can be used as an indicator of symmetry with the following rules of thumb can be used to assess symmetry: If the absolute value of skewness is less than and 0.5, then a variable can be assumed to be at least approximately symmetric. If the absolute skewness value is between 0.5 and 1.0, then the variable is moderately somewhat skewed and not symmetric. For skewness values greater than 1.0, then the variable is moderately skewed, and the variable is not symmetric. "],["section-3.html", "", " Using a method based on non-parametric statistics is frequently thought to be a better way to identify potential outliers. The idea is based on Tukey's method, which uses upper and lower \"fences\" as limits to detect extreme values can be used (John Tukey 1977) The formulas are based on the interquartile range (IQR), which is the difference between the first (Q1) and third (Q3) quartiles of a variable or IQR = Q3 – Q1. If all variable values are ranked from highest to lowest, then Q1 is the point below which between 25% of the values lie, and Q3 is the point below which 75% of the values lie. A more general method depends on the cutoff value of k, set by the analyst. Values that fall more than k times the interquartile range above Q3 or k times the IQR below Q1 are considered extreme values. Lower cutoff = Q1 – k(Q3 - Q1) Upper cutoff = Q3 + k(Q3 - Q1) A typical value for k in the upper and lower cutoffs is 1.5. The multiplier (k) of IRQ can be set by the user set by right-clicking on the \"Check extremes within k IQR\" node and setting k for IQR. A number higher than 1.5 would identify fewer extreme values, while a lower number would identify more extreme ones. The workflow in Figure 4.10 (file: WorkflowForFigure4.10.knwf) uses the IQR method. Node descriptions are in Table 4.12. The upper branch of the workflow checks for extreme values and indicates which, if any, specific observations are outside of the limit. The multiplier of IQR, k, is set by the user. The lower branch of the Figure 4.10 workflow uses the Numeric Outliers node in KNIME. This node summarizes the number of extreme values for each numerical variable in a data set. It allows the user to either remove rows if any column variable is flagged as extreme or to replace the value of each potential outlier with the closest value defined by the lower or upper cutoff in equation 4.1. The results are shown in Table 4.13. Figure 4.10: Workflow to flag outliers. References "],["node-descriptions-for-figure-4.10-workflow.html", "Node descriptions for Figure 4.10 workflow", " Node descriptions for Figure 4.10 workflow .cl-31bb06c2{}.cl-31ab2342{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-31ab234c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-31b0bd02{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-31b0bd16{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-31b0ebf6{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31b0ec00{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31b0ec0a{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31b0ec0b{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31b0ec14{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31b0ec15{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.12: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead MPG.csv.Output port: Table with 236 rows and 3 columns. Node 2Missing ValueDefault:- Number (double): Remove Row.- Number (integer): Remove Row.Input port: Table with 236 rows and 3 columns.Output port: Table with 236 rows and 3 columns with missing values removed.Node 3Check extremes within k IQRComponent to identify extreme values This component requires that R is installed along with KNIME. The component uses an R script to identify extreme value in a data table's columns.Nodes in the component are shown below:- Node C1: Component Input- Node C2: Column Filter- - Select only numeric variables.Node C3: Missing Value- Default:- - Number (double): Remove Row.- - Number (integer): Remove Row.Node C4: Double Configuration- Value entered by dialog.Label: k for IQR.Node C5: R Snippet- Identify rows with extreme values.Node C6: Numeric Outliers- Find summary values of max and min criteria for outliers.Node C7: RowID- Check: Replace RowID with selected column values.Node C8: Joiner- Join input data with identified extreme value rows.Node C9: Row Filter- Remove all rows except those labeled Extreme.- Node C10: Component Output\"Input port: Table with 236 rows and 3 columns with missing values removed.Upper output port: Table with m columns indicating whether the ijth value is outside the range of + or – k IQR (interquartile range) and what the extreme value is.Lower output port: Table with number of observations number of outliers lower IQR fence and upper IQR fence.Node 4Excel WriterInput port: Upper output port of Node 2.Write Excel file to IQRExtremeValues.xlsx relative to the current workflow data area.Node 5Excel WriterInput port: Lower output port of Node 2Write Excel file to IQRSummary.xlsx relative to the current workflow data area. "],["section-4.html", "", " .cl-31e58938{}.cl-31d85c22{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-31d85c2c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-31dd94da{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-31dd94e4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-31dd94ee{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-31dd94ef{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:12pt;line-height: 0.9;background-color:transparent;}.cl-31ddb55a{width:0.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31ddb564{width:0.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31ddb56e{width:0.7in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31ddb56f{width:0.7in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31ddb578{width:0.7in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-31ddb579{width:0.7in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.13: Outliers identified in MPG file. Outlier columnMember countOutlier countLower boundUpper bounddispl2340-0.97.9cty23456.526.5hwy23434.540.5 "],["detecting-multivariate-outliers.html", "Detecting multivariate outliers", " Detecting multivariate outliers To this point, the discussion has focused on univariate outliers. Even if no univariate outliers are found, outliers may be present that can only be detected using multivariate methods. For example, the scatterplot (Figure 4.11) shows an outlier (circled). Figure 4.11: Example of a multivariate outlier. Figure 4.10 clearly shows an outlying observation. However, box plots on each variable, shown in Figure 4.12, do not indicate the presence of an outlier because the outlying value is within the range of both the x and y variables. Figure 4.12: Box plots on X and Y variables. Instead, the Mahalanobis Distance (MDist) can be used to identify multivariate outliers. A detailed discussion of how to do this is in (Cansiz 2020). KNIME does not have a node for computing MDist, so an R Snippet was used as shown in Figure 4.13 (file: WorkflowForFigure4.13.knwf). The node descriptions are in Table 4.14. Table 4.15 shows that observation number 6 produced a much larger value of MDist. Figure 4.13: Workflow to find multivariate outliers. References "],["node-descriptions-for-figure-4.13-workflow.html", "Node descriptions for Figure 4.13 workflow", " Node descriptions for Figure 4.13 workflow .cl-321bcdfe{}.cl-320dc524{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-320dc52e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-32132122{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-32132136{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-32134076{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-32134080{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3213408a{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3213408b{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3213408c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-32134094{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.14: KNIME nodes NodesDescriptionsInput and output portsNode 1 File ReaderRead MultivariateOutlier.csvOutput port: Table with 12 rows and 2 columnsNode 2R SnippetThe R code in this snippet computes the Mahalanobis Distance of the xy points[i]Input port: Table with 12 rows and 2 columnsOutput port: Table with input table of 12 rows and 2 columns of input plus a column with Mahalanobis distances Node 3 Excel WriterWrite Excel file to MultivariateDistance.xlsx relative to the current workflow data areaInput port: Table with input table of 12 rows and 2 columns of input plus a column with Mahalanobis distances .cl-3247549c{}.cl-3236882e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-32368838{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-323cd454{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-323cd468{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 0.75;background-color:transparent;}.cl-323cd469{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:35pt;line-height: 0.75;background-color:transparent;}.cl-323d0140{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-323d0154{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-323d0155{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-323d015e{width:1.3in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-323d015f{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-323d0168{width:1.3in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.15: Mahalanobis distances for each observation. XYMahalanobis distance18.182.34211.021.61313.461.11418.520.48517.690.99640.009.19727.890.04828.790.61935.050.481036.561.121143.151.621243.882.41 "],["handling-outliers.html", "Handling outliers", " Handling outliers After identifying extreme values and potential outliers, the next step is deciding what to do about them. Outlying values could be legitimate, correct values, so routinely deleting what appear to be outliers is not a recommended practice. In fact, in some cases, detecting outliers is the object of analysis in applications such as intrusion detection in computer systems, determining fraud in financial activity, or detecting unusual patterns in medical data (Charu C. Aggarwal 2017). It is up to the analyst to decide whether outliers are legitimate or if they represent errors. If the outliers are not determined to be the results of data entry, measurement, or other data errors, they should not be routinely removed. Removing outliers is unlikely to improve predictive performance, and this can be checked by running predictive analyses with and without the outliers (or with the outliers adjusted to permitted values). If it is deemed necessary to treat or remove outliers, the KNIME node Numeric Outliers detects and provides several options to treat any identified outliers. The treatment options are: Remove each row containing an outlier (although this should only be done with careful consideration).8 Replace each outlier with a missing value indicator. Replace each outlier with the closest value within the permitted interval (known as Winsorizing) (J. Tukey 1962). Sometimes a log or power transformation will reduce variability in a predictor and lessen or remove outliers. The Math node in KNIME can be used to create transformations. An approach to dealing with skewness is binning9 which involves dividing a variable into groups of values. The KNIME node Numeric Binner can define and develop bins; the numeric input variable is transformed into a string of ordinal values. Of course, detail is lost in binning, but this is sometimes a useful approach if there are extreme outliers. To bin a variable, it is useful to first examine the variable's distribution using a histogram and to obtain descriptive statistics such as the minimum, maximum, mean, and median. The analyst needs to specify how the bins are formed by selecting the number of bins and the range of values for each bin. Two ways to set the boundaries or edges of the bins once the number of bins is set are: Make each bin contain an equal (or approximately equal) number of cases. Create bins that have equal width values. References "],["feature-engineering.html", "Feature engineering", " Feature engineering Feature engineering refers to steps to improve the accuracy of predictive models through data transformations, constructions of new variables from existing variables, or acquiring additional variables to enhance model performance. Despite its technical connotation, feature engineering is more of an art than a science learned through experience.10 To begin the process of feature engineering, the first step is to explore the data using descriptive statistics and graphical representations. Exploratory data analysis is an approach/philosophy for data analysis that employs various visual and descriptive statistical techniques to provide insight into a data set. Exploratory analysis is open-ended since the goal is to generate clues about what is happening, which can then open new avenues of investigation (\"hypothesis generation\" rather than the more formal \"hypothesis testing\" featured prominently in many books on statistics). Exploration of the data can also support selecting appropriate modeling techniques, finding underlying structures in the data, and assessing the cleanliness of the data. Terms such as independent variables, predictors, factors, and inputs are typically used by statisticians, while the term features is more prevalent in the context of machine learning. In addition, some authors distinguish between \"raw\" variables and \"features,\" with the latter referring to constructed variables.↩︎ "],["section-5.html", "", " Since exploration does not involve a fixed set of steps or tools, the software used should be easy to use and flexible. Both visual and statistical tools are typically used. Visual techniques for data exploration include the following commonly used graphs: Scatter plots Bar plots Histograms Box and whisker plots Density plots Bubble charts Commonly used descriptive statistics include: Mean, median, mode Variance, standard deviation Range, Max, Min Correlations and covariances Frequencies and percentages Percentiles and quartiles "],["transformations-to-reduce-skewness.html", "Transformations to reduce skewness", " Transformations to reduce skewness Some data mining and predictive techniques work better with at least approximately symmetric variables. While predictor values in machine learning models do not have to be perfectly symmetrical, highly skewed predictors can distort or bias model performance. Some models are overly sensitive to the heavy tails in variable distributions. One quick way to identify non-symmetric distributions is to examine each variable for extreme skewness. Detecting skewness is usually straightforward, using histograms and density plots. Skewness can be reduced by using transformations: For positive or right skew (where the tail of the distribution is heavier on the right side), the following transformations can be applied (listed in order of the strength) to a variable x: where k is a large enough positive number to ensure that the log and square root are applied only to numbers greater than 0.0. (k + x)1/2 (k + x)1/3 log(k + x) 1/(k+x) For negative or left skew (where the tail of the distribution is heavier on the left side), the following transformations can be applied (listed in order of the strength) to a variable x: (k-x).5 , where k is large enough to make (k-x) positive for all observations. x2 x3 xn where n is greater than 3. The square root transformation created a more symmetric distribution for the positive skew in the following example (4.14). The log transformation created a slight negative skew. Which transformation to use is an empirical question and depends on the data. For the negative skew (Figure 4.15), the square root of (k-x) worked best. Figure 4.14: Transformations for positive skew. Figure 4.15: Transformations for negative skew. "],["deriving-new-variables.html", "Deriving new variables", " Deriving new variables New variables can be created using two or more variables already in the data set. Forming new variables requires an understanding of the business problem. For example, a data set on customer purchases may show the number of purchases made in a timeframe and the total dollar expenditure during that timeframe. A new variable can be derived by dividing the total spending by the number of purchases to obtain the average size of purchase transactions. Adding polynomial terms is another way new features are created. For example, in relating age to income, it is likely that income increases with age to a certain point but then decreases. This effect can be captured by creating the age square and including age and age-squared in a predictive model. Features may also interact with one another. The effect of a feature on a prediction might depend upon the value of another feature. Date and time variables read as strings also need to be converted into multiple fields, e.g., a date in the form \"1/1/2000\" to Month = 1, Day of the month = 1, and Year = 2000. "],["example-of-data-preparation.html", "Example of data preparation", " Example of data preparation To illustrate some of the data preparation tasks using KNIME, a slightly modified data set on red wine from UCI will be used. The workflow in Figure 4.16 (file: WorkflowForFigure4.16.knwf) uses the Statistics node in KNIME to obtain descriptive stats on the data set. Node descriptions for the workflow are in Table 4.16. Figure 4.16: Workflow for descriptive statistics. "],["node-descriptions-for-figure-4.16-workflow.html", "Node descriptions for Figure 4.16 workflow", " Node descriptions for Figure 4.16 workflow .cl-3df25c60{}.cl-3de287ae{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3de287b8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3de85e2c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3de87c9a{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de87c9b{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de87ca4{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de87ca5{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de87cae{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de87cb8{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.16: KNIME nodes NodesDescriptionsInput.and.output.nodesNode 1File ReaderRead RedWineData.Output port: KNIME table with 1999 rows and 12 columns.Node 2StatisticsPlace all variables in the Include area.- Check box: Calculate median values.Input port: KNIME table with 1999 rows and 12 columns.Upper output port: Statistics table with 12 rows and 16 columns for all numeric variables.Middle output port: Not used.Lower output port: Not used.Node 3Column FilterPlace the following columns in the Include area:- Min- Max- Mean- Std. deviation- Skewness- No. missing- MedianPlace the remaining columns in the Exclude area.Input port: Statistics table for all numeric variables.Output port: Statistics table with 12 rows and 7 columns for all numeric variables. "],["section-6.html", "", " Table 4.17 shows the results of the analysis. The following variables have high skewness values: residual sugar (4.54); chlorides (5.68); free sulfur dioxide (1.25); total sulfur dioxide (1.52); and sulfates (2.43). These variables are moderately skewed: fixed acidity (0.98); volatile acidity (0.67); and alcohol (0.86). .cl-3e1e098c{}.cl-3e11b1b4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e11b1be{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e169846{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e169850{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e16985a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.75;background-color:transparent;}.cl-3e16985b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 0.75;background-color:transparent;}.cl-3e16985c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 0.75;background-color:transparent;}.cl-3e16985d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 0.75;background-color:transparent;}.cl-3e16b8ee{width:1.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b8ef{width:0.8in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b8f8{width:1.75in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b902{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b903{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b904{width:1.75in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b90c{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e16b90d{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.17: Descriptive statistics on red wine data set. VariableMinMaxMeanStd. deviationSkewnessNo. missingMedianfixed acidity4.6015.908.321.740.9807.90volatile acidity0.121.580.530.180.6720.52citric acid0.001.000.270.190.3200.26residual sugar0.9015.502.541.414.5402.20chlorides0.010.610.090.055.6810.08free sulfur dioxide1.0072.0015.8710.461.25014.00total sulfur dioxide6.00289.0046.4932.901.52138.00density0.991.001.000.000.0721.00pH2.744.013.310.150.1903.31sulfates0.332.000.660.172.4310.62alcohol8.4014.9010.421.070.86010.20quality3.008.005.640.810.2206.00 Five variables have one or two missing values. Since there were a few missing values, the Missing Value node in KNIME will be used in the next workflows to replace the missing data with the median values for the respective variables. Next, KNIME was used to identify potential outliers using the workflow in Figure 4.17 (file: WorkflowForFigure4.17.knwf). Two component nodes were created to identify the outliers, one using the three standard deviation rule and the other using the 1.5 IQR rule. Table 4.18 has the node descriptions for Figure 4.17. Figure 4.17: Workflow to check for outliers. "],["node-descriptions-figure-4.17-workflow.html", "Node descriptions Figure 4.17 workflow", " Node descriptions Figure 4.17 workflow .cl-3e489ecc{}.cl-3e3aeaa2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e3aeaac{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e4055dc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e407260{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e40726a{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e407274{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e407275{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e407276{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e407277{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.18: KNIME nodes NodesDescriptionsInput.and.output.nodesNode 1File ReaderRead RedWineData.Output port: KNIME table with 1999 rows and 12 columns.Node 2Check outliers with IQRThe component uses an R script to identify extreme values in columns of a data table.See Table 4.10 node 3 for details on this component.Input port: KNIME table with 1999 rows and 12 columns.Upper output port: Table with m columns indicating whether the ijth value is outside the range of + or – k IQR (interquartile range) and what the extreme value is.Lower output port: Table with number of observations number of outliers lower IQR fence and upper IQR fence.Node 3Excel WriterWrite Excel file to RedWineIQRExtremeValues.xlsx relative to current workflow data area.Input port: Upper output port of Node 2.Node 4Excel WriterWrite Excel file to RedWineIQRSummary.xls.x relative to current workflow data areaInput port: Lower output port of Node 2. "],["section-7.html", "", " The results of checking for outliers using the 1.50 IQR rule are in Table 4.19 and show a substantial number of outliers for several of the variables. Note that the variables with the largest percentage of outliers (“residual sugar” and “chlorides”) had the highest skew values reported in Table 4.19 (skews of 4.54 and 5.68). Next, a graphical exploration of these two variables was done. .cl-3e6f2b78{}.cl-3e632526{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e632530{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e677450{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e677464{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e677465{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.75;background-color:transparent;}.cl-3e677466{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 0.75;background-color:transparent;}.cl-3e67903e{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e679048{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e679049{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e679052{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e679053{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e679054{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.19: Results of the outlier detection analyses. Column# obs# outliers% outliersfixed acidity1,592493.10%volatile acidity1,592191.20%citric acid1,59210.10%residual sugar1,5921549.70%chlorides1,5921127.00%free sulfur dioxide1,592301.90%total sulfur dioxide1,592553.50%density1,592452.80%pH1,592352.20%sulfates1,592593.70%alcohol1,592130.80%quality1,592281.80% "],["graphical-variable-descriptions.html", "Graphical variable descriptions", " Graphical variable descriptions Next, box plots, density plots, and histograms were created for the two variables with the largest number of 1.5 IQR outliers (“residual sugar” and “chlorides”). The workflow in Figure 4.5 was modified to read the Red Wine data. The charts, shown in Figure 4.18, clearly show the outliers and skewness of these variables. Figure 4.18: Box plots, density plots, and histograms for residual sugar and chlorides. "],["dealing-with-outliers-and-extreme-values.html", "Dealing with outliers and extreme values", " Dealing with outliers and extreme values The variable “residual sugar” will be used to illustrate several alternative ways of dealing with outliers. Table 4.19 and Figure 4.18 show that \"residual sugar\" had many outliers. Using the Math node in KNIME, several transformations of \"residual sugar\" were tried using the workflow in Figure 4.20 (file: WorkflowForFigure4.19.knwf). The transformations tried included (residual sugar)1/2, (residual sugar)1/3, log(residual sugar), and 1/(residual sugar). Only the inverse transformation 1/(residual sugar) created a more symmetric distribution. Node descriptions are in Table 4.20. Figure 4.19: Workflow to assess transformations of the residual sugar variable. "],["node-descriptions-for-figure-4.19-workflow..html", "Node descriptions for Figure 4.19 workflow.", " Node descriptions for Figure 4.19 workflow. .cl-3e9c3762{}.cl-3e903fca{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e903fd4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e9557da{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e9557e4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e957328{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e957332{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e957333{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e95733c{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e95733d{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e95733e{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.20: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead RedWineData.Output port:: KNIME table with 1999 rows and 12 columns.Node 2Column FilterFilter all but column “residual sugar.”Input port: KNIME table with 1999 rows and 12 columns Output port: Data table with column “residual sugar.Node 3Missing ValueRemove any rows with missing values.Remove any rows with missing values.Input port: Data table with column “residual sugar.”Output port: Data table with column “residual sugar” with any missing rows removed.Node 4Math FormulaTransform the “residual sugar” column.Three different runs were made using each of the following formulas:- Math Expression #1- - 1/($residual sugar$)- - Append Column: Inverse of residual sugar.- Math Expression #2- - ln($residual sugar$)- - Append Column: ln of residual sugar.- Math Expression #3- - $residual sugar$^(.5)- - Append Column: sqr root of residual sugar.Input port: Data table with column “residual sugar” with any missing rows removed.Output port: Data table with input table plus column with proportion of missing values for “residual sugar” 1999 rows and 2 columns.Node 5Check outliers with IQRThe component uses an R script to identify extreme values in columns of a data table.See Table 4.10 node 3 for details on this component.Input port: Data table with input table plus column with proportion of missing values for “residual sugar” 1999 rows and 2 columns.Upper output port: Table with m columns indicating whether the ijth value is outside the range of + or – k IQR (interquartile range) and what the extreme value is.Lower output port: Table with number of observations number of outliers lower IQR fence and upper IQR fence.Node 6HistogramCreate a histogram of a single column variableInput port: Data table with input table plus column with proportion of missing values for “residual sugar” 1999 rows and 2 columns "],["section-8.html", "", " The results of the three transformations plus the untransformed “residual sugar” variable are shown in Figure 4.20 and Table 4.21. Figure 4.20: Distribution of residual sugar untransformed and transformed three ways. .cl-3ec300b8{}.cl-3eb78fbc{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3eb78fd0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ebc02f4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ebc02fe{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ebc02ff{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.75;background-color:transparent;}.cl-3ebc0308{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.75;background-color:transparent;}.cl-3ebc0309{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.75;background-color:transparent;}.cl-3ebc2040{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ebc2041{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ebc204a{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ebc2054{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ebc2055{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ebc2056{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 4.21: Outliers in residual sugar variable without transformation plus square root, natural log, and inverse transformations. Column# obs# outliers% outliersresidual sugar1,5991559.70%Square root(residual sugar)1,5991449.00%LN(residual sugar)1,5991217.60%Inverse(residual sugar)1,599704.40% While the inverse of the \"residual sugar\" variable still evidences many outliers when measured with the 1.5 IQR rule, the histogram indicates a reasonably symmetric distribution for the transformed variable. Whether or not this transformation results in improved predictive performance is an empirical question. Ideally, predictive analyses using the non-transformed and transformed variable will be run the results compared. "],["summary-1.html", "Summary", " Summary Data preparation can be tedious, but it is critical that careful attention and time is devoted to cleaning and preparing the data. The performance and usefulness of predictive models depend on having the right data in the right form. The GIGO concept (\"garbage in, garbage out\") was noted by Charles Babbage, who is credited with the first design for a programmable computer: On two occasions, I have been asked, \"Pray, Mr. Babbage, if you put into the machine wrong figures, will the right answers come out?\" ... I am not able rightly to apprehend the kind of confusion of ideas that could provoke such a question. (Babbage 1864) Despite the best efforts directed to data preparation, the results of a predictive analysis may still be incorrect. In such cases the experience and wariness of the analyst must be relied upon. This recalls a quote from a noted colleague regarding evaluating the output of computer analysis: “If something looks wrong, it probably is.” (Summers, n.d.) References "],["appendix-1-r-code-for-figure-4.10-workflow.html", "Appendix 1: R Code for Figure 4.10 workflow", " Appendix 1: R Code for Figure 4.10 workflow .watch-out { line-height: 60% font-size: 80% } data &lt;- knime.in df &lt;- data.frame(matrix(NA,nrow = nrow(data), ncol = ncol(data))) NIQR &lt;- as.character(knime.flow.in[[&quot;double-input&quot;]]) for (j in 1:ncol(data)) { colnames(df)[j] &lt;- paste(colnames(data)[j],&quot;Extremes&quot;) } NIQR&lt;- as.character(knime.flow.in[[&quot;double-input&quot;]]) niqr &lt;- knime.flow.in[[&quot;double-input&quot;]] checkoutliers &lt;- function(dm,l,u) { ifelse( (dm &lt; l | dm &gt; u) ,paste(&quot;Extreme value&quot;,as.character(dm)),&quot;&quot;) } for (j in 1:ncol(data)) { y &lt;- as.matrix(data[j]) q &lt;- quantile(y,probs=c(.25,.75)) IQR &lt;- q[2] - q[1] lbound &lt;- q[1] - niqr*IQR ubound &lt;- q[2] + niqr*IQR df[,j] &lt;- checkoutliers(y,lbound,ubound) } for (j in 1:ncol(df)) { colnames(df)[j] &lt;- paste(colnames(data)[j],&quot;Extreme values&quot;) } indicator &lt;- data.frame(c(rep(0,nrow(df)))) df &lt;- cbind(df,indicator) colnames(df)[ncol(df)] &lt;- paste(&quot;Extreme&quot;) for (i in 1:nrow(df)) { for (j in 1:ncol(df)) { if(substr(df[i,j],1,4) == &quot;Extr&quot;) { df[i,ncol(df)] = 1+df[i,ncol(df)] } } } knime.out &lt;- as.data.frame(df) "],["appendix-2-r-code-for-figure-4.13-workflow.html", "Appendix 2: R Code for Figure 4.13 workflow", " Appendix 2: R Code for Figure 4.13 workflow .watch-out { line-height: 60% font-size: 80% } data &lt;- knime.in mah &lt;- as.data.frame(mahalanobis(data.matrix(data), colMeans(data),cov(data))) knime.out &lt;- cbind(data,mah) "],["dimensionality-reduction.html", "Chapter 5 Dimensionality reduction", " Chapter 5 Dimensionality reduction The number of predictor variables in a data set could be hundreds, thousands, or more in applied situations.11 This might not seem to be a problem – it is frequently said that “more data is better.” Even with a moderately large number of variables, creating thousands of potential predictors is possible. For example, one study predicting the onset of personal bankruptcy among users of credit cards began with 255 potential predictors. Sums, differences, products, and ratios of the 255 initial variables resulted in over 67,000 potential predictors. In practice, having too many variables, especially variables of the wrong kind, could reduce the effectiveness of the business analytics project. The \"curse of dimensionality\" is a label applied to the exponential increase in the number of observations needed to maintain the accuracy of a predictive model. The Hughes phenomenon (Hughes 1968) states that with a fixed number of data points, the predictive performance of a model increases at first as the number of predictors increases but then decreases as further predictors are added. Several simulations and experiments with analytic techniques have shown that some are sensitive to having irrelevant variables tossed into the mix. So, if random variables are included in the mix of potential predictors, this can cause the predictive ability of a model to degrade. The exact effect depends upon the technique used, but many of the techniques suffer from the same problem. More surprisingly, it has also been found that even having too many apparently relevant variables can also reduce overall accuracy. As dimensionality increases, the data set becomes sparser. It will be discussed in a later chapter that validating a predictive model usually requires that the available data be split into two or more subsets, one used for training a model and the other for testing and validation. The implicit assumption is that each of these subsets will have the same pattern of values for variables and all combinations of the variables. Every new dimension increases the chance that the training and other subsets will not be comparable. This means that more samples are needed in the training, test, and validation data sets to be confident of the model's generalizability. References "],["other-problems.html", "Other problems", " Other problems Having too many variables can also cause other undesirable effects. For one thing, computer processing time increases as the number of variables increases. While computer processing time is not likely to be a problem when developing a model, it can be a concern when the model is deployed where real time, instantaneous predictions are needed. Another problem with large numbers of variables is that the model becomes difficult to maintain. When a predictive model is deployed into production, values for all the predictors must be obtained, stored, and cleaned. Furthermore, a predictive model becomes more complex with many predictors, and it is more likely that unusual or strange relationships are found that are that will be difficult to understand or explain. Finally, with many predictors, it becomes highly likely that redundant or nearly redundant variables are included. This can cause instability in the model as model coefficients appear to bounce around as different data subsets are analyzed. Often there are variables in a data set that have no relationship to the target. For example, customer ID numbers can typically be dropped.12 In certain predictive models, variables must be removed due to regulatory concerns like race or ZIP code. ID numbers can sometimes contain implicit information such as category or date. However, there are usually more direct ways to include such information.↩︎ "],["approaches-to-dimension-reduction.html", "Approaches to dimension reduction", " Approaches to dimension reduction Three general approaches to reducing the dimensionality of a data set by removing continuous predictors are available. Manually removing variables with excessive missing values, high inter-variable correlations, zero or near-zero variance, or low correlation with the target variable. Using algorithms that are specifically designed to comb through variables and pick the most predictive ones. These are generally referred to as wrapper methods. Dimensionality reduction through transforming and combining predictors. Forming combinations of variables can be done by the analyst using domain knowledge or by using an automatic approach with principal components analysis. All the strategies discussed here are heuristic and will not guarantee that the best subset is created (Silipo and Berthold 2014). Generally, it is not good practice to remove any variables when developing a predictive model. However, in cases where there are many predictors, it is sometimes useful to manually remove one or more possible predictors, but this should be done with care. If, after removing variables using the methods discussed below, the predictive model's performance is quite good and satisfies the objectives of the analysis project, then it is likely that little harm has been done. A better approach would be to run the analysis with all predictors and then with the reduced set to evaluate the degradation in predictive power. With these caveats in mind, descriptive statistics can help reduce the number of dimensions. Highly correlated variables can be removed as a means of predictor selection. If two variables are highly correlated, one can be dropped. The choice of which one of the pair to drop should be based on the analyst's intuition about which is likely to be more meaningful. However, there are situations where including two redundant variables can result in more accurate predictions than either variable alone, so care and intuition are needed. The distribution of each potential predictor can be examined to identify those that can be eliminated. Variables with many missing values may be candidates for pruning, but care is needed to avoid situations where missingness itself might predict the target variable. Domain knowledge can guide this approach. Suppose the analyst suspects that a missing value on a particular variable is informative in terms of the target. In that case, a binary indicator variable can be created to flag such cases. If the distribution of a potential predictor shows that the variable is constant or nearly constant (e.g., with very small variance), the variable might be dropped. Again, domain knowledge and intuition should guide this decision. Removing highly correlated variables A workflow to select variables below a correlation threshold is in Figure 5.1. Predictive accuracy will almost always be somewhat reduced if even highly correlated variables are removed. The problem with correlated predictors is that it can be impossible to identify the effect or importance of specific variables. The model also can become very sensitive to changes in the number of observations or even unstable. To help identify highly correlated variables, the workflow in Figure 5.1 uses simulated data with 1,000 observations on ten variables at various levels. The workflow is available in the file WorkflowForFigure5.1.knwf, and node descriptions are provided in Table 5.1. Figure 5.1: Workflow to remove highly correlated variables. References "],["node-descriptions-for-figure-5.1-workflow.html", "Node descriptions for Figure 5.1 workflow", " Node descriptions for Figure 5.1 workflow .cl-3efc7578{}.cl-3ef0cc82{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ef0cc8c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ef580e2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ef580ec{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ef59f50{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ef59f5a{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ef59f5b{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ef59f5c{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ef59f64{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ef59f6e{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.1: KNIME nodes NodesDescriptionsInput and output portsNode 1File ReaderRead file: CorrelatedSimulatedVariables.csvOutput port: Table with 1,000 rows and 8 columnsNode 2Linear CorrelationOptions- Include all continuous variablesInput port: Table with 1,000 rows and 8 columnsUpper output port: Not usedMiddle output port: 10 X 10 correlation matrixLower output port: Correlation modelNode 3Excel WriterSettings:- Write to: Relative to Current workflow area- File: CorrelationMatrix.xlsxInput port: 10 X 10 correlation matrixNode 4Correlation FilterSettings:- Slider to set threshold for removing highly correlated variables- After setting slider click on Calculate to show the number of columns included and excludedUpper input port: Correlation modelLower input port: table with 1,000 rows and ten columnsOutput port: Filtered data (1,000 rows by 4 columns)Node 5Excel WriterSettings:Write to: Relative to Current workflow areaFile: FilteredDataSet.xlsxInput port: Filtered data (1,000 rows by 4 columns) "],["correlation-matrix.html", "Correlation matrix", " Correlation matrix .cl-3f2b95c4{}.cl-3f1f2320{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f1f232a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f23fb7a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f23fb84{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f23fb8e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-3f23fb8f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:2pt;line-height: 0.9;background-color:transparent;}.cl-3f241934{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f24193e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f241948{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f241949{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f241952{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f241953{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.2: Correlation matrix from workflow in Table 5.1. VariableV1V2V3V4V5V6V7V8V9V10V11.0000.7940.4910.2040.0350.7720.4830.7630.7720.482V20.7941.0000.4050.3140.0310.9720.4000.9600.9710.399V30.4910.4051.0000.6170.5080.3930.9640.3870.3930.963V40.2040.3140.6171.0000.2690.3010.5970.2960.3020.596V50.0350.0310.5080.2691.0000.0260.4780.0250.0250.476V60.7720.9720.3930.3010.0261.0000.3860.9990.9990.385V70.4830.4000.9640.5970.4780.3861.0000.3800.3990.999V80.7630.9600.3870.2960.0250.9990.3801.0000.9980.379V90.7720.9710.3930.3020.0250.9990.3990.9981.0000.398V100.4820.3990.9630.5960.4760.3850.9990.3790.3981.000 Table 5.2 shows the correlation matrix among the eight simulated variables. The Correlation Filter counts the number of correlations exceeding the set threshold. The column with the highest number exceeding the threshold is selected to remain, and the variables correlated with that column are filtered out. For example, if the threshold is set to 0.70, only variables V1, V3, V4, and V5 remain, and the rest are filtered out. Removing variables with excessive missing values Variables can also be filtered if the number or percentage of missing values exceeds a threshold set by the analyst. Figure 5.2 shows the workflow for this process (file: WorkflowForFigure5.2.knwf); the node descriptions are in Table 5.3. (This is an extension of workflow 4.3 in chapter 4.) Figure 5.2: Workflow to screen variables by percent of missing values. "],["node-descriptions-for-figure-5.2-workflow.html", "Node descriptions for Figure 5.2 workflow", " Node descriptions for Figure 5.2 workflow .cl-3f57e43a{}.cl-3f4bacf6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f4bad00{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f50a832{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f50a83c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f50d0fa{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f50d104{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f50d10e{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f50d10f{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f50d110{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f50d118{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.3: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: MissingValueSimulatedData.csvOutput port: Table with 1,000 rows and 6 columnsNode 2StatisticsOptions- Include all continuous variablesInput port: Table with 1,000 rows and six columnsUpper output port: Statistics table with six rows and 16 columnsMiddle output port: Not usedLower output port: Not usedNode 3Math Formula (Multi Column)Math Expression:- Include: No. missings- Expression: 100*$No. missings$/$Row count$- Select: Append Selected Columns with the Suffix: _PCTInput port: StatisticsOutput port: Statistics table with six rows and 17 columnsNode 4Column FilterColumn Filter:- Include: Column, No. missings, No. missings PCT- Exclude all other columnsInput port: Statistics table with 6 rows and 17 columnsOutput port: Statistics with 6 rows and 3 columnsNode 5Set Threshold for pct of missing valuesComponent to allow setting of threshold maximum percent of allowable missing values interactivelyInput port: Statistics with 6 rows and 3 columns Output port: Table with variables not screened outNode C1: Component InputNode C2: Double ConfigurationEnables interactive setting of maximum percent of missing values (min =0 and max = 100)Node C3: Rule-based Row FilterExpression: $No. missings_PCT$ &lt; $${Ddouble-input}$$ =&gt; TRUENode C4: TransposeNode C5: Component outputNode 6: Reference Column FilterInput port: Table with variables not screened outOutput port: Table with variables not screened outwith 1,000 rows and Before removing variables, imputation techniques should be investigated to determine the effect on a predictive model of substituting the mean, median, or other values. "],["zero-or-near-zero-variance.html", "Zero or near-zero variance", " Zero or near-zero variance If a predictor has zero variance, it is a constant and thus will not have any predictive power. Some algorithms, such as regression, will fail if such a variable is included. It is best to remove constants from the predictive set. There is also the issue of potential predictors with very low or near-zero variance. The reasoning is that a feature with low variance cannot explain much of the variance in the response variable. The magnitude of variance is affected by the numerical range of a variable, so the usual practice is to first normalize all predictors to a range of 0 to 1.13 Then, the variances of the normalized variables are computed, and those with variance below a user-defined threshold are filtered out. The workflow in Figure 5.3 (file: WorkflowForFigure5.3.knwf) illustrates how to filter by variance. Node descriptions for the workflow are provided in Table 5.4. Figure 5.3: Workflow for screening by variance. Standardization to zero mean and unit standard deviation should not be done since this will make all variances equal.↩︎ "],["node-descriptions-for-figure-5.3-workflow.html", "Node descriptions for Figure 5.3 workflow", " Node descriptions for Figure 5.3 workflow .cl-3f80c26a{}.cl-3f733b18{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f733b22{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f79a372{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f79a386{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f79c870{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f79c87a{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f79c884{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f79c88e{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f79c88f{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f79c898{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.4: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: SimulatedDataForVarianceScreening.csvOutput port: Table with 100 rows and seven columnsNode 2NormalizerNormalize variables to a range of 0 to 1Methods- Include: All numeric variables- Settings: Select Min-Max Normalization- - Min: 0.0- - Max: 1.0Input port: Table with 100 rows and seven columnsOutput port: Table with 100 rows and seven columns, normalized to 0-1 range: Node 3Low Variance FilterFilters out columns, whose variance is below a user-specified thresholdOptions:- Variance Upper Bound: Range is 0 to 0.25; 0.25 is max variance with range of 0-1 of columns. Note: the higher the Variance Upper Bound, more columns will be filtered- Include: All numeric variablesInput port: Table with 100 rows and 7 columns, normalized to 0-1 range:Output port: Filtered data The simulated input data contained seven variables with variances after 0-1 normalization shown in Table 5.5. .cl-3fa19e86{}.cl-3f956490{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f9564b8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3f99f65e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f99f672{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f99f67c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3f99f686{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-3f99f690{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:4pt;line-height: 0.9;background-color:transparent;}.cl-3f99f691{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:4pt;line-height: 0.9;background-color:transparent;}.cl-3f9a32d6{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32e0{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32e1{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32ea{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32f4{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32f5{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32fe{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a32ff{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3f9a3300{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.5: Example of filtering simulated data with Variance Upper Bound equal to 0.05. VariableVarianceVariables after filteringV10.0000FilteredV20.0099FilteredV30.2500V3V40.0949V4V50.0429FilteredV60.0429FilteredV70.0429Filtered "],["selection-using-filters-with-a-target-variable.html", "Selection using filters with a target variable", " Selection using filters with a target variable Another approach to filtering variables is to consider the relationship of each potential predictor with the target variable. Each predictor is assessed one at a time in predicting the target. Four possible situations are shown in Table 5.6 (Brownlee 2022). .cl-3fc2b350{}.cl-3fb76ba8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3fb76bb2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3fbc0686{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3fbc0690{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-3fbc21fc{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fbc2206{width:1.8in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fbc2207{width:1.8in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.6: Target by predictor combinations. Target variable typePredictor typeModelTypical metricNumericalNumericalOLS regressionRMS errorCategoricalNumericalLogistic regressionPrediction accuracyNumericalCategoricalOLS regressionRMS errorCategoricalCategoricalChi-squareCramer’s V Selection using the approaches listed in Table 5.6 might be helpful in cases with many potential predictors, and the objective is to reduce that number to a more manageable subset. While this is a workable approach no guarantee that the best predictors will be selected. Selection using wrapper methods Some algorithms perform feature selection automatically as part of the learning model. Examples include forward, backward, and stepwise which include predictors that maximize an accuracy criterion. LASSO (least absolute shrinkage and selection operator) models, discussed in the chapters on OLS and logistic regression, also implicitly work to select the best predictors. References "],["principal-components-analysis.html", "Principal components analysis", " Principal components analysis Another frequently discussed approach to dimension reduction involves forming combinations of predictors into a smaller set and using the smaller set in building a model. The most common technique for this approach is principal component analysis (PCA). Before discussing the details of PCA, two factors make PCA less desirable than feature selection. First, the components that are formed can be difficult to understand since they are weighted averages of the predictors, and feature selection maintains the original meaning of the predictors. Second, PCA does not reduce the number of variables that must be collected and stored. When new observations are collected, all the variables used initially in the PCA must be used to create new components. The principal components analysis (PCA) aims to reduce the dimensionality of a data matrix from m variates to a smaller number of k variates so that most of the information in the original data set is preserved. The smaller number of components is derived in such a way as to capture as much of the actual variation as possible. PCA is used in many disciplines, including psychology, biology, chemistry, education, astronomy, and business, and is one of the oldest multivariate techniques, with early developments by (Pearson 1902) and (Hotelling 1933). PCA is a data transformation applied to an n X m (rows by columns) data . The components are linear functions of the original variables. They are ordered; the first component accounts for the largest variance. Each succeeding component accounts for the largest amount of remaining variance, in turn subject to being uncorrelated. References "],["pca-an-enigenvectors-decomposition.html", "PCA: An enigenvectors decomposition", " PCA: An enigenvectors decomposition The process of forming components is based on the extraction of eigenvectors and eigenvalues. A data set can be viewed as observations in a multidimensional space. The number of dimensions equals the number of variables in the set. An eigenvector is a directed line (or vector) along which the points in a data set can be projected. Consider the simple case of just two variables. Panel A in figure 5.4 shows the plot of 12 observations in two dimensions, X and Y. The variances of both variable X and Variable Y are standardized to 1.0, which is typically done in applications of PCA and the total variance is 2.0. Eigenvalues, which are essentially variances, are also 1.0 for each variable. Figure 5.4: Illustration of eigenvalues. The objective of principal components analysis is to rotate the X and Y axes in such a way that the variance along one axis is maximized. This is shown in Panel B of Figure 5.4. Since there are two variables, there are two eigenvalues. After the first rotated axis is obtained, a second axis is created, at right angles to the first, which captures the remaining variance. The result of the axis rotations is that more than 93.5% of the variance in the small data set is captured by the firt axis. The axis called eigenvector Z1. This graphical example explains that PCA is an eigenvector decomposition that finds a series of vectors, each of which maximizes variance along the vector with the restriction that the vectors are uncorrelated. Of course, in a real example, there will be many more dimensions than those used here, but the two-dimensional case allows for a simple geometric illustration. The process for multiple dimensions is the same. The first eigenvector is determined by finding the rotation that maximizes variance (or the eigenvalue). Then, the process is repeated for each additional variable. The notion of dimension reduction that is often associated with principal components analysis is illustrated as well. The total variance is 2.0, but 93.5% of the variance is captured by using only the first eigenvector. "],["steps-in-using-pca.html", "Steps in using PCA", " Steps in using PCA The process of developing principal components involves a series of steps and decisions. Select variables. PCA is applied to continuous variables. If categorical variables are to be included, they must be converted to 0-1 dummy or indicator variables. Decide on correlations or covariances. The PCA algorithm can be set to either capture correlations or covariances among the input variables. The correlations or covariances are typically formed into an m X m matrix. The results of PCA are not the same for each type of matrix. With the correlation matrix the variables are automatically standardized. This avoids a problem with using the covariance matrix wherein variables with large variances will dominate the result. Also, if one or more variables are rescaled, the entire covariance matrix and the resulting components will change. This is an undesirable effect, so the correlation matrix is typically used ((Jolliffe and Cadima 2016)). There should be evidence that the correlations or covariances are not so small that PCA makes no sense, since PCA relies on relations among variables to form components. If the original variables are not correlated and do not covary, then PCA is not useful. Extract components. Components are formed by creating a set of eigenvectors and corresponding eigenvalues an eigenvector decomposition. The number of components is the lesser of the number of columns or rows, but in most applications, the number of columns is the determinant factor. For dimension reduction, a smaller number of components is retained for further analysis. The overall quality of an approximation of a multidimensional data set is measured by the eigenvalues (or variability) associated with the retained components. So, a decision about the number of components to retain must be made. One rule of thumb is to retain only components for which the associated eigenvalue is greater than or equal to one. Another approach to selecting the number of components is to plot the eigenvalues by the number of components in a chart called a scree plot, looking for a break where the size of the eigenvalues drops sharply. These two methods may indicate a different number of components to retain. There are no fixed rules, so the judgment of an analyst is required. Compute component scores. Scores are then computed on each component for each observation in the data set. These scores are derived variables (fewer in number than the original set) that are uncorrelated that can be used as independent variables in a predictive model. References "],["example-of-using-pca.html", "Example of using PCA", " Example of using PCA Characteristics and evaluation ratings of 27 automobiles were obtained from a recent issue of Consumer Reports, as shown in Table 5.7. .cl-4008ca0c{}.cl-3ffa766e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ffa7678{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3fff8974{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-3fff8988{margin:0;text-align:center;margin-left:auto;margin-right:auto;writing-mode: vertical-rl;-ms-writing-mode:tb-rl;-webkit-writing-mode:vertical-rl;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-3fff8989{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-3fff8992{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-3fffacf6{width:2.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fffad00{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fffad01{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fffad0a{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fffad0b{width:2.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3fffad14{width:0.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.7: Characteristics and ratings of 26 automobiles. MakePredicted reliabilityOverall satisfactionRoad test scoreOverall MPGSeat comfort FrontSeat comfort RearUsabilityNoiseRideFit and finishRoutine handlingAvoid maneuver spdAcceleration 0-60Dry.braking.600Honda Insight537354334343454.08.7138Honda Civic 1.5T347531333343454.57.1129Toyota Corolla546948334343453.010.3142Nissan Sentra338132334334455.58.5129Subaru Impreza338530345443456.09.5124Maxda3337530433444454.07.7125Honda Civic 1.5T347531333343454.57.1129Hyundai Elantra337633335333455.57.9128Nisan Versa326132335323452.59.6130Hyundai Accent326433325223457.59.9128Kia Rio326133325223454.59.6131Volkswagen Jetta137834335443452.09.0135Kia Forte 2.0L136734335223453.08.3131Toyota Camry 2.5L548632445444453.58.0126Subaru Legacy 2.5L348928444454454.58.9131Honda Accord 1.5T348931444444454.57.7135Mazda 6447928444444454.09.2133Nissan Altima428131445434353.57.6131Kia K5348232455444453.57.7130Volkswagen Passat337728455433452.07.9130Hyundai Sonata 2.5L348131444434456.07.5127Acura ILX 2.4L316128413224354.57.5132Chevrolet Malibu 1.5L128029325443453.08.4130Volkswagen Arteon 2.0T339124445444453.57.9125Nissan Maxima428125535435453.06.5132Dodge Charger448520545544450.56.1128 "],["auto-ratings-correlations.html", "Auto ratings correlations", " Auto ratings correlations The correlation matrix among the characteristics in Table 5.7 are shown in Figure 5.5. Cells are shown with shades from red (negative correlations) to green (positive correlations). Figure 5.5: Correlation matrix of automobile characteristics and ratings. The correlation matrix shows positive and negative correlations above .60 in absolute value, which suggests that principal components analysis can summarize the 12 variables in fewer dimensions. For example, the correlation between Road test scores and Routine handling is 0.74 and the correlation between Seat comfort Rear and Acceleration is -0.64. Figure 5.6 shows the workflow for conducting principal components analysis on the automobile data. (The file is available as WorkflowforFigure5.10.knwf.) Table 5.8 contains the settings of the four nodes in Figure 5.10. Figure 5.6: Workflow for principal components analysis. "],["node-descriptions-for-figure-5.6-workflow.html", "Node descriptions for Figure 5.6 workflow", " Node descriptions for Figure 5.6 workflow .cl-40347db4{}.cl-402885ea{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-402885f4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-402d1484{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-402d1498{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-402d2faa{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-402d2fab{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-402d2fb4{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-402d2fb5{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-402d2fb6{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-402d2fbe{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.8: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead File: AutoRatings.csvOutput port: Table with 26 rows and 14 columnsNode 2NormalizerForm a z-score for all variables to extract components from the correlation matrix.Methods- Include: All numeric files- Settings: Z-Score NormalizationInput port: Table with 26 rows and 14 columnsOutput port: Table with 26 rows and 14 columns of normalized dataNode 3PCA ComputePerform principal components analysisSettings- Include all predictor variables- Exclude: Overall satisfactionInput port: Table with 26 rows and 14 columns of normalized dataOutput port: Spectral decomposition (eigenvalues and eigenvectors)Node 4Excel WriterSave the PCA results to an Excel file relative to Current Workflow Area.Settings:- If it exists: Overwrite- File: EigenvaluesTable.xlsxInput port: Spectral decomposition (eigenvalues and eigenvectors) "],["eigenvalues.html", "Eigenvalues", " Eigenvalues The eigenvalues for the components extracted are shown in Table 5.9. The third column of the table has the cumulative sum of the eigenvalues; note that the sum of all 12 eigenvalues is 12, which is the number of variables. The variance of each variable is one since the correlation matrix was used to form the components. The fourth column of Table 5.9 shows the cumulative percentage of variance extracted by the number of components. The eigenvalue greater than 1.0 rule of thumb indicates that four components should be retained, accounting for 79.4% of the variance in the data. .cl-4057c90e{}.cl-404b2244{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-404b224e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4050449a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-405044ae{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-405044af{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-405044b8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-405044b9{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.9;background-color:transparent;}.cl-4050618c{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40506196{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061a0{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061a1{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061aa{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061ab{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061ac{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061b4{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-405061b5{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.9: Eigenvalues of the PCA with automobile rating data. ComponentEigenvaluesCumulative sumCumulative PCT14.564.5638.00%22.106.6655.50%31.508.1668.00%41.369.5279.40%50.7810.3085.80%60.5610.8690.50%70.4311.2994.10%80.3211.6096.70%90.1711.7898.20%100.1111.8999.10%110.0811.9799.80%120.0312.00100.00% "],["the-scree-plot.html", "The scree plot", " The scree plot A scree plot showing eigenvalues versus the number of components was created in Excel and is shown in Figure 5.7. The plot line indicates a leveling off and then a drop in the value of the eigenvalues after four components. So, selecting components using this rule of thumb yields the same conclusion as the eigenvalue greater than one rule. Figure 5.7: Scree plot of eigenvalues versus the number of components. The principal components analysis showed that nearly 80% of the variation in the original set of 12 variables could be accounted for using only four components. So, a considerable reduction in the dimensionality of the data has been achieved. This is a typical use of PCA. Considerations regarding PCA There are two considerations to keep in mind when using PCA in this way. First, to deploy the model with new data, all the original variables must be used to calculate the principal component scores. The dimensionality has been reduced, so subsequent predictive models will have fewer variables. However, measurement and storage of all variables must still be performed. This contrasts with the methods described earlier, which can drop variables. The second consideration regarding PCA is that the reduced set of components will nearly always result in diminished predictive accuracy. A regression of Overall Satisfaction on all 12 predictor variables was run. (Chapter 6 of this book includes a regression discussion.) The accuracy of this regression using all the predictors was found to be 0.409 as measured with root mean squared error (RMSE). Then, a series of 12 additional regressions were run using from one to all 12 of the principal components as predictors. The prediction accuracy results are shown in Table 5.10 and Figure 5.8. Figure 5.8: RMS prediction error using from 1 to 12 components.. .cl-40817e34{}.cl-40767368{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-40767372{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-407ac6c0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-407ac6ca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-407ae2c2{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-407ae2cc{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-407ae2cd{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.10: RMS prediction error using from 1 to 12 components. Number of componentsRoot mean square error10.89920.68430.67740.58450.57060.55670.48280.45390.426100.422110.412120.409 "],["other-issues-with-pca.html", "Other issues with PCA", " Other issues with PCA In some problems, the number of variables (p) in a data set can exceed the number of observations (n). This is true in image analysis, genomics, text analytics, and other contexts. The ordinary PCA model cannot deal with cases where p &gt; n. However, Singular Value Decomposition (SVD) can do so quite readily. SVD, which is used in the KNIME PCA node, can also extract eigenvalues and eigenvectors of data sets where n &gt; m, making it a more flexible algorithm. PCA is sensitive to outliers and errors in the data, and PCA also drops observations that have even a single missing value among the variables. Therefore, it is important to examine the distributions of input variables before PCA and make appropriate adjustments. Values for cases with missing values can be imputed. (Chapter 4 discusses dealing with missing values and outliers.) As noted earlier, using a PCA model on new data requires measures on all the variables used to form the components. Likely, some of those variables add more to the explained variance. One method of identifying variables to drop is by rotating the components to distinguish more clearly variables with large versus small loadings. The variables with small loadings can be dropped, and PCA repeated on the remaining columns. Another approach to dimension reduction is to use an adaptation of the LASSO technique. (Discussion of LASSO in the context of regression is discussed in Chapter 6). The LASSO approach has the advantage of forcing some loadings to zero, and variables with zero loading can be dropped. More advanced dimension reduction methods have also been developed (Waggoner 2021). PCA is an old technique, but many adaptations have been developed to deal with special situations where ordinary PCA may not be appropriate. Some adaptations and extensions are available in H2O, R, and Python integrations with KNIME. References "],["appendix-intuition-behind-principal-components.html", "Appendix: Intuition behind principal components", " Appendix: Intuition behind principal components A principal component is a linear combination of m-variables on n observations. The algebra used to extract principal components in software is beyond the scope of this book and can be found in any text on multivariate analysis. KNIME uses a newer method of extracting components called Singular Value Decomposition. Again, the details are not provided here. Instead, an intuitive example using a tiny data set describes how PCA is done. For this example, a simple synthetic data set with four observations on three variables was created and is shown in Table 5.11. The data has been standardized to means of zero and standard deviations of 1.0 for each variable. The correlation matrix, which indicates strong correlations among the variables, is shown in Table 5.12. .cl-40a3f4be{}.cl-4098a3ac{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4098a3b6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-409d2d6e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-409d2d78{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-409d2d82{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-409d2d83{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-409d2d8c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.9;background-color:transparent;}.cl-409d4b28{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b32{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b33{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b3c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b3d{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b46{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b47{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b48{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b50{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-409d4b51{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.11: A Synthetic data set. ObservationX1X2X31-1.432-1.363-0.5072-0.391-0.524-1.18330.6511.1531.52141.1720.7340.169Mean0.0000.0000.000STDev1.0001.0001.000 .cl-40c76d0e{}.cl-40bb2cd8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-40bb2ce2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-40bfcdce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-40bfcdd8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-40bfcde2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-40bfcde3{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-40bfcdec{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.9;background-color:transparent;}.cl-40bfe9e4{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40bfe9ee{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40bfe9f8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40bfe9f9{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40bfe9fa{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40bfe9fb{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.12: Correlations. X1X2X3X11.0000.9420.594X20.9421.0000.797X30.5940.7971.000 A component can be created as a linear combination of the three variables for each observation using the following randomly selected weights on each variable: W1 = 0.510, W2 = 0.310, W3 = 0.800. The sum of the squared weights is: \\[0.510^2 + 0.310^2 + 0.800^2 = 1.00.\\]. For observation #1, the component is: \\[0.510(-1.432) + 0.310(-1.363) + 0.800(-0.507) = -1.558.\\] which equals = -1.558. The same linear combination of the three variables can be calculated for all four observations, as shown in Table A5.3. .cl-40eb5b24{}.cl-40dedec6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-40deded0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-40e3bab8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-40e3bac2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-40e3bacc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-40e3bacd{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-40e3bad6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.9;background-color:transparent;}.cl-40e3bad7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-40e3d8ae{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8b8{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8c2{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8cc{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8cd{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8d6{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8d7{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-40e3d8d8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.13: Component with random weights. ObservationX1X2X3Component.11-1.432-1.363-0.507-1.5582-0.391-0.524-1.183-1.30830.6511.1531.5211.90641.1720.7340.1690.960Variance = 2.174 This arbitrary component is not useful, however. To compute the first principal component, the weights B1, B2, and B3 are changed to maximize the variance of the component values. A constraint is placed on weights because maximum variance would be achieved by making the weights arbitrarily large. The constraint is that the sum of the squared values of B1, B2, and B3 = 1.0. The calculations were done in Excel using the Solver add-in. After the first component is extracted, a second component is calculated again by finding a set of weights that will maximize the variance of that component. The same constraint that the sum of squared values of the weights must be 1.0 is placed, as well as the constraint that the second component is uncorrelated with the first. A third component is then extracted, again with appropriate constraints. The result is that three principal components are extracted such that the first has the most variance, the second has the most remaining variance subject to being uncorrelated with the first, and the third has the most remaining variance subject to being uncorrelated with both the first and second components. The results are shown in Tables 5.14 and 5.15. Since the original variables were standardized to zero mean and unit standard deviation, the total variance in the transformed variables is 3.00. Note that the three principal components are uncorrelated and that the first component captures more than 85% of the variance in the original data. What has been achieved is that the redundancy in the original data has been used to create components that effectively capture the original variance but transformed to uncorrelated an uncorrelated set of new variables. .cl-41115554{}.cl-4104e5f8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4104e602{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4109f34a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4109f354{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4109f35e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-4109f368{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-4109f369{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-4109f36a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:45pt;line-height: 0.9;background-color:transparent;}.cl-410a1302{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a130c{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1316{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1317{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1320{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1321{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1322{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a132a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a132b{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a132c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1334{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1335{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1336{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a133e{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a133f{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1340{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1348{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1349{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a134a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-410a1352{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.14: A Synthetic data set. ObservationPC1PC2PC31-1.9390.630-0.0962-1.181-0.6390.15231.9010.6670.09141.219-0.658-0.147Sum of variancesVariance2.5640.4210.0153.000% Variance0.8550.1400.0051.000 .cl-41346c88{}.cl-4127d8e2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4127d8ec{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-412c8536{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-412c854a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-412c854b{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-412c8554{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-412c8555{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.9;background-color:transparent;}.cl-412ca23c{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-412ca246{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-412ca247{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-412ca250{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-412ca251{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-412ca25a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 5.15: Correlations among components. PC1PC2PC3PC1100PC2010PC3001 Of course, in applied situations, there will be many more variables and observations, and the extraction of the principal components will be accomplished more efficiently. However, the basic workings of PCA can be seen in the simple example. "],["summary-2.html", "Summary", " Summary The number of variables available in many projects can be a problem for both the efficiency and effectiveness of predictive analytics. Deciding which variables to include and which to exclude is often a subjective process, but several approaches to dimension reduction are available. These approaches include using inputs from domain experts and assessing characteristics of potential predictors such as proportion of missing values, variance, and intercorrelations. PCA was also illustrated as a dimension reduction technique and some disadvantages of PCA for this purpose were discussed. "],["ordinary-least-squares-regression.html", "Chapter 6 Ordinary least squares regression", " Chapter 6 Ordinary least squares regression There are several reasons why regression is one of the the most used analytics tools. First, it is a logical, linear model with many uses and is conceptually attractive because linear relationships are easy to think about and perform very well in terms of predictive accuracy. Second, the technique itself is easy to program, so there are many, many software tools available. It can be programmed in any language with just a few statements. Third, it is very flexible – it can be applied to many types of problems, even those that initially might not seem to be linear regression candidates. Many phenomena can be cast, at least approximately, into a linear model. Fourth, regression has several different uses. It is often used to build models that explain how one or more independent variables affect a continuous, dependent variable. It is also used for control, in the sense that regression models can help identify cases that are in error or problematic. Finally, it is used for prediction, which is the focus of this chapter. Regression is typically used to estimate a model between a continuous target variable and one or more predictor variables. The predictors can be continuous numeric, but they need not be. Categorical predictors can be converted to binary numeric variables, which are treated as continuous, and therefore used in regression. There are many applications of regression where the goal is predictions such as: The price of a house given features such as finished square feet, number of bedrooms, and size of the lot. The price of used cars given age, mileage, options, and make, among other characteristics. A patient's blood pressure as a function of various drug dosages and the patient's age, sex, and weight. Crop yield as a function of the type of fertilizer, rainfall, and soil type. The number of people that might access a particular website. The performance of professional athletes as a function of different training regimens. "],["intuition-about-simple-linear-regression.html", "Intuition about simple linear regression", " Intuition about simple linear regression Simple linear regression models consist of a single predictor, which might be continuous or categorical, and a continuous dependent variable. For example, consider the 11 observations shown in Table 6.1. .cl-4158dae6{}.cl-414c4056{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-414c4060{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4151dfac{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4151dfc0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4151dfca{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4151fcda{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4151fce4{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4151fce5{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4151fcee{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4151fcef{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.1: Observations in example data set. Observationxy16.12728.74437.83549.84255.52462.2573.52383.91694.015109.131116.914 The regression equation is developed to predict yi as accurately as possible from the xi values. The model, shown in equation (6.1), shows that yi is a function of a constant (\\(\\beta_{0}\\)) plus a coefficient (\\(\\beta_{1}\\)) times xi plus an error term (\\(\\varepsilon_{i}\\)). \\[\\begin{equation} y_{i} = \\beta_{0}\\ + \\ \\beta_{1} \\times x_{i}\\ + \\ \\varepsilon_{i} \\tag{6.1} \\end{equation}\\] The estimates \\({\\widehat{\\beta}}_{0}\\) and \\({\\widehat{\\beta}}_{1}\\), denoted by \"hats,\" are found by minimizing the sum of the squared errors (SSE) between \\(y_{i}\\) and the estimates\\(\\ {\\widehat{y}}_{i}\\). The errors are squared so that positive and negative errors both contribute to the total error measure. The equation (6.2) shows the minimization problem used create the estimates: \\[\\begin{equation} Find\\ {\\widehat{\\beta}}_{0}\\ and\\ {\\widehat{\\beta}}_{1}\\ to\\ minimize\\ SSE\\ = \\ \\sum_{i = 1}^{n}\\left( y_{i} - {\\widehat{y}}_{i} \\right)^{2} \\tag{6.2} \\end{equation}\\] \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{6.3} \\end{equation}\\] The solutions to the minimization problem is found with calculus and are shown in equations (6.4) and (6.5). \\[\\begin{equation} {\\widehat{\\beta}}_{1} = \\frac{\\sum_{}^{}\\left( x_{i} - \\overline{x} \\right)\\left( y_{i} - \\overline{y} \\right)}{\\sum_{}^{}\\left( x_{i} - \\overline{x} \\right)^{2}} \\tag{6.4} \\end{equation}\\] \\({\\widehat{\\beta}}_{0}\\) \\[\\begin{equation} {\\widehat{\\beta}}_{0} = \\overline{y} - {\\widehat{\\beta}}_{1\\ } \\times \\overline{y} \\\\ where \\ \\overline{x}\\ and\\ \\overline{y}\\ are\\ the\\ means\\ of\\ x\\ and\\ y,\\ respectively. \\tag{6.5} \\end{equation}\\] Notice that the constant term is easily calculated after the slope coefficient \\({\\widehat{\\beta}}_{1}\\) is estimated. Figure 6.1 illustrates the concept of least squares. The vertical lines from the data to the regression line represent the error. Note that the error can be positive or negative; the error is squared so that both positive and negative differences add to the total error. An interactive demonstration of how the least squares method works is available at [https://www.geogebra.org/m/xC6zq7Zv]. The demo calculates the sum of squares as the user to change the intercept and slope of a simple regression model. Figure 6.1: Interactive least squares demonstration. [https://www.geogebra.org/m/xC6zq7Zv] Most prediction problems involve more than a single predictor. The more general case of multiple regression is discussed in the next section. "],["multiple-regression.html", "Multiple regression", " Multiple regression In situations where are are several predictor variables, running a separate simple regression on each of the predictors will not yield the desired results. This is due to the (common) case where the predictors are not independent of one another. (In the unusual case where all of the predictors are completely uncorrelated, then running a separate regression using each predictor will yield the correct coefficients.) The multiple regression model is given in equation (6.6). The model shows that yi is a function of a constant (\\(\\beta_{0}\\)) plus several coefficients (\\(\\beta_{j}\\)) times each of the predictors, xij, plus an error term (\\(\\varepsilon_{i}\\)) where i refers to the observation number. There can be any number of predictors but the number of observations, n, should be much greater than the number of predictors, p. The betas associated with each predictor are the regression coefficients, indicating how a change in a predictor affects the target variable yi for observation i. For example, if xi1 increases by 10, yi will increase by \\(\\beta_{1}\\) times 10. \\[\\begin{equation} {y_{i} = \\beta_{0} + \\beta_{1\\ }x_{i1} + ... + {\\ \\beta}_{j\\ }x_{ij} + {\\ .\\ .\\ .\\ \\ \\ \\beta}_{m\\ }x_{im\\ } + \\varepsilon_{i}} \\tag{6.6} \\end{equation}\\] The coefficients shown in the model in (6.7) are not observed but must be estimated. The estimated model is shown in equation(6.6). \\[\\begin{equation} {\\widehat{y}}_{i} = {\\widehat{\\beta}}_{0} + {\\widehat{\\beta}}_{1\\ }x_{1j} + ... + {\\widehat{\\beta}}_{j\\ }x_{ji} + {\\ .\\ .\\ .\\widehat{\\beta}}_{m\\ }x_{im} \\tag{6.7} \\end{equation}\\] Once again, the \\({\\widehat{\\beta}}_{j\\ }\\)coefficients are found by minimizing the sum of squared errors between the actual and predicted values, or SSE = \\(\\sum_{i = 1}^{n}\\left( y_{i} - {\\widehat{y}}_{i} \\right)^{2}.\\ \\)The coefficients are derived using calculus and algebra. "],["building-a-predictive-regression-model.html", "Building a predictive regression model", " Building a predictive regression model To build a predictive regression model, several issues need to be considered. The number of observations must be much greater than the number of predictor variables. While textbooks on regression typically state say that 5 to 10 times the number of predictors is the minimum number of observations, in data mining, where several models will be tried, at least 100 to 1,000 observations per predictor variable is a good practice. That way, when a data set is divided into two or three subsets for training, testing, and validation, the subsets will each have a sufficient number of observations. "],["variable-types-in-regression.html", "Variable types in regression", " Variable types in regression Predictor variables in regression models can be of different types. Just because a data set contains numbers, these numbers may represent different types of measurement scales. Model building and interpretation of results depend on the scale type. There are several ways to classify variables based on measurement properties. A basic framework to consider is using three classes of measures: nominal (or categorical), ordinal, and continuous (sometimes called quantitative, interval, or ratio). Nominal variables simply use names to represent characteristics, such as gender, industry, or political party. If numbers are used to represent nominal variables, e.g., 1 = Female and 2 = Male, the numbers are just symbols and cannot be meaningfully added, subtracted, multiplied or otherwise treated quantitatively. Ordinal variables use numbers or other symbols represent characteristics but convey an ordering along a dimension. So, an ordinal variable has the characteristics of nominal variables plus the attribute of rank order. Ordinal variables can be reported in a data set using numerals (e.g., 1 = Small, 2 = Medium, and 3 = Large) or the actual words rather than numbers. Continuous variables include the features of nominal and ordinal measures plus the characteristic that adjacent numbers represent equal increments in value. Ordinary regression has a continuous target variable, but predictor variables in regression can be nominal, ordinal, or continuous in any combination. However, nominal and ordinal variables must be coded to be meaningfully included in the regression. "],["coding-nominal-variables.html", "Coding nominal variables", " Coding nominal variables Examples of nominal variables include color (\"red\", \"green\", \"blue\"); location (\"city\", \"suburb\", \"rural\"); gender; country; customer type (e.g., individual or business). Numbers may indicate nominal classifications, but the numbers represent qualitative attributes and should not be used without coding. Nominal variables, even if the values are numerical, can be coded using indicator variables (aka \"dummy variables\") for regression. Because the regression model usually includes an intercept term, for a p-level nominal variable, one level is omitted from the coding scheme. So, only p-1 indicator variables are required, and it does not matter which level is omitted. If p-indicators are created and submitted to most regression programs, an error is flagged because one of the indicators is redundant. For example, a regression might include a predictor variable representing Political Party, e.g, 1 = Republican, 2 = Democrat, 3 = Independent, and 4 = Other. Since political party is a nominal variable, it is necessary to code political parties using binary indicator variables as the predictors in the regression model. Table 6.2 shows that the four category levels are coded using three indicator variables . The regression predictors would include Party1, Party2, and Party3. The original variable, Political Party, must be removed from the analysis. Notice that the level \"Republican\" is coded with three zero values, so the three-party indicators in this example use Republican as a reference value. .cl-4180a30a{}.cl-41750126{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-41750130{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4179906a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-41799074{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4179907e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4179907f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4179acbc{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acc6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acc7{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acd0{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acd1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acd2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acda{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acdb{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4179acdc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.2: Example of coding a nominal variable. Indicator (dummy) variablesCategoryParty1Party2Party3Republican000Democrat100Independent010Other001 When used as predictors in regression with a continuous target variable y, the following interpretations can be made for the three indicator variables: The coefficient on Party1 estimates the difference in y between Democrats and Republicans. The coefficient on Party2 estimates the difference in y between Independents and Republicans. The coefficient on Party3 estimates the difference in y between Other and Republicans. The difference in y due to Democrat versus Independent would be estimated by the difference between the coefficient on Party1 minus the coefficient on Party2. The difference between the coefficient on Party2 minus the coefficient on Party3 would estimate the difference in y due to Independent versus Other. The difference between the coefficient on Party1 minus the coefficient on Party3 would estimate the difference in y due to Democrat versus Other. "],["coding-ordinal-variables.html", "Coding ordinal variables", " Coding ordinal variables Ordinal variables imply direction, ordering, or relative magnitude. However, unlike continuous variables, the increments between levels are not necessarily equal. Examples of ordinal variables include clothing size (small, medium, or large); agreement level (Yes, Maybe, No); income category (Above average, Average, Less than average). For example, consider an ordinal temperature variable containing four levels: Cool, Warm, Hot, and Very hot. Indicator coding can also be used for this example. As with nominal coding, the number of indicator variables is one fewer than the number of levels. The coding scheme (shown in Table 6.3) is set to capture the ordinal property (Lyons 1971). .cl-41a296c2{}.cl-41978cdc{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-41978ce6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-419bda8a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-419bda9e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-419bf650{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf65a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf65b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf664{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf665{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf66e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf66f{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf678{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-419bf679{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.3: Example of coding an ordinal variable. Indicator (dummy) variablesCategoryTemp1Temp2Temp3Cool000Warm100Hot110Very hot111 When used as predictors in regression with a continuous target variable y, the following interpretations can be made for the three indicator variables: The difference in y between Warm and Cool would be estimated by the coefficient on Temp1. The difference in y between Hot and Cool would be estimated by the coefficient on Temp1 plus the coefficient on Temp2. The difference in y between Very Hot and Cool would be estimated by the coefficient on Temp1 plus the coefficient on Temp2 plus the coefficient on Temp3. The difference in y between Very Hot and Hot would be estimated by the coefficient on Temp3. The difference in y between Very Hot and Warm would be estimated by the coefficient on Temp2 plus the coefficient on Temp3. References "],["nonlinear-relationships.html", "Nonlinear relationships", " Nonlinear relationships The OLS model assumes that the relationship between continuous predictors (individually and in combinations) and the y target variable is linear. If the nonlinearity is slight, the regression model can still be a useful approximation of the relationship. In some cases, however, strongly nonlinear relationships can seriously distort the regression estimates, and the model will not make accurate predictions. Detecting possible nonlinearity with a single predictor can be seen visually by plotting the target variable y versus the predictor. For multiple regression, however, plotting the target variable versus each predictor can be misleading. Instead, with multiple regression, a good approach is to plot the residuals versus each predictor variable, showing the relationship with a given predictor controlling for the other predictors. Residuals, which can be considered \"observed errors,\" are calculated as \\(y_{i} - {\\widehat{y}}_{i}\\) for each observation i. "],["regression-with-a-nonlinear-relationship.html", "Regression with a nonlinear relationship", " Regression with a nonlinear relationship Figure 6.2 shows a plot of simulated data where the y-values are related to the x-values in a nonlinear fashion. Figure 6.2: Illustration of a nonlinear relationship. "],["regressing-results-with-nonlinear-data-example.html", "Regressing results with nonlinear data example", " Regressing results with nonlinear data example Following a simple linear regression of y on x, the line representing predicted values is plotted and shown along with the actual observations in Figure 6.3. The linear model shown in the dashed line fits reasonably well, but the nonlinearity produces negative errors at low and high values of X and positive errors at mid-values of X. Figure 6.3: Linear regression of y versus x. "],["residual-plots-clearly-show-nonlinearities.html", "Residual plots clearly show nonlinearities", " Residual plots clearly show nonlinearities The effects of nonlinearity can be seen more clearly by plotting the residual values \\(y_{i} - {\\widehat{y}}_{i}\\) versus the X values which is shown in Figure 6.4. Note that the nonlinearity is much more apparent, demonstrating the advantage of residual plots. Note that the residuals vary from about -8 to above +3, a range of about 11. Figure 6.4: Residuals versus X values. "],["using-a-polynomial-model.html", "Using a polynomial model", " Using a polynomial model Polynomial regression is a variant of ordinary regression in which the target variable is plotted against a nth degree polynomials of the predictors. A polynomial model with n = 2 is known as a a quadratic. In the case of a single predictor, x, the x-values are squared prior to running the regression. In this example the yi are regressed on xi plus xi2. The model shown by the dashed line in Figure 6.5 captures the nonlinear relationship. Figure 6.5: Polynomial regression of y versus x. "],["residuals-from-the-polynomial-model.html", "Residuals from the polynomial model", " Residuals from the polynomial model The residuals from the polynomial model were computed and plotted versus X in Figure 6.6. The residuals have a range of about 3, compared with 11 for the simple regression. Figure 6.6: Residual plot with polynomial regression. "],["transformations-to-deal-with-nonlinearity.html", "Transformations to deal with nonlinearity", " Transformations to deal with nonlinearity Polynomial models are not the only way to address nonlinearity in a regression model. Instead, the predictor variables can be transformed to improve predictive accuracy. (Generally speaking, transformations should be on the x values, not the y values, when developing predictor models so that the predictions are made in the scale of the observed target values.) Some practical transformations are shown in Figure 6.7. The transformations can be applied to one or more predictors. Figure 6.7: Examples of transformations to achieve linearity in regression. "],["evaluating-predictive-accuracy-1.html", "Evaluating predictive accuracy", " Evaluating predictive accuracy When the objective is building a regression model to predict a continuous variable, several key metrics are used to assess predictive accuracy. However, R2, one of the most widely available statistics included in statistical software, is not a useful evaluation measure of predictive accuracy. (Instead, R2 is most useful when an exploratory regression is a model created to show the model's fit to the data.) Three commonly used statistics to assess prediction accuracy with test or hold-out data are mean absolute error (MAE), root mean square error (RMSE), and mean absolute percentage error (MAPE). The calculation of each of these measures is based on the prediction error with the hold-out data, \\(e_{i} = y_{i} - {\\widehat{y}}_{i}\\). The errors, ei can be either positive or negative, so as the total prediction errors are computed, the signs must be ignored. This can be done by squaring the ei or taking the absolute value. The formulas for the three measures are given below in equations (6.8),(6.9), and (6.10). \\[\\begin{equation} {Mean\\ absolute\\ error = MAE\\ = \\frac{\\ \\sum_{i = 1}^{n}\\left| e_{i} \\right|}{n}} \\tag{6.8} \\end{equation}\\] \\[\\begin{equation} {Root\\ mean\\ square\\ error = RMSE\\ = \\sqrt{\\frac{\\sum_{i = 1}^{n}e^{2}}{n}}} \\tag{6.9} \\end{equation}\\] \\[\\begin{equation} {Mean\\ absolute\\ percent\\ error = MAPE\\ = \\frac{\\ \\sum_{i = 1}^{n}\\left| \\frac{e_{i}}{y_{i}} \\right|}{n} \\\\ \\text{Note that MAPE does not work if any y(i) = 0.}} \\tag{6.10} \\end{equation}\\] \\[\\begin{equation} \\ \\mathit{If}\\;p_{i}\\; &gt;\\; threshold,\\; \\hat{y}_{i} = 1;\\; else\\; \\hat{y}_{i} = 0, \\\\ \\mathit{where}\\;p_{i}\\; = \\frac{1}{1 + e^{-(log(odds\\;ratio)}} \\tag{6.11} \\end{equation}\\] These metrics are provided in the Numeric Scorer node in KNIME. "],["examples.html", "Examples", " Examples In this section, multiple regression will be demonstrated using the analytics tools available in KNIME, including ordinary least squares, stepwise regression, and regularized regression models. Ordinary least squares regression This example uses a subset of the well-known Ames, Iowa, housing price data published in 2011 (De Cock 2011). The analysis aims to estimate the selling prices of homes using characteristics such as quality, living area, and year constructed. A subset of the predictors used in this example is listed in Table 6.4), along with the target variable selling price. The data set contains 2,930 observations and 20 predictor variables, 11 continuous and nine categorical. Dummy indicators were used for the nine categorical variables, resulting in 67 predictors, including the constant term. .cl-41e2990c{}.cl-41d4b440{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-41d4b44a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-41d96d1e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-41d96d28{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.85;background-color:transparent;}.cl-41d98916{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98917{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98920{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98921{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98922{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d9892a{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d9892b{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98934{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-41d98935{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.4: Variables in the Ames data set. VariableDescriptionType of measureSale_priceSale price in US dollarsContinuousMS_ZoningZoning classificationCategorical – 7 levels; collapsed to 5Living_AreaAbove grade living area square feetContinuousLot_AreaArea of lot in square feetContinuous NeighborhoodPhysical locations within Ames city limitsCategorical – 28 levels; collapsed to 23ProximityProximity to various conditionsCategorical – 8 levels; collapses to 5Bldg_TypeType of dwellingCategorical - 5 levelsHouse_StyleStyle of dwellingCategorical - 8 levels; collapses to 3Overall_QualRating of the overall material and finish Continuous scale - 1 to 10Overall_CondRating of the overall condition of the houseContinuous scale - 1 to 10Exter_QualEvaluation of of the exterior material qualityCategorical - 4 levelsKitchen_QualEvaluation of the kitchen qualityCategorical - 5 levels; collapses to 3Year_BuiltYear constructedContinuousTotRms_AbvGrdTotal number of rooms above gradeContinuousBedroom_AbvGrNumber of bedrooms above gradeContinuousFull_BathNumber of full bathsContinuousHalf_BathNumber of half bathsContinuousGarage_CarsSize garage (no. of cars)Categorical - 4 levelsCentral_AirCentral air conditioningCategorical - 2 levels - yes or noFireplacesNumber of fireplacesContinuousYr_SoldYear of saleContinuous The workflow for analyzing the housing price data is in Figure 6.8 (file: WorkflowForFigure6.8.knwf), and the node descriptions are in Table 6.5). Figure 6.8: Workflow or OLS with Ames data. References "],["node-descriptions-for-the-figure-6.8-workflow.html", "Node descriptions for the Figure 6.8 workflow", " Node descriptions for the Figure 6.8 workflow .cl-420aa50a{}.cl-41feb6be{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-41feb6d2{font-family:'Arial';font-size:9pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4203a688{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4203a692{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4203d40a{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4203d414{width:5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4203d415{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4203d41e{width:5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4203d41f{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4203d428{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.5: KNIME nodes NodesDescriptionsInput and output nodesNode 1File ReaderSettings: File: SubsetAmesHousing.csvOutput port: Table with 2,930 rows and 21 columnsNode 2PartitioningFirst partition is the training set Relative (%): 70 Draw randomlyUse random seed: 123Input port: Table with 2,930 rows and 21 columns Upper output port: Training data (first partition); 2,051 rows and 21 columnsLower output port: Test data (test data); 879 rows and 21 columnsNode 3Linear Regression LearnerOLS on training dataNote that numeric and categorical columns can beSettings:- Target: Sales_price- Predictors: All other variablesInput port: Training data (first partition); 2,051 rows and 21 columns Upper output port: OLS model Lower output port: coefficients and statistics (not used here) Node 4Regression PredictorPredicts Sales_price using a regression model with the training data. A new column to the input table containing the prediction for each row.Upper input port: OLS model Lower input port: Training data (first partition); 2,051 rows and 21 columns Output port: Training data plus predicted Sales_priceNode 5Numeric ScorerScore the training data. Options: - Reference column: Sales_price - Predicted column: Prediction (Sales_price) Input port: Training data plus predicted Sales_price Output port: Performance statistics on training dataNode 6Regression PredictorPredicts Sales_price on test data Options: - Reference column: Sales_price - Predicted column: Prediction (Sales_price)Upper input port: OLS model Lower input port: Test data (test data); 879 rows and 21 columnsNode 7Numeric ScorerScore test data. Options: - Reference column: Sales_price - Predicted column: Prediction (Sales_price)Input port: Test data plus predicted Sales_price Output port: Performance statistics on test data The results for the training and test sets were comparable, with the accuracy measures on the test set slightly better (Table 6.6)). (The predictive accuracy can be higher with the test data due to the random sampling process that creates the training and test subsets.) The regression model had 67 predictors, several which were not statistically significant. Therefore, a forward stepwise OLS mode was tried to determine if comparable accuracy could be obtained with fewer predictors. .cl-4229fe3c{}.cl-421d73a6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-421d73ba{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42223de6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42223df0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42223dfa{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-42223e04{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-42226154{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42226168{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42226172{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42226173{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.6: RMSE results for OLS regression. ModelTraining set RMSETest set RMSEOLS28,770.828,260.7 "],["comparison-of-ols-and-stepwise-regression.html", "Comparison of OLS and Stepwise regression", " Comparison of OLS and Stepwise regression KNIME does not have a pre-built forward stepwise regression node, but Feature Selection Loop can be used. The workflow shown in Figure 6.9. (file: WorkflowForFigure6.9.knwf) was constructed to run the model. Descriptions of each node are in Table 6.7). The basic logic is that the workflow will loop through all the predictors and select the one that minimizes the prediction error. Since the data set relies on the test set to select predictors, a separate analysis on a validation set is run to ensure the model is not overfitting. Figure 6.9: Workflow for stepwise regression with Ames data. "],["node-descriptions-for-the-figure-6.9-workflow.html", "Node descriptions for the Figure 6.9 workflow", " Node descriptions for the Figure 6.9 workflow .cl-425311f0{}.cl-4247686e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42476878{font-family:'Arial';font-size:9pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-424bfa5a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-424bfa64{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-424c15f8{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-424c1602{width:5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-424c1603{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-424c160c{width:5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-424c160d{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-424c1616{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.7: KNIME nodes. NodesDescriptionsInput and output portsNode 1 File ReaderSettings: File: SubsetAmesHousing.csvOutput port: Table with 2,930 rows and 21 columnsNode 2 PartitioningFirst partition is the training set Relative (%): 70Draw randomlyUse random seed: 123Input port: Table with 2,930 rows and 21 columns Upper output port: Training data (first partition); 2,051 rows and 21 columns Lower output port: Test data (test data); 879 rows and 21 columnsNode 3Feature Selection LoopThis node starts the feature selection loop for forward stepwise regression. The loop selects the subset of features that forms the best model in terms of the criterion set in the Feature Selection Loop End. Options:- Static Columns: Sales_price, the target variable.- Variable Columns (Features): All other variables.Input port: Training data (first partition); 2,051 rows and 21 columnsOutput port: Filtered training dataNode 4PartitioningThis partition creates a new training and test set within the stepwise model.The first partition is the training set to build the regression model and is labeled stepwise training set.The second partition is used as the stepwise test set.First partition:- Relative (%):70- Draw randomly- Use random seed: 123Input port: Filtered training dataUpper output port: Filtered new training dataLower output port: Filtered new test dataNode 5Linear Regression LearnerOLS on training data in the Feature Selection Loop.Note that numeric and categorical columns can be included as independent variables. Dummy variables are automatically created for categorical variables.Settings- Target: Sales_price- Predictors: Filtered predictorsInput port: Training data (first partition); 2,051 rows with filtered columnsUpper output port: OLS modelLower output port: coefficients and statistics (not used here)Node 6Regression PredictorPredicts Sales_price using a regression model with the training data in the Feature Selection Loop. A new column to the input table containing the prediction for each row.Upper input port: OLS modelLower input port: Filtered training dataOutput port: Filtered training data plus predicted Sales_priceNode 7Numeric ScorerScore the training data in the Feature Selection. LoopOptions:- Reference column: Sales_price- Predicted column: Prediction (Sales_price)Input port: Filtered training data plus predicted Sales_priceOutput port: Performance statistics on training data in the Feature Selection LoopNode 8Feature Selection Loop EndOptions:- Score: root mean squared error- Select: Minimize scoreInput port: Flow variable with root mean square errorUpper output port: Result table with the number of features, root mean square prediction error, and removed featureLower port: Feature Selection Model Table 6.8 shows the RMSE for the stepwise model as well as for the OLS model. The final accuracy was measured on the test set for the stepwise model and the test set for the OLS model. The stepwise model had slightly better prediction accuracy on the test set compared with the OLS model. .cl-4273387c{}.cl-4266ba84{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4266ba8e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-426c18e4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-426c18ee{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-426c18ef{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:45pt;line-height: 1;background-color:transparent;}.cl-426c18f8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:35pt;line-height: 1;background-color:transparent;}.cl-426c1902{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-426c378e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-426c3798{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-426c3799{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-426c37a2{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-426c37a3{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-426c37ac{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.8: RMSE results for OLS and stepwise regression. ModelNumber of predictorsTraining set RMSETest set RMSEOLS5928,770.828,260.7Stepwise OLS5130,995.727,418.0 "],["using-regularization-for-predictor-selection.html", "Using regularization for predictor selection", " Using regularization for predictor selection Regularization can reduce the complexity of regression models, improve generalizability, and speed up model learning without a large reduction in accuracy. Regularization works by modifying the objective learning goal by adding a penalty function to the objective model. The penalty function increases with the size of estimated beta coefficients, so the overall effect is to develop a model with smaller coefficients. Three types of penalty functions will be discussed here. The penalty with L1 regularization (also known as LASSO or Least Absolute Shrinkage and Selection Operator) (Tibshirani 1966) is a function of the sum of the absolute values of the beta coefficients. L2 regularization (also known as Ridge Regression (Hoerl 2005) uses a penalty function which is the sum of the squared values of the beta coefficients. The third type called Elastic Net regression (H. and T. 2005), combines L1 and L2 regularization. References "],["regularization-formulas.html", "Regularization formulas", " Regularization formulas L1, L2, and Elastic Net regularization are captured in the following formula (6.11), which adds a penalty to the total sum of errors squared: \\[\\begin{equation} \\ SSE\\ = \\ \\sum_{i = 1}^{n}{\\left( y_{i} - { \\widehat{y}}_{i} \\right)^{2} + \\lambda\\left\\lbrack (1 - \\alpha)^{2}\\ \\times \\ \\beta_{i}^{2}\\ + \\ \\alpha \\times \\left| \\beta_{i } \\right| \\right\\rbrack} \\tag{6.12} \\end{equation}\\] where λ controls the amount of regularization and α controls the distribution between L1 and L2 penalties; if λ &gt; 0, and α = 1, L1 regularization is applied; if λ &gt; 0, and α = 0, L2 regularization is applied; if λ &gt; 0, and 0 &lt; α &lt; 1, elastic net regularization is applied; if lambda = 0, no regularization is applied; alpha is ignored. L1 regularization forces the optimization procedure to assign smaller values to the coefficients in the regression model. The lambda parameter controls how much emphasis is given to the penalty term. As lambda increases, the coefficients will be reduced, with some even forced to be zeros. A model with just the most important predictors is created with some coefficients forced to zero. L2 regularization causes the optimization procedure to assign smaller values to the coefficients in the model, but the coefficients are never pushed to zero.) Elastic Net does both: it forces some coefficients to zero and reduces the magnitude of others. By reducing the magnitude of the coefficients, no single predictor is allowed to have a dominant impact on the target value. Even if there are unusual cases in the training data with large or small values on some predictors, the predicted target values will not change dramatically. Hence, the model becomes more stable and generalizable to new data. The following KNIME workflow uses L1 regularization with the Ames data. L1 regularization was selected to demonstrate the simplification possible by setting unneeded coefficients to zero. Regularized regression is available in KNIME by integrating H2O Machine Learning tools. The workflow diagram is in Figure 6.106.10 (file: WorkflowForFigure6.10.knwf). Figure 6.10: Workflow for L1 regularized regression on Ames data. The node descriptions are provided in Table 6.9. The lambda value in the L1 regularization was set by trial and error to achieve balanced accuracy for the training and test data sets. "],["node-descriptions-for-the-figure-6.10-workflow.html", "Node descriptions for the Figure 6.10 workflow", " Node descriptions for the Figure 6.10 workflow .cl-429e61c8{}.cl-42913fac{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42913fb6{font-family:'Arial';font-size:9pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42960a00{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42960a0a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-429625ee{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-429625f8{width:5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-429625f9{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-429625fa{width:5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42962602{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42962603{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.9: KNIME nodes. NodesDescriptionInput and output portsNode 1File ReaderSettings: File: SubsetAmesHousing.csvOutput port: Table with 2,930 rows and 21 columnsNode 2PartitioningFirst partition is training setRelative (%): 70Draw randomlyUse random seed: 123Input port: Table with 2,930 rows and 21 columnsUpper output port: Training data (first partition); 2,051 rows and 21 columnsLower output port: Test data (test data); 879 rows and 21 columnsNode 3H2O Local ContextCreate a locally running H2O instance to enable the H2O tools for use in KNIME.Output port: Local H2O contextNode 4Table to H2OConvert the training data from a KNIME table to H2O data frameColumn selection: Include all variablesUpper input port: KNIME data tableLower input port: Local H2O contextOutput port: Training data converted to H2O tableNode 5H2O Generalized Linear Model Learner (Regression)This node is used to create Generalized Linear Model, allowing regularized regression.General Settings:Target Column: MEDV.Include: All predictors. Algorithm Settings:Family: GaussianLink: Family DefaultSet alpha: 1 to produce L1 regularization.Set lambda: 210 to produce L1 regularizationInput port: Data converted to H2O tableUpper output port: H2O GLM regression modelLower output port: Not used hereNode 6H2O Predictor (Regression)Predictions using training data and H2O GLM modelUpper input port: H2O GLM regression modelLower input port: Training data converted to H2O tableOutput port: Predictions on training data in H2O table formNode 7H2O to TableConvert the H2O Frame with training data predictions to a KNIME table.Input port: Predictions on training data in H2O table formOutput port: Predictions on training data in KNIME table formNode 8Numeric ScorerScore training data.Options:Reference column: Sales_pricePredicted column: Prediction (Sales_price)Input port: Predictions on training data in KNIME table formOutput port: Performance statistics on training dataNode 9Table to H2OConvert the test data from a KNIME table to H2O data frameColumn selection- Include all variablesUpper input port: Test data (test data); 879 rows and 21 columnsLower input port: H2O contextOutput port: Data converted to H2O tableNode 10H2O Predictor (Regression)Predictions using test data and H2O GLM modelUpper input port: H2O GLM regression modelLower input port: Test data converted to H2O tableOutput port: Predictions on test data in H2O table formNode 11H2O to TableConvert the H2O Frame with test data predictions to a KNIME tableInput port: Predictions on test data in H2O table formOutput port: Predictions on test data in KNIME table formNode 12Numeric ScorerScore test data.Options:- Reference column: Sales_price- Predicted column: Prediction (Sales_price)Input port: Predictions on test data in KNIME table formOutput port: Performance statistics on test data "],["comparison-of-results.html", "Comparison of results", " Comparison of results The prediction accuracy statistics comparing the three models are shown in Table 6.10. The average of the RMSE values on the test sets for the three models is shown in the table; the three models differed from the average by about plus or minus 5%. Both the stepwise and L1 regularization models reduced the number of predictors. The stepwise model required a more complex workflow since a feature selection loop was needed. The L1 regularization model is an attractive approach to variable selection. .cl-42c0224a{}.cl-42b2b754{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42b2b75e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42b91ef0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42b91f04{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-42b91f05{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:60pt;line-height: 0.8;background-color:transparent;}.cl-42b91f06{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:60pt;line-height: 1;background-color:transparent;}.cl-42b93caa{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cb4{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cbe{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cbf{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cc0{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cc8{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cc9{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42b93cd2{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 6.10: RMSE Accuracy results for OLS, stepwise, and L1 regularization ModelNumber of predictorsTraining set RMSETest set RMSEOLS59 28,770.80 28,260.70 Stepwise OLS51 30,995.70 27,418.00 L1 Regularized37 29,371.00 28,525.20 Average 29,629.20 28,277.80 "],["summary-3.html", "Summary", " Summary This chapter discussed ordinary least squares linear regression. Regression requires that the target be a single continuous variable, but predictors can be any combination of continuous, nominal, and ordinal variables. Nominal variables must be converted to one or more dummy indicator variables, while ordinal variables may be converted to dummy indicators or used as is. In the latter case, it is assumed that the intervals among the ordinal levels are at least approximately equal. The appropriate metrics for assessing regression models, MAE, RMSE, and MAPE, were presented along with formulas. The Ames housing price data was analyzed using ordinary regression, stepwise regression, and L1 regularization. As measured by Root Mean Square Error (RMSE), prediction accuracy was comparable among the three models. Still, the stepwise and L1 models reduced the required number of predictors by about a third. "],["logistic-regression.html", "Chapter 7 Logistic regression", " Chapter 7 Logistic regression Many analytics projects are designed to predict which of two outcomes is more likely. The target variable in such applications is binary with two values usually expressed as \"1\" or \"0\". The possible values are typically called classes or levels. Examples of binary-outcome questions include: Buy/Not buy. Success/Failure. Heart attack/No heart attack. Continue/Not continue. Fraud/No fraud. Cancer/No cancer. Vote yes/Vote no. Of course, this is just a partial list since binary outcomes are of concern in many areas, including human resources, marketing, medicine, education, political science, criminology, and others. While ordinary linear regression (OLS) is appropriate when the objective is to predict a continuous numerical target, there are better tools to use when the target variable only takes on discreet values. Figure 7.1. compares the linear predictions using ordinary regression with a single predictor, x, with the binary predictions from logistic regression. The target variable, y, is assumed to be binary. But OLS will produce unbounded estimates in the positive and negative directions. Logistic regression, in contrast, makes predictions ranging from 0.0 to 1.0, which can be interpreted as the probability that the target variable takes on the value of 1 versus 0. Visually, the logistic transformation \"bends\" the two ends of the straight line of linear regression to the allowed range. Figure 7.1: Logistic curve versus linear regression line. This chapter begins with an intuitive explanation of logistic regression and then introduces the logistic function. Analyses with binary outcomes are discussed in the first part of this chapter. Logistic regression can also be applied to problems with multi-class outcomes, which will be demonstrated later. This chapter also includes a detailed discussion of the metrics used to assess predictive models where the target variable is binary or multi-level categorical. This discussion is relevant to other models used for categorical targets covered in other predictive model chapters. "],["intuition-about-binary-logistic-regression.html", "Intuition about binary logistic regression", " Intuition about binary logistic regression The illustration in Figure 7.2 presents a conceptual view of how a data set is used in logistic regression. Figure 7.2: Typical data structure for binary logistic regression. The yi values represent the observed values in Figure 7.2. The xij predictors can be continuous (e.g., age) or categorical (e.g., sex) variables. Logistic regression predicts the binary outcomes in two steps. First, the probabilities of 1’s and 0’s (the pri’s) are estimated for each observation. Second, a threshold probability level is used to convert the probabilities to binary predictions. One way of looking at the logistic model is to consider the example of consumers who may or may not attend a particular concert. One can imagine the probability of attending the event underlying each consumer decision. Some people will have low probabilities, others moderately high probabilities, and still others very high probabilities. A few with low chances will attend, and most customers with high probabilities will attend. But these probabilities are not observable. The only data that can be collected on these consumers is whether they attend the concert or do not attend the concert; in other words, a binary outcome. "],["modeling-probabilities.html", "Modeling probabilities", " Modeling probabilities Even though the probabilities cannot be observed, it is helpful to conceptualize a model where the probabilities are a function of the variables describing the customers ((7.1)). \\[\\begin{align} &amp;\\text{p(y}_{i} = 1) = f(\\ \\beta_{0} + \\ \\beta_{1}x_{i1} + ...\\ + \\ \\beta_{j}x_{ij} + \\ ...\\beta_{p}x_{ip}) \\\\ &amp;\\small\\text{Where $y_{i}$ is the probability that customer i attends the concert,} \\\\ &amp;\\small\\text{the $x_{ij}$ are variables measured on each customer, and} \\\\ &amp;\\small\\text{$beta_{j}$ are coefficients on predictors.} \\tag{7.1} \\end{align}\\] The probabilities estimated using equation (7.1) can be converted into binary outcomes using a threshold value, as shown in equation (7.2). The threshold is usually set at 0.5 but can be varied up or down in situations where the consequences of false positives (incorrectly predicting a binary one) and false negatives (incorrectly predicting a binary zero) differ greatly. Examples of adjusting the threshold will be discussed later. \\[\\begin{equation} \\text{if} \\ {p(y}_{i} = 1) \\geq threshold,\\ then\\ \\widehat{y_{i}} = 1,\\ else\\ \\widehat{y_{i}} = 0 \\tag{7.2} \\end{equation}\\] The function f() in equation (7.1) is the logistic function, which equals the natural logarithm of odds. Odds for each observation are computed as the natural logarithm of the ratio of the probability that yi = 1 to the probability that yi = 0. This function is called the logit. \\[\\begin{align} {logit}_{i} &amp;= \\ln\\left( {Odds|}_{y_{i}} \\right) \\\\ &amp;= \\ln\\left( \\frac{{p|}_{y_{i} = 1}}{{p|}_{y_{i} = 0}} \\right) \\\\ &amp;= \\ \\beta_{0} + \\ \\beta_{1}x_{i1}\\ + ...\\ + \\ \\beta_{j}x_{ij} + \\ ...\\beta_{p}x_{ip}) \\\\ \\\\ &amp;\\small\\text{Where ${{p|}_{y_{i} = 0}}$ indicates the probability that $y_{i}$ equals 1 given the $x_{ij}$. } \\tag{7.3} \\end{align}\\] "],["estimating-logistic-regression-parameters.html", "Estimating logistic regression parameters", " Estimating logistic regression parameters A method is needed to estimate the coefficients in equation (7.3). As with linear regression models, “training” the logistic model refers to learning the coefficients \\(\\beta_{j}\\) that generate the predicted values as close to the observed values as possible for all cases in the dataset. Unfortunately, unlike linear regression, no closed-form algebraic solution is available with logistic regression. Instead, an iterative algorithm is used to obtain successive approximations of the model weights (the βj) using a maximum likelihood function. The algorithm is efficient, and reasonable estimates are almost always found after several iterations. In practice, since an iterative process is used, the final solution is not guaranteed to be globally optimum but is sufficiently close to optimum in most cases. "],["example-using-simulated-data.html", "Example using simulated data", " Example using simulated data This first example shows how KNIME can fit a logistic model with two predictors. Synthetic data for this example was created with two continuous predictors, X1 and X2. The target variable yi is binary with two classes, 0 and 1. Fifty cases were created, 23 with \\(y_{i} = 1\\) and 27 with \\(y_{i} = 0\\). Figure 7.3 has the KNIME workflow (file: WorkflowForFigure7.3knwf), and Table 7.1 contains the node descriptions for the workflow. Figure 7.3: Workflow for simulated data. "],["node-descriptions-for-the-figure-7.3-workflow.html", "Node descriptions for the Figure 7.3 workflow", " Node descriptions for the Figure 7.3 workflow .cl-42f626e2{}.cl-42eaf6d2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42eaf6dc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-42ef75b8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42ef75c2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-42ef90a2{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42ef90a3{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42ef90ac{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42ef90ad{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42ef90ae{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-42ef90b6{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.1: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: SimulatedDataAnalysisForKNIME.csv.Output port: KNIME data table, 60 rows by 3 columns.Node 2Logistic Regression LearnerCreate the logistic modelSettings:- Target column: Y- Select solver: Iteratively reweighted least squares- Include: Predictors X1 and X2Input port: KNIME data table from Node 1Upper output port: Logistic regression modelMiddle output port: Coefficients and statistics from KNIME logistic modelLower output port: Model and learning propertiesNode 3Logistic Regression PredictorPredict the target variable using the logistic model on the simulated data set- Settings:Check: Custom prediction column name: Left Predict- Check: Append columns with predicted probabilitiesUpper input port: Logistic modelLower input port: Simulated data setOutput port: Original test data table plus predicted valuesNode 4ScorerProduce accuracy statistics and a confusion matrix for the logistic model training set- Scorer:First Column: Y - Second Column: Prediction(Y)Input port: Simulated data setUpper output port: Confusion matrix Lower output port: Accuracy statistics "],["the-logsitic-analysis-results.html", "The logsitic analysis results", " The logsitic analysis results Equation (7.4) shows the resulting logit model with the coefficients repeated in Table 7.2. \\[\\begin{equation} {logit}_{i} = \\ln\\left( {Odds|}_{y_{i}} \\right) = \\ln\\left( \\frac{{p|}_{y_{i} = 1}}{{p|}_{y_{i} = 0}} \\right) = \\ 6.496 - 6.870x_{i1}\\ - 3.375x_{i2} \\tag{7.4} \\end{equation}\\] .cl-4318f9a6{}.cl-43098ae8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43098afc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43124a52{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43124a5c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43124a5d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-4312656e{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43126578{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43126582{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43126583{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4312658c{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4312658d{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.2: Final estimated logistic regression coefficients. CoefficientsKNIME estimates β^1\\hat{\\beta}_1β^​1​6.496 β^2\\hat{\\beta}_2β^​2​-6.870 β^3\\hat{\\beta}_3β^​3​-3.375 "],["estimating-probabilities.html", "Estimating probabilities", " Estimating probabilities Probabilities for each observation in the data set are obtained by applying an exponential transformation ex to both sides of equation (7.4), resulting in equation (7.5). Solving for \\({p|}_{y_{i} = 1}\\) yields the prediction equation (7.6). \\[\\begin{equation} \\\\e^{\\ln\\left( \\frac{{p|}_{y_{i} = 1}}{{p|}_{y_{i} = 0}} \\right)}\\ = e^{6.496 - 6.870x_{i1}\\ - 3.375x_{i2}} \\\\ \\tag{7.5} \\end{equation}\\] \\[\\begin{equation} \\\\ {\\widehat{p}|}_{{\\widehat{y}}_{i} = 1} = \\frac{1}{1 + e^{- \\left( 6.496 - 6.870x_{i1}\\ - 3.375x_{i2}\\ \\right)}} \\tag{7.6} \\end{equation}\\] Since the logistic regression model was used to make predictions of the binary target, the next step is to evaluate how well the model performed. A partial table of the predictions using equation (7.6) is in Table 7.3. Table 7.4 shows a crosstabulation of all 60 predictions by the actual data, which indicates accuracy. .cl-434290fe{}.cl-4335bc8a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4335bc9e{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;top:3.3pt;}.cl-4335bca8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-433b4204{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-433b420e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-433b5eba{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ec4{width:0.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ec5{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ece{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ecf{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ed0{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ed8{width:0.7in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ed9{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5eda{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ee2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5eec{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5eed{width:0.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ef6{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ef7{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-433b5ef8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.3: Partial results from logistic regression on simulated data. RowIDx1x2YProb(Y=1)Prob(Y=2)Predicted YRow0-0.451.0910.9970.0031Row1-0.561.5110.9950.0051Row20.061.0110.9360.0641Row3-0.071.4510.8890.1111 …………………Row450.585.060010Row460.445.670010Row470.472.9200.0010.9990Row48-0.281.2710.9840.0161Row490.151.8800.2930.7070 .cl-436411c0{}.cl-43586564{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4358656e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-435d39c2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-435d56fa{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5704{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5705{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d570e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d570f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5718{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5719{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5722{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d5723{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-435d572c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.4: Prediction accuracy for the model with simulated data. Predicted Y valuesActual Y0102611221Accuracy = (26+21)/(26+1+2+21) = 0.94 Beyond measuring accuracy, analysts are interested in interpreting the model to make sure it makes sense. Some ways to do this are discussed in the next section. "],["the-nonlinearity-of-logistic-regression-coefficients.html", "The nonlinearity of logistic regression coefficients", " The nonlinearity of logistic regression coefficients One practical question related to interpreting a logistic model is, “How do changes in each predictor affect the value of the target variable?” This question is easily answered in ordinary linear regression (OLS). For example, in an OLS model with a continuous target variable, y, a coefficient on a predictor variable of 0.15 means that for every one-unit increase in that variable, the target variable y, increases by 0.15. Logistic regression is more complex since the model is linear only with log odds (or logit) changes. A predictor in a logistic model with a coefficient of 0.15 results in a 0.15 increase in the logit, but it is not intuitive what this means. The following table and charts illustrate the effects on probability with changes in a predictor in logistic regression. The changes in probability as predictors change is not a constant due to the non-linear model. The data set, and results are from the example discussed earlier. Table 7.5 gives the differences in values of X1 and X2 and the changes in probabilities. .cl-4384f570{}.cl-43789f64{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43789f6e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-437dd3c6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-437dd3d0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-437df04a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df054{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df055{width:0.4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df05e{width:4.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df05f{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df068{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df069{width:0.4in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df06a{width:4.7in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df072{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df073{width:4.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df07c{width:0.4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-437df07d{width:4.7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.5: Changes in probabilities as X1 and X2 are changed. FigureX1X2Change in probabilitiesFigure 7.4Change in X1 from -0.07 to 0.03 = 0.101.5Change in probability from 0.87 to 0.77= -0.10Figure 7.5Change in X1 from 0.17 to 0.27 = 0.101.5Change in probability from 0.57 to 0.40 = -0.17Figure 7.6Change in X1 from -0.07 to 0.03 = 0.102.0Change in probability from 0.57 to 0.39 = -0.18Figure 7.7Change in X1 from 0.17 to 0.27 = 0.102.0Change in probability from 0.19 to 0.11 = -0.08 "],["change-in-x1--0.07-to-0.03-with-x2-1.html", "Change in X1 (-0.07 to +0.03) with X2 = 1.50", " Change in X1 (-0.07 to +0.03) with X2 = 1.50 In Figure 7.4, the predictor X2 is held constant at 1.50, and X1 is varied from -0.07 to +0.03, an increment of 0.10. The chart shows that the increase of 0.10 in X1 results in a change in probability of -0.10. (Recall that the coefficient on variable X1 in the logistic regression model was negative.) Figure 7.4: Change in probability as X1 increases from -0.07 to +0.03 with X2 = 1.50 "],["change-in-x1-0.170-to-0.270-with-x2-1.html", "Change in X1 (+0.170 to +0.270) with X2 = 1.50", " Change in X1 (+0.170 to +0.270) with X2 = 1.50 In Figure 7.5, the predictor X2 is held constant at 1.50, and X1 is varied from 0.170 to 0.270, an increment of 0.10. The chart shows that the increase of 0.10 in X1 results in a change in probability of -0.10. Figure 7.5: Change in probability as X1 increases from +0.17 to +0.27 with X2 = 1.50 "],["change-in-x1--0.07-to-0.03-with-x2-2.html", "Change in X1 (-0.07 to +0.03) with X2 = 2.00", " Change in X1 (-0.07 to +0.03) with X2 = 2.00 Changes in the probability with changes in X1 also depend on the value of X2. Figure 7.6 shows the effects of the X1 increases from -0.07 to +0.03 with X2 held constant at 2.00. This results in a change in probability from 0.57 to 0.39. Figure 7.6: Change in probability as X1 increases from -0.07 to +0.03 with X2 = 2.00. "],["change-in-x1--0.07-to-0.03-with-x2-2.00-1.html", "Change in X1 (-0.07 to +0.03) with X2 = 2.00", " Change in X1 (-0.07 to +0.03) with X2 = 2.00 Changes in the probability with changes in X1 also depend on the value of X2. Figure 7.7 shows the effects of a change in X1 from +0.17 to +0.27 with X2 held constant at 2.00. The change in probability is -0.08. Figure 7.7: Change in probability as X1 increases from +0.17 to +0.27 with X2 = 2.00. The examples shown in the table and the figures demonstrate the difficulty of determining the effect of predictors on the probability that the target variable equals one. The logistic model is linear in the log odds, as shown in equation (7.3). Each coefficient indicates that a one-unit change in a predictor produces a constant change in the log odds. The changes in log odds also do not depend on the values of the other predictors. But the problem is that changes in log odds have little substantive meaning. The only interpretable statement that can be made about the logistic coefficients is that increases in predictors with positive coefficients result in increases in the log odds (and probabilities) and vice versa. "],["changes-in-odds-log-odds-and-probability.html", "Changes in odds, log odds, and probability", " Changes in odds, log odds, and probability The relationships among odds, log odds, and probability are monotonic, meaning that when one increases, the other never decreases, and when one falls, the other never rises. These measures, which are different ways of expressing the association between a binary outcome and predictors, are shown in Figures 7.8, 7.9, and 7.10. While the relationships are monotonic, they are not linear. Figure 7.8: Odds vs. Log odds. Figure 7.9: Probability vs. Odds. Figure 7.10: Probability vs. Log odds. "],["interpreting-logistic-results-using-log-odds.html", "Interpreting logistic results using log odds", " Interpreting logistic results using log odds Another way to interpret the coefficients in logistic regression is with odds ratios. The calculations for odds ratios are shown in equations (7.7) and (7.8). A nice feature of the logistic regression is that the odds ratio for a predictor is constant for all values of the other predictors. For \\({\\widehat{\\beta}}_{1},\\ \\)the odds ratio says that the odds ratio decreases by 0.0010 for each unit increase in X1. The odds ratio for a coefficient does not depend on the starting value but just the value change. A similar interpretation can be made for the odds ratio of \\({\\widehat{\\beta}}_{2}\\).The formulas for the odds ratios of \\({\\widehat{\\beta}}_{1}\\) and \\({\\widehat{\\beta}}_{2}\\)are shown in the equations. \\[\\begin{equation} \\begin{aligned} \\text { odds ratio for } \\widehat{\\beta}_1 &amp; =\\frac{\\text { odds }\\left(y=1, \\text { given } x_1=\\text { any value }+1\\right)}{\\text { odds }\\left(y=1, \\text { given } x_1=\\text { any value }\\right)} \\\\ &amp; =0.0010 \\end{aligned} \\tag{7.7} \\end{equation}\\] \\[\\begin{equation} \\begin{aligned} \\text { odds ratio for } \\widehat{\\beta}_2 &amp; =\\frac{\\text { odds }\\left(y=1, \\text { given } x_2=\\text { any value }+1\\right)}{\\text { odds }\\left(y=1, \\text { given } x_2=\\text { any value }\\right)} \\\\ &amp; =0.0342 \\end{aligned} \\tag{7.8} \\end{equation}\\] The odds ratios are easily calculated by exponentiating the coefficients on the predictors using the base of the natural logarithm, e, as shown in Table 7.6. .cl-43e0bed2{}.cl-43d44814{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43d4481e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43d905fc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43d90606{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43d90610{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-43d920dc{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920dd{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920e6{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920e7{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920f0{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920f1{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920f2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920fa{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d920fb{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.6: Calculating odds ratios. CoefficientsEstimatesOdds ratio β^1\\hat{\\beta}_1β^​1​-6.870$e^{-6.870}=0.0010$ β^2\\hat{\\beta}_2β^​2​-3.375$e^{-3.375}=0.0342$ Interpreting the coefficients in a logistic regression model is frequently helpful in understanding whether a model makes sense. However, the predictive performance of classification models is nearly always the most important kind of assessment that is made. "],["evaluating-classification-models.html", "Evaluating classification models", " Evaluating classification models Metrics for models with binary targets The performance of a logistic model when predicting a binary target can ultimately determine whether the goals of a project are met and if the model is useful. As discussed in Chapter 1, models do not have to be perfectly accurate to be useful, but it is critical to assess how well predicted values correspond to known classifications. The basis for several performance metrics with binary classification models is the 2 X 2 crosstabulation table of predicted versus actual values. These tables are called confusion or classification matrices in the prediction analytics context. One of the binary outcomes is usually the primary concern in the application. If the model accurately predicts the preferred outcome, it is a true positive. If the model accurately predicts the outcome we are not interested in, it is labeled a true negative. Deciding which output to call positive and which to label negative is only sometimes obvious. A positive outcome is not necessarily \"good,\" nor is a negative outcome necessarily \"bad.\" Provost and Fawcett suggest that positive outcomes are the ones that are “worthy of attention” (Provost, F. and T. Fawcett, 2013). In medicine, a positive prediction outcome might be disease detection, and in fraud identification, a positive outcome could be a prediction of fraud. In predicting employee turnover, the positive outcome, the one of interest, might be that the employee leaves the company, while a negative outcome is that the employee stays. While this labeling might not be intuitive, it is essential to clearly state before a classification model is built to define the meaning of positive and negative outcomes. Many of the measures described below that are used to assess performance and interpret results in confusion matrices to depend on clear definitions of which outcome is considered positive and which is regarded as negative. "],["confusion-matrices.html", "Confusion matrices", " Confusion matrices A confusion matrix can have four labeled cells, as shown in Table 7.7. The table shows the actual values in rows and the predicted values in the columns. The confusion matrices produced by the Scorer node in KNIME conform to this structure. (Other software may reverse this arrangement, putting the actual in columns and the predicted in rows, so it is important to check how a specific software tool displays confusion matrices.) .cl-4406219a{}.cl-43f93a3e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43f93a52{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43fecda0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43fef1ae{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1b8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1b9{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1c2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1c3{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1c4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1cc{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1cd{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1ce{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1cf{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1d6{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43fef1d7{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.7: Cells in a confusion matrix. PredictionActualNegativePositiveNegativeTrue negativeFalse positivePositiveFalse-negativeTrue positive Several measures are frequently used to assess model performance using a 2 X 2 table, all provided by the Scores node in KNIME. These are: Accuracy = (True positive + True negative) / Total cases (Also known as the “fraction correct.) Sensitivity = (True positive) / (True positive + False negative) (Also known as “recall”. Specificity = (True negative) / ( True negative + False positive) (Also known as “true negative rate”). Precision = (True positive) / (True positive + False positive) (Also known as “positive predictive value) F-score = 2 X [(sensitivity X precision)]/[(sensitivity + precision)]. "],["which-metrics-to-use-with-confusion-matrices.html", "Which metrics to use with confusion matrices?", " Which metrics to use with confusion matrices? Since every application is different, there is no single correct classification metric for all situations. Accuracy is valuable when the number of false positives and false negatives is approximately equal, and the cost or seriousness of false positives and false negatives are similar. Consider the hypothetical results for predicting the Covid-19 virus and SPAM email in Tables 7.8 and 7.9. Tables 7.10 and 7.11 show hypothetical results for two models for detecting SPAM email. It is assumed that the positive outcome for Covid-19 is correctly detecting the virus, and for SPAM, the positive outcome is correctly identifying an email as SPAM. The performance metrics for the four tables are shown with formulas in Table 7.9. Accuracy in all four tables = (2,000 + 5,000)/(2,000 + 10 + 400 + 5,000) = 94.4%, yet the models are not equally favorable. Accuracy is not a good measure for these two situations since the consequences of false positives and false negatives are different. For the Covid-19 tests, it is more important to avoid classifying cases of actual Covid than not having Covid. Therefore, model 1 is preferred to model 2 because only ten Covid cases were mistakenly classified as Not Covid. Model 1 has a greater number of false positives, and despite possibly stressing the patient and causing further tests, this is a less severe error. In general, if false positives are not as serious as false negatives, sensitivity is a good metric, which is 0.998 in this example. For the SPAM tests, it is more important that the model does not send non-SPAM messages into the SPAM folder. If this happens, the email user might never see critical messages. If false positives are more serious than false negatives, precision is a good metric. So, model 2 is better with precision equal to 0.998. .cl-442fcd88{}.cl-441e281c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-441e2826{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4424b60a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4424d1d0{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1da{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1e4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1e5{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1ee{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1ef{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1f8{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1f9{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d1fa{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d202{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d203{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4424d20c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.8: Covid-19 model 1. PredictedActualNot CovidCovidNot Covid2000400Covid105000 .cl-44565f66{}.cl-444ac192{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-444ac19c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-444f7b6a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-444f9906{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9910{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f991a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f991b{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f991c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9924{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9925{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9926{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f992e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f992f{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9930{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-444f9938{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.9: Covid-19 model 2. PredictedActualNot CovidCovidNot Covid200010Covid4005000 .cl-447a4d40{}.cl-446ec600{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-446ec60a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-447365ca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-44738186{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44738187{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44738190{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44738191{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44738192{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4473819a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4473819b{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-447381a4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-447381a5{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-447381a6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-447381ae{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-447381af{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.10: SPAM model 1 PredictedActualNot SPAMSPAMNot SPAM2000400SPAM105000 .cl-449f82fe{}.cl-4493b280{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4493b28a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4498b618{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4498d1b6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1b7{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1c0{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1ca{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1cb{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1cc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1d4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1d5{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1de{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1df{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1e0{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4498d1e8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.11: SPAM model 2 PredictedActualNot SPAMSPAMNot SPAM200010SPAM4005000 .cl-44cf4584{}.cl-44c2d59c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-44c2d5a6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-44c736be{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-44c736c8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-44c736d2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-44c736d3{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.5;background-color:transparent;}.cl-44c752ac{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44c752ad{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44c752b6{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44c752b7{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44c752c0{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-44c752c1{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.12: Metrics for Covid-19 and SPAM confusion matrices. ModelAccuracyPrecisionSensitivitySpecificityF-ScoreCovid-19 model 10.9450.9260.9980.8330.908Covid-19 model 20.9450.9980.9260.9950.959SPAM model 10.9450.9260.9980.8330.908SPAM model 20.9450.9980.9260.9950.959 Another frequently used assessment tool for binary prediction models, the ROC curve, is discussed in the next section. The ROC curve is useful for comparing predictive models visually. "],["roc-curves.html", "ROC curves", " ROC curves ROC (receiver operating characteristic) curves show the tradeoff that must occur between true positives and false positives in a predictive model. There is always such a tradeoff in a single predictive model. The true positive rate is sensitivity, and the false positive rate is obtained by taking one minus specificity. Figure 7.11 shows a typical ROC curve. If observations were randomly assigned as positive or negative, the performance would be shown as the dashed line in the ROC curve. (If performance is below the dashed line, the performance would be worse than random.) The gap between the dashed line and the solid ROC curve is of interest in ROC charts. The larger the gap and the closer the ROC solid line is to the upper left corner, the better the model. The area under the ROC curve is reported as a summary measure of model performance. The area has a maximum of 1.0 since both the False Positive and True Positive axes range from 0.0 to 1.0. If the area is close to 0.50, then the model does not do much better than randomly assigning observations to positive or negative outcomes. Figure 7.11: Example of an ROC curve. ROC curves are derived by changing the threshold probability of assigning observations to positive or negative outcomes. The default threshold level is usually set to 0.50, but it can be varied between 0.0 and 1.0. Each point on the ROC curve corresponds to one decision threshold value. The left panel in Figure 7.12 superimposes several decision threshold values on the ROC chart. The ROC chart traces the threshold range from 0.0 to 1.0, clearly showing the tradeoff between true and false positives. The tradeoff idea is demonstrated in the right panel of Figure 7.12. Assume that the goal is to have 90% sensitivity. This can be achieved by setting the threshold very low. To determine the threshold from the chart, a line can be drawn on the y-axis at 0.90 until it intersects the ROC curve. The intersection occurs at a threshold of about 0.10. A line can then be dropped from the ROC curve from the 0.10 point down to the false positive rate on the x-axis. The dropped line intersects the x-axis midway between 0.40 and 0.50. This means that while sensitivity is relatively high at 90%, false positives will be 40% or more. If this rate of false positives is unacceptable, it can be reduced by increasing the threshold, which will reduce the sensitivity or True Positives. The only way to avoid this tradeoff is to develop a more accurate model with an ROC curve above that shown in Figure 7.12. Figure 7.12: Threshold values on an ROC curve. ROC curves also provide a convenient way of comparing the performance of two or more predictive models. Figure 7.13 compares the ROC curves of the two models. The model represented by the solid black line dominates the performance of the model represented by the dashed line. It sometimes happens that the curves from two or more ROC curves cross, as shown in Figure 7.14. In this case, the model represented by the solid line is better when the True Positives are low and the False Positives are low. At higher levels of True Positives, the model in Figure 7.14, given by the dashed line, is better. Figure 7.13: Comparing models using ROC curves Figure 7.14: Overlapping performance. The metrics discussed so far apply only to binary predictions and 2 X 2 confusion matrices. The metrics discussed in the next section can be used if a predictive model is used where the target variable has three or more possible outcomes. "],["metrics-with-multiple-level-categorical-targets.html", "Metrics with multiple-level categorical targets", " Metrics with multiple-level categorical targets One way to assess performance in cases where the target variable has three or more levels is to reduce the outcome to a binary case. A good example to demonstrate this approach, based on the classification of diamonds by quality, is provided by (Bex 2021).Four grades of diamond in order of quality are considered: Ideal, Premium, Good, and Fair. Assume a predictive model yielded the 4 X 4 confusion matrix with hypothetical entries in each of the 16 cells in the matrix on the left in Figure 7.15. The 4 X 4 matrix can be reduced to a 2 X 2 confusion matrix in several ways. For example, collapsing the 4 X 4 matrix can be achieved if one outcome is particularly interesting. The matrix shown in the center of Figure 7.15 focuses on predicting Ideal diamonds versus the rest, and another approach is useful if there is an ordering of the categories. In the matrix on the right in Figure 7.15, Ideal and Premium diamonds versus Good and Fair diamonds are compared. In both cases, the metrics discussed in the previous section can be used to assess performance. Figure 7.15: Metrics for multi-level categorical targets. Another method based on collapsing multi-category targets is to find the sensitivity, precision, and F1 score by forming 2 X 2 matrices using each level versus the others. The example above requires that 2 X 2 matrices be obtained for Ideal versus others, Premium versus others, Good versus others, and Fair versus others. The results for each level are then averaged. The measures using the four matrices are shown in Table 7.13 .cl-451bb50e{}.cl-450f63d0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-450f63da{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45143414{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45143428{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45143429{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-45143432{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.5;background-color:transparent;}.cl-451452b4{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452c8{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452c9{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452ca{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452d2{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452d3{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452d4{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452dc{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452dd{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452e6{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452e7{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-451452e8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.13: Metrics for Covid-19 and SPAM confusion matrices. MetricIdeal vs OthersPremium vs OthersGood vs OthersFair vs OthersAverageSensitivity0.3860.6000.7300.6350.588Precision0.5790.4910.6750.6100.589F1 score0.4630.5400.7010.6220.582 References "],["cohens-kappa.html", "Cohen’s Kappa", " Cohen’s Kappa If collapsing to binary tables is not reasonable, overall accuracy can still be used. Overall accuracy could be calculated by summing the entries on the diagonal of the 4 X 4 matrix in Figure 7.15 and dividing them by the total number of observations in the table. However, computing accuracy in this way is not desirable because the metric will not consider the distribution of misclassifications. Logically, the classifications (and misclassifications) of levels with a large number of observations should be weighted more heavily in evaluating performance. One metric that does consider the distribution of multi-level classification is Cohen's Kappa, which is provided in the classification metrics produced with KNIME’s Score node. The formula for Cohen’s Kappa compares the observed accuracy with the prediction model with the expected accuracy under random chance (equation (7.9)). \\[\\begin{equation} \\text { Cohen&#39;s Kappa }=\\frac{(\\text { observed diag obs }- \\text { expected diag obs })}{(\\text { Total obs }- \\text { expected diag obs })} \\tag{7.9} \\end{equation}\\] Calculating Cohen's Kappa requires estimating the expected values along the diagonal of the confusion matrix, which is explained in the Appendix to this chapter. Kappa only considers accuracy without assessing sensitivity, precision, and other metrics. "],["example-predicting-employee-retention.html", "Example: Predicting employee retention", " Example: Predicting employee retention An illustration of logistic regression to predict employee retention (and its inverse, turnover) is developed here. According to a report from the Work Institute (“2020 Retention Report,” n.d.), more than 27 percent of U.S. employees voluntarily left their jobs in 2020, resulting in an estimated cost of $630 billion. Recruitment and training of new employees plus loss of productivity contribute to the costs. This study furthermore reported that more than three-fourths of the turnover was preventable. Predictive analytics can enable employers to identify employees at risk of leaving. For those at risk that the organization wants to retain, the employer can take preemptive steps to reduce the chances of turnover. To accomplish this, data on past turnover plus potential individual employee-level predictors are needed. A data set on employee turnover was obtained from Kaggle . This data set has 14,999 rows and nine columns; variable descriptions in Table 7.14. .cl-453ec012{}.cl-453260f6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45326100{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45374f76{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45377a46{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45377a50{width:7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45377a5a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45377a64{width:7in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45377a65{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45377a66{width:7in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.14: Variables in the HR turnover data set. VariableDescriptionSatisfactionLevel scored 0 to 1EvaluationLast evaluation rating scored 0 to 1ProjectsNumber of projects completed while at workHoursAverage monthly hours at the workplaceYearsNumber of years spent in the companyPromotionWhether the employee was promoted in the last five years (Yes, No)DepartmentSales, technical, support, IT, product_mgt, marketing, ResAndDevel, accounting, hr, managementSalaryRelative level of salary: low, medium, highLeftWhether the employee left the workplace or not (Left, Did not leave); target variable Before running the logistic regression, an exploratory analysis of the data was conducted. The analysis examined each continuous variable for outliers or extreme skewness and each categorical or string variable for sparse frequencies. The workflow for the exploratory analysis is in Figure 7.16 (file: WorkflowForFigure7.16.knwf, and the node descriptions are in Table 7.12. Figure 7.16: Workflow for exploration of employee turnover data. References "],["node-descriptions-for-the-figure-7.16-workflow.html", "Node descriptions for the Figure 7.16 workflow", " Node descriptions for the Figure 7.16 workflow .cl-456b5c4e{}.cl-455fa714{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-455fa71e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-456467b8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-456467c2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4564859a{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-456485a4{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-456485ae{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-456485af{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-456485b8{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-456485b9{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.15: KNIME nodes. NodesDescriptionsInput and output portsNode 1File readerRead Employee_turnover.csvOutput port: KNIME data table with employee turnover with 14,999 rows and nine columnsNode 2StatisticsCalculate statistics such as minimum, maximum, mean, standard deviation, variance, median, overall sum, number of missing values, row count across all numeric columns, and frequency counts for all continuous and numeric variables values. Options:- Include all variables.- Check: Calculate median valuesInput port: KNIME data table with employee turnover Upper output port: Statistics on continuous variablesMiddle output port: Histograms for categorical variables (not used in this example)Lower output port: Occurences (frequencies) for categorical variablesNode 3Excel WriterWrite the statistics on continuous variables to an Excel file.Input port: Statistics on continuous variablesSave Excel file: HRStatistics.xlsxNode 4Excel WriterWrite the frequencies of all variables to an Excel file.Input port: Occurences (frequencies) for all variables Save Excel file: HRFrequencies.xlsx "],["findings-from-the-exploratory-analysis-of-the-employee-turnover-data.html", "Findings from the exploratory analysis of the employee turnover data", " Findings from the exploratory analysis of the employee turnover data In Table 7.16, all the continuous variables are shown to have low or moderate skewness except YearsAtCompany, which is moderately skewed. There are no missing values for these variables. Table 7.17 has the frequencies of values for the categorical variables. .cl-4594e5a0{}.cl-45882f0e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45882f22{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-458ca156{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-458ca16a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-458ca174{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-458cc50a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc514{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc515{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc51e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc51f{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc528{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc529{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc532{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-458cc533{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.16: Descriptive statistics on continuous variables in HR data. VariableMinMaxMeanMedianStd. deviationSkewnessNo. missingSatisfaction0.0910.6130.640.249-0.4760LastEvaluation0.3610.7160.720.171-0.0270Projects2.0073.8034.001.2320.3380AverageHours96.00310201.050200.0049.9430.0530 Since YearsAtCompany was skewed, it can adversely affect the performance of a classification model such as logistic regression. So, a log-transformed was applied to the variable. The skewness of YearsAtCompany was reduced from 1.853 to 0.589 after the transformation. .cl-45bfbd66{}.cl-45b39ca2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45b39cc0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45b85bc0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45b85bca{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45b85bcb{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-45b85bcc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-45b85bcd{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 0.8;background-color:transparent;}.cl-45b85bd4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-45b87998{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879a2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879a3{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879ac{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879ad{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879b6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879b7{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879b8{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879c0{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879c1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879ca{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45b879cb{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.17: Frequencies of categorical variables in employee turnover data. VariableLevelsCountsRelative FrequencyPromotionNo14,6800.979Yes3190.021Departmentsales4,1400.276technical2,7200.181support2,2290.149IT1,2270.082product_mgt9020.060marketing8580.057ResAndDevel7870.052accounting7670.051hr7390.049management6300.042SalaryLow7,3160.488Medium6,4460.430High1,2370.082Left Did not leave11,4280.762Left3,5710.238 Another issue with the data, apparent in Table 7.19, is the imbalance in the target variable, Left. There are more than three times the number of observations where the individual did not leave as did leave. This imbalance tends to affect the classification by disproportionately assigning the outcome predictions to the majority level. With extreme levels of imbalance, the model can sometimes assign all cases to the majority level, resulting in a useless predictive model. One approach to remedying this is to oversample the minority level to balance the data. The SMOTE node in KNIME can do this. SMOTE is applied only to the training data. However, the evaluations using the Scorer nodes use the unbalanced data for both the training and test sets to make fair assessments of the model's ability to predict new data. Figure 7.17 (file: WorkflowForFigure7.17.knwf) has the workflow for the logistic regression on the employee turnover data, and Table 7.18 has the node descriptions. Figure 7.17: KNIME workflow for logistic regression on employee turnover data. "],["node-descriptions-for-the-figure-7.18-workflow.html", "Node descriptions for the Figure 7.18 workflow", " Node descriptions for the Figure 7.18 workflow .cl-45eff3a0{}.cl-45e49ce4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45e49cf8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-45e943de{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45e943e8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-45e95e6e{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45e95e6f{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45e95e78{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45e95e79{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45e95e82{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-45e95e83{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.18: KNIME nodes. NodesDescriptionInput and output portsNode 1File ReaderRead Employee_turnover.csvOutput port: KNIME data table with employee turnover with 14,999 rows and 9 columnsNode 2Math FormulaThis node can evaluate a mathematical expression based on the row values of a variable using a large assortment of available functionsMath Expression- ln($YearsAtCompany$)- Check Replace Column: YearsAtCompanyInput node: KNIME data table with employee turnover Output node: Data table with ln(YearsAtCompany)Node 3PartitioningFirst partition- Select Relative: 70%- Select Stratified sampling: Left - Check: Use random seed: 123Input port: Data table with ln(YearsAtCompany)Upper output port: Training dataLower output port: Test dataNode 4SmoteSMOTE oversamples the input dataSettings- Class column: Left- Check: Oversample minority classes- Check: Enable static seed: 123Input node: Training dataOutput node: Oversampled training data with a balanced number of Left and Did not leave target valuesNode 5Logistic Regression LearnerCreate the logistic modelSettings:- Target column: Left- Select solver: Iteratively reweighted least squares- Include: All predictor variablesInput port: Oversampled training dataUpper output port: Logistic regression modelMiddle output port: Coefficients and statisticsLower output port: Model and learning propertiesNode 6Logistic Regression PredictorPredict the target variable using the logistic model on the training dataSettings:- Check: Custom prediction column name: Left Predict- Check: Append columns with predicted probabilitiesUpper input port: Logistic modelLower input port: Training dataOutput port: Original training data table plus predicted valuesNode 7ScorerProduce accuracy statistics and a confusion matrix for the logistic model training setScorer:- First Column: Left - Second Column: Left PredictInput port: Training dataUpper output port: Confusion matrix with training dataLower output port: Accuracy statistics with training dataNode 8Logistic Regression PredictorPredict the target variable using the logistic model on the test dataSettings:- Check: Custom prediction column name: Left - PredictCheck: Append columns with predicted probabilitiesUpper input port: Logistic modelLower input port: Test dataOutput port: Original test data table plus predicted valuesNode 9ScorerProduce accuracy statistics and a confusion matrix for the logistic model test set.Scorer:-- First Column: Left - Second Column: Left PredictInput port: Test dataUpper output port: Confusion matrix with test dataLower output port: Accuracy statistics with test data "],["results-for-the-analysis-of-employee-turnover.html", "Results for the analysis of employee turnover", " Results for the analysis of employee turnover The classification matrices for the training and test data are shown in Table 7.19 and Table 7.20. The metrics for the training and test data sets shown in Table 7.21 show that the model’s performance for the training and test data subsets is very close. .cl-4616bef4{}.cl-4609bd58{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4609bd6c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-460f5d76{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-460f5d80{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-460f5d81{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-460f7fb8{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fc2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fcc{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fcd{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fd6{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fd7{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fe0{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fe1{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fe2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7fea{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7feb{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7ff4{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-460f7ff5{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.19: Confusion matrix for training data. PredictedActualLeft companyDid not leaveTotalLeft company 2,133 367 2,500 Did not leave 2,034 5,965 7,999 Total 4,167 6,332 10,499 .cl-463d966e{}.cl-4631e2a6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4631e2ba{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-463662a4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-463662ae{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-463662af{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46367f8c{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367f96{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fa0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fa1{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fa2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367faa{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fab{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fb4{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fb5{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fbe{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fbf{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fc8{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fc9{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fd2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fd3{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fdc{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fdd{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46367fde{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.20: Confusion matrix for test data. PredictedActualLeft companyDid not leaveTotalLeft company 918 153 1,071 Did not leave 862 2,567 3,429 Total 1,780 2,720 4,500 .cl-4660a938{}.cl-46550f74{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46550f88{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4659de14{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4659de1e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4659de1f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-4659fae8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659faf2{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fafc{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fafd{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fb06{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fb07{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fb10{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fb11{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4659fb12{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.21: Performance metrics for training and test data. MetricTraining dataTest dataAccuracy0.7710.774 Cohen's Kappa 0.4870.493 Precision 0.5120.516 Sensitivity 0.8530.857Specificity0.7460.749F-measure0.6400.611 The workflow is not shown here, but the analysis was repeated without taking the natural log of YearsAtCompany. An ROC chart was then created to compare the model's performance with the log and without the log transformation. The resulting chart is in Figure 7.18. The upper curve in the figure is for the analysis with the log transformation (area under the curve = 0.833). This model performed slightly better than the model without the log transformation (area under the curve = 0.820). Figure 7.18: ROC curves to show the effect of log transformation. "],["predictor-interpretation-and-importance.html", "Predictor interpretation and importance", " Predictor interpretation and importance Two questions about the employee turnover model from the previous section are: \"How can the changes in the predictor variables be interpreted? What is the relative importance of each predictor of employee turnover?\" Answering these might provide insight into what steps might be taken to reduce turnover. The question of predictor (or feature) importance has been studied extensively with multiple regression models. However, comparatively little has been published about measuring predictive importance in logistic regression (Azen and Traxel, 2009). An approach based on \"dominance analysis\" has been developed and is available in Python and R. Dominance analysis is not directly available in KNIME. A simpler approach will be discussed in this section. The coefficients on the predictors cannot be used to infer importance in logistic regression because these coefficients are for the log of the odds. So, the relative sizes of the coefficients in a logistic model cannot indicate predictor importance, even if the predictor variables are normalized. Likewise, the p-values for significance tests on each predictor cannot be interpreted as a measure of importance in a practical sense. A small p-value indicates that the variable has a low variance compared with its magnitude, but it could still have a minor effect on the target variable's probability. What is usually desired is the impact on the probability of the outcome as changes are made in each predictor. As discussed earlier in the chapter, this is complicated because the effect on the probability of the outcome is not a linear function of changes in a predictor, and the probabilities associated with a predictor depend upon the values of the other predictors. Thus, the \"importance\" of a particular predictor varies based on the range of the predictor being considered and the settings of every other predictor. "],["an-approximate-method-for-predictor-interpretation.html", "An approximate method for predictor interpretation", " An approximate method for predictor interpretation In general, for binary logistic models, no approach to interpretation can fully describe the relationship between changes in a predictor value and the probability of the target variable (Long and Frees 2006). One approximate approach is to examine the effect on the likelihood of the outcome, as each predictor varies over its range. While this seems straightforward, this approach is complicated because the effect on probability resulting from changing one input variable depends upon the values of the other predictors, as was demonstrated earlier in this chapter. A \"baseline\" set of values provided a starting point for exploring probabilities. The baseline values for all the continuous predictors were set to their respective means, and the baselines for the nominal variables were set to their modal values. Next, a range was established for each continuous variable using the maximum and minimum values. Since Department was categorical, the range was set from HR to Management since those in Management were least likely to leave, and those in HR were most likely to leave. The analysis proceeded by maintaining all predictors at the baseline levels except one that varied over its range. The \"importance\" of a predictor was computed as the absolute value of the probability difference as the predictor varied from its minimum to its maximum. The baseline, maximum, and minimum settings are shown in Table 7.22. .cl-468c64b0{}.cl-4680b548{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4680b552{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-468581f4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-468581fe{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:40pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46858208{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-46858209{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:60pt;line-height: 1;background-color:transparent;}.cl-46859e82{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46859e8c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46859e8d{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46859e96{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46859ea0{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46859ea1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.22: Cells in a confusion matrix. VariableBaselineMaxMinSatisfaction0.6101.0000.09 Evaluation 0.7201.0000.36 Projects 3.8007.0002 Hours 201.050310.00096Years3.50010.0002Promotion No Yes NoDepartment Sales Management HRSalary Low High Low Using the values shown in Table 7.22, the effects of varying each predictor over its range can be assessed. The results shown in Table 7.23 indicate that the \"Number of years spent in the company\" was most important, followed by “Satisfaction.” Note that this method still does not fully address the questions of interpretation or importance since only one predictor is varied at a time. .cl-46b1b206{}.cl-46a51618{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46a5162c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46a9a96c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46a9a980{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46a9a98a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-46a9a98b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:45pt;line-height: 0.5;background-color:transparent;}.cl-46a9c8c0{width:4.6in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a9c8ca{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a9c8cb{width:4.6in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a9c8d4{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a9c8d5{width:4.6in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a9c8de{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.23: Range of probabilities of leaving by predictor. PredictorRange of probabilitiesNumber of years spent in the company0.78Satisfaction0.75Number of projects completed while at work 0.53Relative level of salary: low to high0.37Whether the employee was promoted in last five years0.39Average monthly hours at the workplace0.31Department in which the employee worked0.22Last evaluation rating scored0.15 Another way of interpreting predictors is to plot changes in probability by a predictor at various levels of another predictor. Figure 7.19 shows how the probability of leaving the company varies with the level of satisfaction at three salary levels. As might be expected, employees with Low salaries were generally more likely to leave at any level of satisfaction. This type of analysis is useful when examining the impact of two variables but still does not fully address the question of variable importance. Figure 7.19: Probability vs. Satisfaction at different Salary levels. References "],["example-predicting-heart-disease.html", "Example: predicting heart disease", " Example: predicting heart disease Logistic regression has been used in many different medical and healthcare studies. The data for this example is from extensive research on heart conditions conducted at the Cleveland Clinic. The goal is to predict the presence of heart disease measured as a binary outcome. The data set here is an abbreviated version of the original study data and contains 270 observations on 14 variables, as shown in Table 7.24. .cl-46dd40d8{}.cl-46d09946{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46d09950{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-46d5bfde{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-46d5bfe8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-46d5bfe9{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:40pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-46d5dc3a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5dc44{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5dc45{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5dc4e{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5dc4f{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46d5dc58{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.24: Variables in the heart disease data set. VariableDescriptionAge age in years Sex male; female Chestpain type (4 values as follows) - typical angina - atypical angina- non-anginal pain- asymptomaticResting_BP resting blood pressure (in mm Hg )Cholesterol serum cholesterol in mg/dl Fasting_sugar_gt_120mg fasting blood sugar &gt; 120 mg/dl (TRUE, FALSE) Resting_EKG resting electrocardiographic results (three values as follows) - normal- STT_T abnormality- left ventricular hypertrophyMax_heart_rate_achieved Numeric value of beats per minuteExercise-induced angina yes, no ST_depression depression of trace segment induced by exercise relative to rest Peak_exercise_ST The slope of the peak exercise stress test segment (three values as follows)- upsloping - flat - downslopingNum_vessels_by_fluoroscopy number of major vessels (0-3) colored by fluoroscopy Thalassemia shows how well blood flows into your heart- normal- fixed defect- reversible defectHeart_diseasenot present; present (target variable) The KNIME workflow (file: WorkflowForFigure7.20.knwf) for analyzing the heart disease data is shown in Figure 7.20, and the node descriptions are in Table 7.25. The nodes for the analysis use the H2O integration with KNIME. The H2O model was used for logistic regression in this example because it includes the ability to perform regularized logistic regression, which will be discussed later in the chapter. H2O is a machine learning platform that provides many machine learning tools, some of which are unavailable directly in KNIME. This integration enables KNIME to exploit some of the latest and most powerful algorithms. Since several predictor variables were categorical, the KNIME node One to Many created dummy indicator variables for those predictors. The Column Filter was used to drop one dummy indicator for each categorical variable since each k-level categorical value only has k-1 independent levels. This resulted in 21 coefficients to be estimated in the logistic regression. Figure 7.20: KNIME workflow for logistic regression on heart disease data. "],["node-descriptions-for-the-figure-7.20-workflow.html", "Node descriptions for the Figure 7.20 workflow", " Node descriptions for the Figure 7.20 workflow .cl-470bc98a{}.cl-470059ec{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-470059f6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4704ccca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4704ccd4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4704e926{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4704e930{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4704e93a{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4704e93b{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4704e944{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4704e945{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.25: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: ClevelandHeartData.csvOutput port: Heart data table with 297 rows and 14 columnsNode 2MetanodeData PreparationThis Metanode transforms all categorical variables (except the target variable) into indicator variables coded 0 or 1. For each categorical variable, one indicator is dropped since it is redundant using the column filter.Nodes in this metanode are shown below.- Node M1_1One to Many- Node M1_2Column FilterInput port: Heart data tableOutput port: Heart data with 297 rows with 5 continuous variables, 15 indicator (0,1) variables, and one categorical target (Heart disease present or not present) Node 3PartitioningSet First partition- Select Relative: 80%- Select Stratified sampling: Heart_Disease- Check: Use random seed: 123Input port: Heart data table with dummy indicators for all categorical variablesUpper output port: Training data (237 X 21)Lower output port: Test data (60 X 21)Node 4Metanode to convert to H2OframeCreate local context for running H2O in KNIMEConvert KNIME training data table to H2O frame.Nodes in this metanode are shown below.- Node M2_1H2 Local Context- Node M2_2 Table to H2OInput port: Training data in KNIME table (237 X 21)Output port: H2O frame with training data (237 X 21)Node 5H2O Generalized Linear Model LearnerLearns a Generalized Linear Model(GLM) classification model using H2OGeneral Settings- Target Column: Heart_disease- Include all other variables- Check: Use static random seed 123.Algorithm Settings- Check Set alpha: 0&emsp;Input port: H2O frame with training data (237 X 21)Upper output port: H2O logistic modelLower output port: Model coefficients Node 6Metanode H2O Logistic PredictorUses the logistic model to predict values with the training data set Convert the predicted values in the H2O frame to a KNIME tableNodes in this metanode are shown below.Node M4_1 H2O Predictor(Classification)Node M4_2 H2O to TableUpper input port: H2O logistic modelLower input port: H2O frame with training data (237 X 21)Output port: KNIME data table with training data and predicted values of heart diseaseNode 7ScorerProduces accuracy statistics and a confusion matrix for the logistic model training set.Scorer- First Column: Heart_Disease - Second Column: Prediction (Heart Disease)Input port: Training data predicted valuesUpper output port: Confusion matrix with training dataLower output port: Accuracy statistics with training dataNode 8Metanode to convert to H2O frameCreate local context for running H2O in KNIMEConvert KNIME test data table to H2O frameNodes in this metanode are shown below.Node M3_1H2 Local ContextNode M3_2Table to H2OInput port: Test data in KNIME table (60 X 21)Output port: H2O frame with training data (60 X 21)Node 9Metanode H2O Logistic PredictorUses the logistic model to predict values with the test data setConvert the predicted values in the H2O frame to a KNIME tableNode M5_1H2O Predictor(Classification)Node M5_2H2O to TableUpper input port: H2O logistic modelLower input port: H2O frame with test data (60 X 21)Output port: KNIME data table with test data and predicted values of heart diseaseNode 10ScorerProduces accuracy statistics and a confusion matrix for the logistic model test set.Scorer- First Column: Heart_Disease - Second Column: Prediction (Heart Disease)Input port: Test data predicted valuesUpper output port: Confusion matrix with test dataLower output port: Accuracy statistics with test data "],["results-for-heart-disease-prediction.html", "Results for heart disease prediction", " Results for heart disease prediction The accuracy of predicting heart disease was calculated using the Scorer nodes, and the results are shown in Table 7.26 for the training data and Table 7.27 for the test data. While the training data accuracy is relatively high, the performance on the test data was not as good. This suggests that the model was overfitting the data. This can occur with any predictive model and is especially likely in cases where the number of predictors is large compared to the number of observations. Twenty-one parameters were estimated, and 207 observations were in this example, so, unsurprisingly, the model was overfitting. Regularization can be applied to logistic regression models to mitigate overfitting. .cl-473072d0{}.cl-4724ad9c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4724ada6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-47296d1e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47298ace{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298ad8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298ad9{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298ada{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298ae2{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298ae3{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298aec{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298af6{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298af7{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47298b00{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.26: Prediction results for training data. Predicted heart diseaseActualnot presentpresentnot present1199present1396Accuracy = (119 + 96)/(119+9+13+96) = .907 .cl-4755f7ee{}.cl-4749b9d4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4749b9de{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-474e5a02{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-474e76a4{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76a5{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76ae{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76af{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76b8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76c2{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76c3{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76cc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76cd{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-474e76ce{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.27: Prediction results for test data. Predicted heart diseaseActualnot presentpresentnot present266present633Accuracy = (26 +22)/(26 + 6 + 6 + 22) = .800 "],["regularized-logistic-regression.html", "Regularized logistic regression", " Regularized logistic regression Logistic regression can use regularization to improve generalizability, the model's ability to predict new data more accurately. Regularization reduces the chances of overfitting the model to a training set by reducing the chances that the model picks up noise or very unusual data patterns that are unlikely to be found in new data. Regularization works by changing the learning goal from a single-minded reduction of the prediction error to a dual one where overfitting to the training data is controlled by adding a penalty term. Two penalty terms lead to two types of regularizations: L1 and L2. L1 regularization (LASSO) adds a penalty term, \\(\\lambda_{L1}\\sum_{j = 1}^{m}\\left| {\\widehat{\\beta}}_{j} \\right|\\), to the cost function, as shown in equation (7.10). This forces the optimization procedure to assign smaller values to the coefficients in the logistic model. The \\(\\lambda_{L1}\\) parameter controls how much emphasis is given to the penalty term. As \\(\\lambda_{L1}\\) increases, the coefficients will be reduced, forcing some to be zeros. A model with the most important predictors is created with some coefficients forced to zero. \\[\\begin{equation} \\text { Cost function } J_{L 1}=\\sum_{i=1}^n \\log \\operatorname{loss}_i+\\lambda_{L 1} \\sum_{j=1}^m\\left|\\hat{\\beta}_j\\right| \\tag{7.10} \\end{equation}\\] \\[\\begin{equation} \\text { Cost function } J_{L 2}=\\sum_{i=1}^n \\log \\operatorname{loss}_i+\\lambda_{L 2} \\sum_{j=1}^m \\hat{\\beta}_{j}^{2} \\tag{7.11} \\end{equation}\\] L2 regularization (ridge regression) adds a slightly different penalty term, \\(\\lambda_{L2}\\sum_{j = 1}^{m}{\\widehat{\\beta}}_{j}^{2}\\), to the cost function (equation (7.11)). This forces the optimization procedure to assign smaller values to the coefficients in the logistic model, but the coefficients are not necessarily pushed to zero. By reducing the magnitude of the coefficients, no single predictor is allowed to have a dominant impact on the target value. Even if there are unusual cases in the training data with very large or small values on some predictors, the predicted target values will not change dramatically. Hence, the model becomes more stable and generalizable to new data. The \\(\\lambda_{L1}\\) and \\(\\lambda_{L2}\\)parameters are positive numbers set by the analyst training the model, and they work as levers to adjust both L1 and L2 regularization levels. "],["applying-regularization-to-the-heart-disease-data.html", "Applying regularization to the heart disease data", " Applying regularization to the heart disease data Regularization was applied to the heart disease model using the same workflow as in Figure 7.20 and Table 7.28. The only changes were in the algorithm settings. Two parameters must be set to obtain regularization, alpha and lambda in the H2O module. Table 7.28 shows how to produce L1 and L2 regularization. (The alpha setting in H2O is a “mixing” parameter that can balance L1 and L2 regularization. When the two are balanced, this is known as Elastic Net regularization. This was not used in the present example.) Table 7.25 Settings in H2O for logistic regression. .cl-4778ca76{}.cl-476c32f2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-476c32fc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4770b25a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4770b264{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4770b26e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4770b26f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-4770b278{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:10pt;line-height: 1;background-color:transparent;}.cl-4770ce16{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce20{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce21{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce22{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce2a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce2b{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce2c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce2d{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4770ce34{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.28: Settings in H2O for logistic regression Type of regularizationalpha settinglambda settingL1 LASSO1&gt;0L2 Ridge regression0&gt;0No regularizationignored0 Both L1 and L2 regularization were applied and compared with the model without regularization. The results are summarized in Table 7.29. .cl-479f07e0{}.cl-4791c63e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4791c670{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4796a3f2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4796a3fc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4796a3fd{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4796a406{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-4796c0ee{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c0ef{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c0f8{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c0f9{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c102{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c103{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c104{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c10c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4796c10d{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.29: Accuracy of predicting heart disease for the training and test data. No regularizationL1 regularizationL2 regularizationAccuracy - training0.9070.8310.873Accuracy - test0.8000.8000.817Settingsalpha NAlambda =0alpha = 1lambda = 0.146alpha = 0lambda = 1.000 Both the L1 and L2 models reduced the amount of overfitting. The L1 regularization simplified the model considerably by setting all but four coefficients on the 21 parameters to zero (7.30). However, this also resulted in lower training and test data accuracy. The L2 model achieved higher accuracy than the L1 regularization with this data. The L2 model reduced the sizes of the coefficients but did not set any to zero. The L2 regularization also showed a somewhat greater difference between the training and test data accuracies. The coefficients with no regularization, also shown in Table 7.30, are larger than those from the L1 and L2 regularization. .cl-47c8aff0{}.cl-47bc474c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-47bc4760{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-47c11d12{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47c11d1c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47c11d1d{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47c11d1e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-47c11d26{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 0.7;background-color:transparent;}.cl-47c13a4a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a54{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a5e{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a5f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a60{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a68{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a69{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a72{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47c13a73{width:1.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.30: The coefficients for the L1 and L2 regularization logistic models. VariableL1 coefficientsL2 coefficientsNo regularizationAge0.0054-0.0267Resting_BP0.00240.0308Cholesterol0.00040.0034Max_heart_rate_achieved-0.0045-0.0050-0.0207ST_depression0.06460.10360.5118male_Sex0.21941.7348typical_angina_Chestpain-0.1659-0.9120atypical_angine_Chestpain-0.12531.2608aymptomatic_Chestpain0.61140.30271.8305FALSE_Fasting_sugar_gt_120mg0.02790.9102left_ventricular_hyperthophy_Resting_ECG0.09060.6820STT_T_abnormality_Resting_ECG0.15091.0471yes_Exercise_induced_angina0.23900.5571downsloping_Peak_exercise_ST0.0053-0.6939flat_Peak_exercise_ST0.19251.1594One_Num_vessels_by_flourosopy0.19812.3185Two_Num_vessels_by_flourosopy0.28403.1988Three_Num_vessels_by_flourosopy0.29663.0954fixed_defect_Thalassemia0.20901.1190reversible_defect_Thalassemia0.53630.31321.7544Intercept-0.0780-0.9843-6.8681 "],["interpreting-the-coefficients.html", "Interpreting the coefficients", " Interpreting the coefficients The results from the simpler L1 model will be used to interpret the coefficients. The baseline for comparison in this example set the predictors to the levels with the lower probability of heart disease. Each factor was then set in turn to its higher probability level. The difference from the baseline for each predictor indicates the variable’s importance. Finally, all predictors were set at the levels resulting in the highest likelihood of disease. (Table 7.31) .cl-47f6abd0{}.cl-47e9848c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-47e98496{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-47edfa76{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47edfa80{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47edfa8a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47edfa8b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-47edfa8c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-47ee1826{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee1830{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee183a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee183b{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee1844{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee1845{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee184e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-47ee184f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.31: Effects of changes in predictors on the probability of heart disease. Settingsasymptomatic ChestpainMax heart rate achievedSt depressionreversible defect ThalassemiaProbability of Heart diseaseDifference from baselineAll predictors set at level for lowest probability of heart diseaseBaselineNo2020.0No0.2710.000ChestpainYes2020.0No0.4060.135Max heart rateNo710.0No0.4020.131ST depressionNo2026.1No0.3570.086reversible_defect No2020.0Yes0.3880.117Worst case scenarioAll predictors set to yield highest probability of heart diseaseYes716.1Yes0.7590.488 The findings (Table 7.31) indicate that asymptomatic heart pain and a low maximum heart rate achieved in the tests were most important in predicting heart disease. A reversible Thalassemia defect (meaning a blood flow to the heart is observed, but it is not normal) is also a strong indicator of heart disease. The coefficient on reversible_defect_Thalassemia is 0.53631. This indicates that the odds of heart disease are (1 – e0.53631) or about 71.0% higher than for patients without angina pain, the baseline normal. "],["asymmetric-benefits-and-costs.html", "Asymmetric benefits and costs", " Asymmetric benefits and costs The entire heart disease data set was submitted to the model created with L1 regularization. The confusion matrix resulting from this run of the logistic regression model is shown in Table 7.32. The accuracy metric differs slightly from that in Table 7.29 since the entire data set was used rather than the training and test sets separately. .cl-481bd770{}.cl-480e5ef6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-480e5f0a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-481479bc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-481479c6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-481497e4{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497e5{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497ee{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497ef{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497f8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497f9{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-481497fa{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48149802{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4814980c{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4814980d{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.32: Confusion matrix for heart data using the L1 logistic model. XPredicted heart diseaseActualnot presentpresentnot present14812present27110Accuracy = (26 +22)/(26 + 6 + 6 + 22) = .800 As is the case for many predictive problems, the consequences of various errors are different. In the heart disease case, the 27 cases where heart disease is present, but the model predicts not present are much more serious than predicting heart disease is present when it is not. The former error might lead to death or a serious heart attack, while the latter would cause stress for the patient. This might lead to further tests or monitoring, but generally, this is not as serious. Such situations have asymmetric costs (or benefits). While putting a dollar value on the costs of false positives and false negatives might be possible in some contexts, another approach useful in medical situations is to create relative costs judgmentally by using a ratio. The judgmental ratio provides a way of incorporating risk into the model. Accurate predictions of either no heart disease or heart disease are assumed to be without cost. However, predicting that heart disease is present when it is not has a cost of one unit, while predicting that it is not present when it is present is assumed to cost ten times as much. The following cost table (Table 7.33) shows the relative costs. .cl-484421a8{}.cl-483856f2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-483856fc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-483d0990{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-483d251a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2524{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2525{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d252e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2538{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2539{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d253a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2542{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2543{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d2544{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d254c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-483d254d{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.33: Assumed costs of errors. PredictedActualNot presentPresentNot present01 unitPresent10 units0 So, the cost ratio is 10:1 for the two costs, and this ratio is the key. Using a ratio of 100:10 or any equivalent ratio will yield the same threshold value that results in the lowest cost. Table 7.29 shows that too many observations predicted heart disease was not present. Lowering the threshold can increase the assignment to the heart disease present outcome. A lower value for the threshold is needed to minimize cost. This can be done by creating a loop in KNIME, systematically varying the threshold, and selecting the value that minimizes cost. The workflow in Figure 7.21 (file: WorkflowForFigure7.21.knwf) does this. Node descriptions for the workflow are in Table 7.34. Figure 7.21: Workflow to minimize cost with heart data. "],["node-descriptions-for-the-figure-7.21-workflow.html", "Node descriptions for the Figure 7.21 workflow", " Node descriptions for the Figure 7.21 workflow .cl-4875cea6{}.cl-48690ebe{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-48690ed2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-486e4a78{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-486e4a82{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-486e66a2{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-486e66ac{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-486e66ad{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-486e66b6{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-486e66b7{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-486e66c0{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.34: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: ClevelandHeartData.csvOutput port: Heart data table with 297 rows and 14 columnsNode 2Logistic regression heart diseaseMeta node to prepare data and run logistic regression on the entire heart data set Nodes in this metanode are shown below.- Node M2_1IntervalLoop Start- Node M2_2Variable toTable Column- Node M2_3Column Expressions- Node M2_4MathFormula- Node M2_5Row Filter- Node M2_6Loop End&emsp;&emsp;&emsp;Input port: Heart data table with 297 rows and 14 columnsOutput port: KNIME data table with test data and predicted values of heart disease with 297 rows and 24 columnsNode 3Loop expected cost by thresholdMetatnode to loop through threshold values from 0.2 to .6 (41 rows) to compute misclassification \"cost\"Nodes in this metanode are shown below.- Node M2_1 Interval Loop Start- Node M2_2 Variable to Table Column- Node M2_3 Column Expressions- Node M2_4 Math Formula- Node M2_5Row Filter- Node M2_6Loop EndInput port: KNIME data table with test data and predicted values of heart disease with 297 rows and 24 columnsOutput port: Estimated cost by threshold; 41 rows and 28 columnsNode M2_1Interval Loop StartNode M2_2Variable to Table ColumnNode 4Metanode to output min costSorts the cost results from lowest to highest; use Row Filter to only select top row with lowest cost; use Column Filter to select only threshold and Expected cost columns. Nodes in this metanode are shown below.- Node M3_1Sorter- Node M3_2Row FilterInput port: KNIME data table with test data and predicted values of heart disease with 297 rows and 24 columns Output port: Minimum costNode 5Line PlotCreate a line plot of expected cost versus threshold value.Options- Column for x-axis: threshold_value- Column for y-axis: Expected value&emsp;Input port: Input port: KNIME data table with test data and predicted values of heart disease with 297 rows and 24 columnsUpper output port: Image of line plotLower output port: Copy of input data Figure 7.22 shows a chart of expected cost by threshold. The threshold that resulted in lowest cost was found to be 0.32. Figure 7.22: Cost vs. threshold for heart disease prediction. Table 7.32 shows the confusion matrices for the thresholds of 0.50 and 0.32. The cost using the threshold of 0.32 was 112, 170 units lower in cost than using a threshold of 0.50. .cl-48a36e4c{}.cl-4897b50c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4897b520{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-489c1f7a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-489c402c{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4036{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4037{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4040{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4041{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c404a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c404b{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4054{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c4055{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-489c405e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.35: Confusion matrix with threshold = 0.50. xPredicted heart diseaseActualnot presentpresentnot present14812present27110Cost = 27 X 10 + 12 X1 = 282 .cl-48c8eac8{}.cl-48bce002{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-48bce00c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-48c1539e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-48c16f5a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f64{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f65{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f6e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f6f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f70{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f78{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f79{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f7a{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48c16f82{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.36: Confusion matrix with threshold = 0.32. XPredicted heart diseaseActualnot presentpresentnot present58102present1136Cost = 1 X 10 + 102 X 1 = 112 While the lower threshold improved the model, the model is not likely to be acceptable to health professionals. The problem of missing the detection of heart disease has been reduced to only a single case, but a large number of false positive results have been created. This tradeoff can be adjusted by changing the relative costs of the two errors. Still, the only way to achieve low false negatives and low false positives is to develop a better predictive model. This would require more observations, additional predictors, or a different, more accurate algorithm. So far, the discussion has focused on making binary predictions. There are situations where the prediction levels are not binary. Strategies for evaluating multi-level outcomes were discussed earlier. An example of using KNIME to predict a multi-level outcome is shown in the next section. "],["multinomial-logistic-regression.html", "Multinomial logistic regression", " Multinomial logistic regression What if the problem involves predicting more than two outcomes? For example, the target variable might be a political party: Democrats, Republicans, or Independents. Multinomial logistic regression can be used for targets with three or more categorical levels. The actual implementation is through decomposing the multi-class problem into multiple binary logistic regressions. The results are used to calculate the probabilities of each case belonging to different classes. The multinomial model will be demonstrated using the famous Iris data set. This data set contains 150 observations of three species of Iris flowers: Iris setosa, Iris virginica, and Iris versicolor, measured on four attributes: the length and the width of the sepals and the length and the width of the petals. The target variable is the class of the Iris plant. The solve this classification problem, three probabilities need to be calculated. These are defined in equations (7.12), (7.13), and (7.14). \\[\\begin{equation} P \\mid y_{i=\\text {setosa}}=\\text { the probability that the species is Iris setosa} \\tag{7.12} \\end{equation}\\] \\[\\begin{equation} P \\mid y_{i=\\text {virginica}}=\\text { the probability that the species is Iris virginica} \\tag{7.13} \\end{equation}\\] \\[\\begin{equation} P \\mid y_{i=\\text {versicolor}}=\\text { the probability that the species is Iris versicolor} \\tag{7.14} \\end{equation}\\] Only two probabilities out of three are independent since the three probabilities must sum to 1.0. It does not matter which one is selected to be dependent, and in this example, Iris versicolor is used as the dependent class. To simplify the notation, two logistic regression models are created with different coefficients, as shown in equations (7.15) and (7.16). The predictors are \\({sepal\\ length}_{i}\\), \\({sepal\\ width}_{i}\\), \\({petal\\ length}_{i}\\), and \\({petal\\ width}_{i}\\). B1 is used to estimate the setosa versus versicolor binary prediction. B2 estimates the virginica versus versicolor binary table. The logistic model for B3 (setosa versus virginica) binary prediction is algebraically derived from B1 and B2. (Choosing which level to depend on the others is arbitrary.) \\[\\begin{equation} \\text { let } B_1=\\beta_{10}+\\beta_{11} \\text { sepal length }{ }_i+\\beta_{12} \\text { sepal width }_i \\\\ +\\beta_{13} \\text { petal length }{ }_i+\\beta_{14} \\text { petal width }_i \\tag{7.15} \\end{equation}\\] \\[\\begin{equation} \\text { let } B_2=\\beta_{20}+\\beta_{21} \\text { sepal length }{ }_i+\\beta_{22} \\text { sepal width }_i \\\\ +\\beta_{23} \\text { petal length }{ }_i+\\beta_{24} \\text { petal width }_i \\tag{7.16} \\end{equation}\\] \\[\\begin{equation} \\\\\\ln\\left( \\frac{{P|}_{y_{i} = setosa}}{{P|}_{y_{i} = versicolor}} \\right) = \\ Β_{1} \\\\ \\tag{7.17} \\end{equation}\\] \\[\\begin{equation} \\\\\\ln\\left( \\frac{{P|}_{y_{i} = virginica}}{{P|}_{y_{i} = versicolor}} \\right) = \\ Β_{2} \\\\ \\tag{7.18} \\end{equation}\\] \\[\\begin{equation} \\\\\\ln\\left( \\frac{{P|}_{y_{i} = setosa}}{{P|}_{y_{i} = virginica\\ }} \\right) = Β_{1} - Β_{2}\\ \\\\ = \\ln\\left( \\frac{{P|}_{y_{i} = setosa}}{{P|}_{y_{i} = versicolor}} \\right) - \\ \\ln\\left( \\frac{{P|}_{y_{i} = virginica}}{{P|}_{y_{i} = versicolor}} \\right) \\\\ \\tag{7.19} \\end{equation}\\] The log odds are ratios of probabilities: Using equations (7.17), (7.18), and (7.19), the three probabilities can be solved as shown in equations (7.20), (7.21), and (7.22). \\[\\begin{equation} \\\\P|y_{i = setosa} = \\ \\frac{e^{Β_{1}}}{1 + e^{Β_{1}} + e^{Β_{2}}} \\\\ \\tag{7.20} \\end{equation}\\] \\[\\begin{equation} \\\\P|y_{i = verginica} = \\ \\frac{e^{Β_{2}}}{1 + e^{Β_{1}} + e^{Β_{2}}} \\\\ \\tag{7.21} \\end{equation}\\] \\[\\begin{equation} \\\\P|y_{i = versicolor} = \\ \\frac{1}{1 + e^{Β_{1}} + e^{Β_{2}}} \\\\ \\tag{7.22} \\end{equation}\\] In tools like KNIME, all the calculations are done automatically. The workflow for predicting the iris class is shown in Figure @ref(fig:Fig723 (file: WorkflowForFigure7.23.knwf). Node descriptions are in Table 7.33 {r Fig723, echo=FALSE, fig.cap=\"Workflow for Iris data.\", fig.align='center', fig.align='center',out.extra='style=\"background-color: #9ecff7; padding:1px; display: inline-block;\"'} knitr::opts_chunk$set(out.width=\"400px\", dpi=120) knitr::include_graphics(\"Images/Image723.png\") ## Node descriptions for the Figure 7.23 workflow {-} .cl-48f37af4{}.cl-48e4faec{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-48e4fb00{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-48eb1652{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-48eb165c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-48eb48b6{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48eb48ca{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48eb48cb{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48eb48d4{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48eb48d5{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-48eb48de{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.37: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: Iris.csvOutput port: KNIME data table with Iris data (150 X 5)Node 2PartitioningFirst partitionSelect: Relative: 80%Select: Stratified sampling: Heart_DiseaseCheck: Use random seed: 123Input port: KNIME data table with Iris dataUpper output port: Iris training dataLower output port: Iris test dataNode 3Logistic Regression LearnerSettings- Target column: Iris class- Reference category: Irs-versacolor (as discussed with a multinomial logit, one level is selected as a reference)- Select solver: Iteratively reweighted least squaresFeature selection- All continuous predictor variablesInput port: Iris training dataUpper output port: Logistic regression modelMiddle output port: Coefficients and statisticsLower output: Model and learning propertiesNode 4Logistic Regression PredictorUse logistic regression model to predictor Iris class with training dataUpper input port: Logistic regression modelLower input port: Training dataOutput port: Predictions of Iris class with training dataNode 5ScorerCreate a confusion matrix and accuracy statistics with training dataScorer- First Column: Iris class- Second Column: Prediction (Iris class)Input port: Predictions and actual values for training dataUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 6Logistic Regression PredictorUse logistic regression model to predictor Iris class with test dataUpper input port: Logistic regression modelLower input port: Test dataOutput port: Predictions of Iris class with test dataNode 7ScorerCreate a confusion matrix and accuracy statistics with training dataScorer- First Column: Iris class- Second Column: Prediction (Iris class)Input port: Predictions and actual values for test dataUpper output port: Confusion matrixLower output port: Accuracy statistics With this small data set, prediction is nearly perfect. The prediction accuracies and Cohen’s Kappa are shown in Table 7.38. .cl-4917b360{}.cl-490ad29e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-490ad2a8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4910a11a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4910a124{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4910a125{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-4910bdb2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdb3{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdb4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdbc{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdbd{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdc6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdc7{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdd0{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4910bdd1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 7.38: Accuracy of predicting Iris species in the training and test data. Training dataTest dataAccuracy0.9811Kappa0.9571 "],["summary-4.html", "Summary", " Summary Logistic regression is one of the most used algorithms for predicting binary classes. It is easy to run and can handle large numbers of observations efficiently. As with ordinary regression, the number of observations in an analysis should be much greater than the number of predictors. Also, care should be taken to avoid over-fitting (as with most supervised models). The use of regularization was demonstrated using the H2O integration in KNIME. Regularization is helpful to avoid or reduce the overfitting of a predictive model and a method to select the most important variables. As discussed, logistic regression assumes linearity between the log odds and the predictor variables, making interpreting the coefficients on predictors more difficult. The use of odds ratios for interpretation was shown to be one approach. Another approach was to vary predictors one at a time to derive changes in the probabilities of a binary outcome. Working with imbalanced data was demonstrated using the SMOTE node. When the costs of false positive and false negative errors differed, a process for adjusting the decision threshold was demonstrated. A multinomial logistic example was also demonstrated to predict a three-level target. Using logistic regression, problems with more than three target levels can also be analyzed. "],["appendix-cohens-kappa.html", "Appendix: Cohen’s Kappa", " Appendix: Cohen’s Kappa Cohen's Kappa can be used to measure prediction accuracy with multi-level categorical target variables. Kappa is calculated by comparing the observed and expected values along the diagonal of a confusion matrix. The observed accuracy is simply the sum of the values in the table's diagonal divided by the total number of observations. In the example in Figure 7.15 the observed accuracy is (22+27+54+47) = 150. The expected values along the diagonal are computed, assuming that the row and column probabilities are independent. So, for example, the random expected accuracy for the cell in the upper left corner of the matrix (row1, column 1) in Figure 7.15 can be estimated as the probability of an observation being in row 1 times the probability of an observation being in column 1 times the total number of observations. To obtain the probabilities, the row and column totals are used. The calculations are as follows: \\[\\Pr(obs\\ in\\ row\\ 1) = \\frac{57}{250}\\ = 0.228\\] \\[Pr(obs\\ in\\ column\\ 1) = \\frac{38}{250} = \\ 0.152\\] \\[\\Pr(obs\\ in\\ cell\\ 1,1) = 0.228\\ \\times 0.152 = 0.035\\] \\[{Expected\\ }{(obs\\ in\\ cell\\ 1,1) =}0.035\\ \\times \\ 250 = 8.87\\] The calculations are repeated for each cell in the confusion matrix's diagonal. Equation (7.9) is repeated below in equation, substituting the actual and expected values along the diagonal substituted. Kappa is 0.49, which is moderate according to the commonly used interpretation shown in Table 7.35 \\[Cohen^{&#39;}s\\ Kappa = \\frac{(observed\\ diagonal\\ obs - expected\\ diagonal\\ obs)}{(Total\\ observations - expected\\ diagonal\\ obs)}\\] \\[Cohen^{&#39;}s\\ Kappa = \\frac{(150 - 65.03)}{(250 - 65.03)} = 0.45\\] .cl-493b3920{}.cl-492f1dde{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-492f1df2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4933b7f4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4933b808{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 0.9;background-color:transparent;}.cl-4933b809{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.9;background-color:transparent;}.cl-4933d464{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4933d465{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4933d46e{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4933d46f{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4933d470{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} (#tab:Table735_2)Interpreting Cohen’s Kappa. Kappa.valueInterpretation0.80 - 1.00Very good 0.60 - .80Good0.40 - .60Moderate0.20 - .60Fair0.00 - .20Poor "],["classification-and-regression-trees.html", "Chapter 8 Classification and regression trees", " Chapter 8 Classification and regression trees Decision tree models (aka tree-based models) are commonly used in data mining to perform predictive analytics, typically with a single categorical or continuous dependent variable and multiple predictor variables (continuous or categorical). There are two principal decision tree types: classification and regression. The first section of this chapter discusses classification trees, and the second covers regression trees. Both types of decision trees are \"automatic\" in the sense that the independent variables are selected by searching for optimal splits using a measure of \"purity\" (which will be defined later in the chapter). "],["classification-trees.html", "Classification trees", " Classification trees As an example, a classification tree could be used to inform customer targeting for a marketing campaign. Consider a hypothetical data set with the history of whether a customer purchased a product that was offered. The tree can identify the characteristics of past customers that were most likely to buy a product from the seller. Assume that 2,500 observations are available with the following variables on each record: The target variable: Purchased the product or did not purchase the product. Predictor variables: Income greater than $70k or not. Age over 30 or not. College graduate or not. Male or female. Assume the data was analyzed with a classification tree with the results shown in Figure 8.1. Each node in the diagram represents a set of customer observations. The root node contains all 2,500 customers in the database; 50.4% of the customers in this node purchased the product. Figure 8.1: Example of a classification tree. The algorithm continues by testing each predictor variable to determine which predictor splits the data into subgroups that are most pure (or homogeneous) with respect to the target variable. (Mechanisms for determining the splits include Gini impurity and entropy, which will be discussed later in this chapter.) The intermediate nodes are called decision or parent nodes, and the final nodes are called terminal or child nodes. The diagram shows that the first split is by income. Customers with incomes above $70k had a purchase rate of 55.2%, while those with lower incomes had a purchase rate of 45.2%. The algorithm further splits the lower-income group by age and gender, while the higher-income group is divided by education. The variables selected for splitting at each level need not be the same. If the tree branches do not result in parallel splits, this indicates an interaction effect between the predictor variables. This example shows an interaction of income with age and education. If income is low, then age is the next significant predictor, whereas if income is high, the next split is by education. The decision rules from this hypothetical example are: If Income ≤ $70,000 AND Age ≤ 30, THEN the purchase probability = 14.0%. If Income ≤ $70,000 AND Age &gt; 30 AND Female, THEN the purchase probability = 37.5%. If Income ≤ $70,000 AND Age &gt; 30 AND Male, THEN the probability of purchase = 70.0%. If Income &gt; $70,000 AND No college, THEN the probability of purchase = 38.0%. If Income &gt; $70,000 AND College graduate, THEN purchase probability = 70.0%. Two promising target segments are identified in this hypothetical example: Males over 30 with lower incomes and college graduates with higher incomes. Both had purchase rates of 70.0%, suggesting that these groups would be attractive target groups for additional purchases. "],["applications-of-decision-trees.html", "Applications of decision trees", " Applications of decision trees Tree-based models have been around for a long time, and until recent years, some researchers warned against using decision trees. (One of the first models, Automatic Interaction Detection (Sonquist and Morgan 1964), was derisively called a \"substitute for thinking.\") By automatically combing through data sets in search of relationships, tree models can \"discover\" spurious associations that may appear plausible but are only artifacts due to randomness or idiosyncratic effects in a specific data set. That is especially true when decision trees are used on small data samples. Even with large data sets, it is critical that training and testing subsets or k-fold partitioning methods are used to assess the ability of the models to predict unseen data. Despite the limitations noted above, decision trees are frequently used to create predictive models in situations without a well-defined theory. Some of the common application areas of decision trees are: Prediction – creating rules and using them to predict future outcomes. Market segmentation – identifying segments most likely to purchase. Data reduction and variable screening – screening many variables to determine the best prospects. Interaction detection – finding variables with effects that differ according to levels of other variables. Category merging – recoding variables with many categories into fewer categories without substantial loss of predictive information. There are two essential concepts to consider in analyses with decision trees: (1) developing the tree and (2) pruning the tree. References "],["developing-classification-trees.html", "Developing classification trees", " Developing classification trees There are exponentially many possible trees with a given set of predictors since every value can split predictors, and the same predictor can be used repeatedly as the tree is built. Since examining all possible tree structures in each problem is usually impossible, an algorithm is used to grow a reasonably accurate tree instead of the optimal tree. Decision trees use so-called \"greedy algorithms\" to form splits in a sequential process. Once a division in the data is made, the algorithm does not go back after further divisions are made to check that previous splits were optimal. Thus, at each stage, the split selections are locally optimal. This yields a tree that is usually very good model but not globally optimal. "],["varieties-of-classification-tree-algorithms.html", "Varieties of classification tree algorithms", " Varieties of classification tree algorithms Various algorithms have been developed, all of which fall under the umbrella term of classification trees. Tree algorithms differ in terms of: The criterion used to determine how to split nodes (e.g., Gini impurity, entropy). Whether splits are only binary or can be multi-level. Stopping rules (e.g., the number of splits, the minimum size node that can be split). The types of variables can be used; most algorithms can handle a mix of categorical and continuous variables. The output structure and level of detail shown. Three of the more popular methods for classification and regression trees are: CART (Classification and Regression Trees) Gini impurity is the measure used for evaluating splits. Input variables can be categorical or continuous. Splits are binary. C50 Entropy is used to determine splits. Input variables can be categorical or continuous. Splits can be binary or multiway. CHAID (Chi-square Interaction Detection) A chi-square test is used to determine splits. Input variables can be categorical or continuous. Splits can be binary or multiway. For continuous predictor variables, splits are evaluated at each variable value. Thus, for n distinct values of a predictor, n-1 potential partitions are considered. For nominal predictor variables, the number of divisions into two groups depends on the number of distinct categories. Table 8.1 gives examples of splits as a function of distinct categories in a nominal variable. In general, the number of splits as a function of categories is given by Sterling Numbers of the Second Kind (Weisstein n.d.). .cl-496cc99a{}.cl-495f2f9c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-495f2fa6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4965e026{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4965e03a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-4965fcd2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4965fcdc{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4965fce6{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.1: Possible binary splits by the number of categories in a nominal predictor. CategoriesSplits213347515631763 References "],["growing-decision-trees-gini-impurity-and-entropy.html", "Growing decision trees: Gini impurity and entropy", " Growing decision trees: Gini impurity and entropy Developing a classification tree with a binary target is a sequential process of subdividing parent nodes into child nodes to create pure nodes in terms of the target variable. While several purity measures can be used, two of the most popular criteria, the Gini impurity and information gain based on changes in entropy (Aznar 2020), are used in the KNIME Decision Tree Learner node. For Gini impurity and information gain, a purity (KN ) measure is computed for a parent node. Then, a split using one of the data set's features is done, and purity measures for each child node are computed: KLeft and KRight . Then, a weighted average of the purity measures of the child nodes is calculated, where the weights are based on the proportion of observations in each child node. The measurement from the split, KSplit, gives the total purity resulting from the split by a feature. The feature with the greatest improvement in purity is selected. The resulting combined impurity measure is given by: \\[\\begin{align} &amp;K_{\\text {Split }}=\\frac{n_{\\text {Left }}}{N} \\times K_{\\text {Left }}+\\frac{n_{\\text {Right }}}{N} \\times K_{\\text {Right }} \\\\ &amp;\\small\\text{Where $n_{\\text {teft }}+n_{\\text {Right }}=N=$ Number of observations.} \\tag{8.1} \\end{align}\\] Gini impurity The Gini impurity, \\(G_{A},\\) of a node in a classification tree with a binary target\\(\\ \\)is computed as: \\[\\begin{align} {G_A} &amp;= 1-\\left(p_0^2+p_1^2\\right) \\\\ &amp;\\small\\text{Where ${{p}_0}$ is the proporation of cases in a node at level &quot;0&quot;} \\\\ &amp;\\small\\text{and ${{p}_1}$ is the proportion of cases in a node at level &quot;1&quot;} \\tag{8.2} \\end{align}\\] Figure 8.2 shows the Gini impurity as p0 and p1 are varied. The Gini impurity is zero when the node has only zeros or only ones. The highest value of Gini impurity occurs when there is an equal number of ones and zeros and \\(G_{A}\\)= .5. A node is most \"pure\" when \\(G_{A}\\)= zero. Figure 8.2: The Gini impurity as a function of \\(p_{0}\\) and \\(p_{1}\\). Gini is used to measure the purity of a single node. With a binary split, the resulting Gini impurity is computed as the weighted average of the Gini values for the two child nodes. The Gini impurity is first calculated for each resulting node, labeled \\(G_{A,\\ Left}\\), and \\(G_{A,\\ Right}\\). The weights are the proportions of cases in left, and right child nodes, given by \\(w_{n,\\ Left}\\) and \\(w_{n,\\ Right}\\), and the Gini for the split is: \\[\\begin{align} G_{A, \\text { Split }}=w_{n, \\text { Left }} \\times G_{A, \\text { Left }}+w_{n, \\text { Right }} \\times G_{A, \\text { Right }} \\tag{8.3} \\end{align}\\] The node with the lowest Gini value (most \"pure\") is selected and split. Entropy In information theory, entropy measures the uncertainty in an event.14 Uncertainty is related to the distribution of probabilities. There are two possible outcomes for a binary variable: 0 with probability \\(p_{0}\\) and 1 with probability \\(p_{1}\\). Since \\(p_{0}\\) + \\(p_{1}\\) = 1.0, \\(p_{1}\\) = 1 - \\(p_{0}\\). Uncertainty is highest when both \\(p_{0}\\) and \\(p_{1}\\)=0.5. Uncertainty is lowest for the two cases where \\(p_{0}\\) = 1.0 and \\(p_{1}\\)=0.0 or \\(p_{0}\\) = 1.0 and \\(p_{1}\\)=0.0. Information theory calculates the amount of information in an event x with probability p(x) as \\(H(x) = - \\log_{2}(p(x))\\). The log is to base 2 since information is measured in bits. Since p(x) is a fraction, the log will be negative; therefore, the negative sign in the formula ensures that H(x) will be positive. For a binary target variable, with probabilities \\(p_{0}\\) and \\(p_{1},\\) the expected value of entropy \\(E_{A}\\) in a specific node A is given by: \\[\\begin{align} E_A &amp;= p_0 \\times H(x=0)+p_1 \\times H(x=1) \\\\ &amp;=-p_0\\left(\\log _2\\left(p_0\\right)\\right)-p_1\\left(\\log _2\\left(p_1\\right)\\right) \\tag{8.4} \\end{align}\\] Figure 8.3 shows \\(E_{A}\\) as a function of \\(p_{0}\\) and \\(p_{1}\\). Figure 8.3: Entropy as a function of \\(p_{0}\\) and \\(p_{1}\\). EA, split, the entropy after a binary split is the weighted average of the entropy in the left and right child nodes, with the weights wn based on the proportion of observations in the left and right child nodes. \\[\\begin{align} E_{A, \\text { Split }}=w_{n, \\text { Left }} \\times E_{A, \\text { Left }}+w_{n, \\text { Right }} \\times E_{A, \\text { Right }} \\tag{8.5} \\end{align}\\] At each level in a tree, entropy is calculated for each possible split. The node with the lowest entropy (or lowest uncertainty) is selected for splitting. References "],["example-of-splitting-using-gini-impurity-and-entropy.html", "Example of splitting using Gini impurity and entropy", " Example of splitting using Gini impurity and entropy Consider the “toy” data in Table 8.2. This data consists of 20 observations, 9 zero responses, 11 responses of one, and three features that can be used to form splits. The Gini impurity and entropy are used to show how nodes are selected. .cl-49a31252{}.cl-4995ccaa{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4995ccb4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-499a6f44{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-499a6f4e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-499a9488{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-499a9492{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-499a949c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.2: A ‘toy’ data set. Feature 1Feature 2Feature 3ResponseF1_AF2_AF3_A0F1_AF2_AF3_B1F1_AF2_AF3_A1F1_BF2_BF3_A1F1_BF2_BF3_B1F1_BF2_BF3_B0F1_AF2_BF3_B1F1_AF2_BF3_A0F1_AF2_BF3_B1F1_BF2_BF3_B1F1_AF2_BF3_A0F1_AF2_BF3_A0F1_AF2_AF3_B1F1_BF2_BF3_A0F1_BF2_BF3_A0F1_BF2_BF3_B1F1_AF2_AF3_B1F1_AF2_AF3_A0F1_AF2_AF3_A0F1_AF2_AF3_B1 The Gini calculations are shown below (Figures 8.4 – 8.6 to select the feature for the first split. The calculations are shown for the left and right nodes, followed by the weighted average of the two. Feature F3 resulted in the lowest Gini value, so the root node was split by F3. After the split by feature F3, there are four child nodes: Feature 1, Feature 2, Feature 3_A, and Feature 3_B. The Gini impurities would be calculated for splitting each child node, and the child node with the lowest Gini impurity value would be split. Similar Gini index calculations would continue until no further splits were possible. Figure 8.4: Gini calculations for splitting on Feature 1. Figure 8.5: Gini calculations for splitting on Feature 2. Figure 8.6: Gini calculations for splitting on Feature 3. The entropy calculations are shown in Figures 8.7 – 8.9 to select the feature for the first split. Three entropy values are shown. The first line is the entropy of the left node, the second line is the entropy of the right node, and the third entropy value is the weighted sum of the values for the left and right nodes. Feature F3 resulted in the lowest entropy value, the same attribute selected using the Gini index. While both metrics indicated the same first split with this specific data, Gini and entropy may select different attributes for splits. Similar calculations would continue with entropy as with the Gini index until no further splits were possible. Figure 8.7: Entropy calculations for splitting on Feature 1. Figure 8.8: Entropy calculations for splitting on Feature 2. Figure 8.9: Entropy calculations for splitting on Feature 3. The process could be continued until no further splits are possible. "],["pruning-to-avoid-overfitting.html", "Pruning to avoid overfitting", " Pruning to avoid overfitting Splitting nodes can be continued until all nodes are pure (100% zeros or ones) or when no features are available for further splits. In actual applications, large data sets with thousands of observations and dozens of predictors can lead to huge trees with hundreds of nodes. Allowing the tree to grow without constraint can lead to overfitting of the tree to the data used. Bramer (Bramer 2007) defined overfitting as follows: A classification algorithm is said to overfit the training data if it generates a classification tree … that depends too much on irrelevant features of the training instances, with the result that it performs well on the training data but relatively poorly on unseen instances. Realistically, over-fitting will always occur to a greater or lesser extent simply because the training set does not contain all possible instances. It only becomes a problem when the classification accuracy on unseen instances is significantly downgraded. As an example of the effect of overfitting, a data set with over 13,000 observations, 23 predictor variables, and a binary target was analyzed using the R package rpart. The data was partitioned into 50% training and 50% test subsets. A sequence of decision trees was created that varied from one to over 1,300 splits, and the prediction accuracy was recorded for the training and test subsets was recorded. Figure 8.7 shows the accuracy as a function of the number of splits (or size) of the tree. Accuracy with the training data and test data are approximately the same until the number of splits exceeds about 32. With further splits, the accuracy observed in the training data continues to increase, eventually approaching 1.0. This is evidence of overfitting since the accuracy of the test data falls off. Figure 8.10: Prediction accuracy with an increased number of splits. To avoid overfitting situations such as that shown in Figure 8.10, pruning removes some of the tree's lower branches. The premise is that many of the low branches are not likely to increase the model's predictive accuracy with new data and may lead to overfitting. Two general approaches to pruning are available: Pre-pruning – early stopping of the tree-building process before all splits are done. Post-pruning – the splitting process can continue until no further splits are possible, and then removing branches to simplify the tree. References "],["pre-pruning.html", "Pre-pruning", " Pre-pruning Pre-pruning avoids growing large trees. This can be accomplished by setting stopping rules for the tree algorithms. Typical stopping rules for pre-pruning are based on the depth of the tree, the minimum number of observations in nodes to split, or the minimum size of the terminal nodes. Three pre-pruning rules are: Set a maximum depth of the tree, measured by the number of levels from the root node to the farthest terminal node. Set a minimum number of observations in a node considered for splitting. For example, if the minimum number of records is set to 10, only nodes with ten or more records can be split. Set a minimum number of observations that must be present in any terminal node. For example, if the minimum number is set to ten, then every terminal node (leaf node) must have at least ten records. (If this minimum is set too low (e.g., 1 or 2), overfitting is likely since this does not constrain the splitting process very much.) While pre-pruning is easy to implement, it is difficult to determine the proper settings for the threshold for stopping tree growth. If the stopping threshold is too conservative (e.g., by allowing only a small number of branches), the resulting tree will not be as accurate as it might be. On the other hand, too liberal a threshold can lead to overfitting. Bramer (Bramer 2007) investigated prediction accuracy on test data for 11 different data sets using various settings of pre-pruning parameters. He concluded that \"… the choice of pre-pruning method is important. However, it is essentially ad hoc. No choice of size or depth cutoff consistently produces good results across all the datasets.\" References "],["post-pruning.html", "Post-pruning", " Post-pruning With post-pruning (aka \"pruning upward\"), a complete, full-depth tree is generated and then trimmed by eliminating some branches, converting selected decision nodes to terminal nodes. The full depth is attained when terminal nodes contain a single observation, have observations with the same target value, or no improvement in the purity measure is possible with further splitting. Creating a full-depth tree can consume a lot of computing time and create a huge tree. Therefore, a combined pre-and post-approach is sometimes used wherein the tree-growing process is stopped when the terminal nodes have a minimum number of observations. For example, pre-pruning could be used by setting at least five records in any terminal node and then using a post-pruning to reduce the tree size further.. Despite the lack of one best method, post-pruning remains a valuable approach to avoid overfitting classification trees. Judgment and experimentation with different techniques may be helpful with specific data sets. To that end, three post-pruning methods will be described that are available in KNIME: Reduced Error Pruning (REP), Cost-Complexity Pruning (CCP), and Minimum Description Length Pruning (MDL). "],["reduced-error-pruning.html", "Reduced error pruning", " Reduced error pruning Reduced error pruning (REP) divides the data in a training set into a \"growing set\" and one or more \"pruning set(s)\". (Figure 8.11). The growing set is used to create the full tree. Figure 8.11: Data partitions for reduced error post-pruning. Then, using a bottom-up approach, each decision node is temporarily collapsed into a terminal node, and the misclassification rate is calculated using the pruning set. The pruning set is unseen data at this point. If the error with the pruning set is reduced or the same, the decision node under consideration is turned into a child node. The process continues until further pruning increases misclassification errors. A final assessment of error can then be made using the test set. Reduced error pruning is quite simple and works well when many observations are available for creating the training and test sets. Esposito et al. (Esposito 1997) and Quinlan (J. Quinlan 1987) noted that reduced error pruning could be biased toward over-pruning, especially in cases where the pruning set is much smaller than the training set. In such cases, rarer exceptional cases in the entire data set may not be represented in the test set. References "],["cost-complexity-pruning.html", "Cost-complexity pruning", " Cost-complexity pruning Cost-complexity pruning was developed by Breiman et al. (J. F. Breiman L. and Stone 1984) as part of the CART algorithm. As the number of splits increases in a tree, the prediction error will decrease or remain the same. To find a \"good\" tree, the algorithm proceeds by growing a much too large tree and then pruning from the bottom up. The following expression is used to calculate the Complexity Parameter CP for each sequential partition of subtrees: \\[\\begin{align} C_P=\\frac{\\text { Error after pruning - Error prior to pruning }}{\\# \\text { nodes prior to pruning - # nodes after pruning }} \\tag{8.6} \\end{align}\\] The cost-complexity pruning method proceeds as follows: A sequence of trees is created with the number of splits ranging from a fully grown tree down to the root node. The prediction error is calculated for each tree in the sequence, and the number of splits is recorded. The CP value is computed, which compares the increase in splits and reduction in error for the sequence of trees as more splits are done. The tree with the minimal CP value is selected for further consideration for each given number of splits. The misclassification rate for each tree selected in step 3 is computed using a k-fold validation with the training data set or, if the number of observations is sufficiently large, with a separate hold-out validation sample. Since the pruned tree with the lowest CP is selected for each number of splits, the number of subtrees to be evaluated in step 4 will usually be much less than the total number of possible subtrees. The process of computing CP is illustrated in Figures 8.12 and 8.12. Figure 8.12 shows a hypothetical tree with six splits and seven child nodes (indicated by C). The internal nodes are indicated by D. Figure 8.13 shows the tree with two splits pruned. Note that the node above the removed splits is changed from a decision node to a child node. In doing so, the prediction error will increase (or remain the same). However, the difference between the two splits in the denominator reduces CP. Figure 8.12: Structure of the full tree. Figure 8.13: Structure of the pruned tree. The complexity parameter (CP) for the pruning of the tree in Figure 8.12 to that in Figure 8.13 is calculated as follows, with \\(C_{P} = \\ \\frac{{ET}_{2 -}{ET}_{1}}{6 - 4}\\) with results shown in 8.3. .cl-4a0cb7f2{}.cl-4a004a76{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a004a8a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a0512b8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a0512c2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.5;background-color:transparent;}.cl-4a052f82{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a052f8c{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a052f8d{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.3: # splits by prediction errors. TreeNumber of splitsPrediction errorFigure 8.126ET1Figure 8.134ET2 References "],["pruning-using-the-minimum-description-length-principle.html", "Pruning using the Minimum Description Length principle", " Pruning using the Minimum Description Length principle The Minimum Description Length principle (MDL) measures the complexity of a classification tree using concepts from information theory. This principle states that the best tree is the one that minimizes the cost of information transmission measured in bits to encode the model. Several different approaches to MDL pruning have been developed (e.g., (J. R. Quinlan and Rivest 1989), (C. and Patrick 1993) and (Kononenko 1998)). The MDL process starts with growing a full tree and evaluating each split from the bottom up. No hold-out sample is used, which is an advantage of this pruning technique. The cost of information transmission is the sum of the information cost of the tree itself plus the cost of misclassification errors. The cost of the tree grows as the branches are added. The cost of classification errors shrinks as the model's predictive error decreases. The model is given by: \\[\\begin{align} &amp;\\text{MDL= L(model) L(data|model)} \\\\ &amp;\\small\\text{where L(model) = the cost in information bits to encode the tree model} \\\\ &amp;\\small\\text{and L(data|model) = the cost to encode the misclassified instances.} \\tag{8.7} \\end{align}\\] References "],["recommendations-on-pruning.html", "Recommendations on pruning", " Recommendations on pruning No single pruning method is the best to use with decision trees. However, some approach to pruning must be used to avoid creating models that are unlikely to generalize. In addition, while some pruning techniques do not require a separate testing or validation data set, it is still a good practice to use unseen data as a final check on predictive accuracy. There are several pruning methods available in KNIME (Table 8.3). These will be illustrated later with sample data. .cl-4a305f9a{}.cl-4a23b916{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a23b920{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a289fee{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a289ff8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4a28a002{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4a28bc40{width:3in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a28bc4a{width:3in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a28bc4b{width:3in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.4: Pruning methods available in KNIME. MethodKNIME nodePre-pruningMinimum number of records per nodeDecision Tree LearnerMinimum number of records per nodeREPTree in the Weka 3.7 integrationPost-pruningReduced error pruningREPTree in the Weka 3.7 integrationCost-complexity pruning in CARTrpart in R integrationMinimum description length pruningDecision Tree Learner Different pruning approaches will yield different decision trees, so the final judgment on which method to use is up to the analyst. If the number of observations is sufficiently large, then it is strongly recommended that a separate hold-out sample is retained for the final verification of prediction accuracy. Remember that decision trees, as greedy algorithms, are built from the top down, and there is no guarantee that a tree is optimal, even after pruning. The criterion is one of pragmatism: is the accuracy of the tree sufficient for the problem? "],["missing-values-1.html", "Missing values", " Missing values Since missing values for some attributes are likely to occur in real data sets, the question of how classification trees handle such cases arises. Despite claims to the contrary, decision trees are not immune to the effects of missing values, and different approaches to managing continuous versus nominal variables are needed. For nominal predictors, missingness is sometimes handled by assigning missing values as simply another variable level. However, Pyle (Pyle 1999) reports this is not always satisfactory since assigning all missing values to the same category assumes all such cases have the same value. It is usually better to deal with missing values as part of the data cleaning process rather than rely on the decision tree algorithm to handle such cases. However, some decision tree algorithms have explicitly incorporated one or more ways of handling instances with missing information. Missing values can occur in training, validation, or new data submitted to the model. Twala (Twala 2009) considered three ways to handle missing data in decision trees: (1) ignoring missing values; (2) imputation; and (3) using machine learning. Ignoring missing data While the most straightforward approach is to drop cases with missing values, this is usually not a good practice. This approach might be justified if the proportion of cases with missing values is small. For example, it should be noted that some decision tree software programs adopt this method of simply dropping cases with missing values. This is the case with the Decision Tree Learner in KNIME. Imputation techniques Imputation methods employ information in a training set to replace missing values. The replacement value could be the mean, median, or mode for continuous attributes. A disadvantage of this approach is that the distribution of variables can be distorted, and the variance can be reduced. For nominal attributes, the replacement value could be the most common level of the attributes. However, with nominal (categorical) attributes, viewing missing as another class may be better. Regression may be used to impute missing values with continuous variables. Let X = the predictor variable with missing values. Temporarily remove all observations where X is missing. Next, regress X as the target on all the remaining predictor variables. The resulting regression model is used to estimate the missing X values, which are then substituted for the missing values. This approach is repeated for each variable that has missing values. This approach has the advantage over simply using a single value, such as the mean or median, which implicitly assumes that all observations with missing values have the same value. Predictive models such as logistic regression or decision trees can be used analogously for nominal missing values. Using machine learning CART and its implementation in rpart use an approach called surrogate splits. To use the surrogate splits approach, consider a situation with a set of predictor attributes Ai, i=1 to k. Assume that the specific attribute AJ has several observations with missing values. When evaluating a split using attribute AI at a specific parent node into child nodes, only those instances of AJ with known values are used to compute the purity of the left and right child nodes. Once this is done, the next step is assigning each observation to the left or right child nodes. This presents a problem for instances that need to include values on attribute AJ. A surrogate splitting variable most highly correlated with Ai is then selected from the set Ai. For those cases where AJ is missing, the surrogate attribute is used to make an assignment to the left or right child node for that case. References "],["outliers-1.html", "Outliers", " Outliers Classification trees are said to be robust to outliers in continuous predictors. Splits on predictors that contain either positive or negative outliers will not influence the resulting tree since the value selected for the split is usually far from the extremes. (However, outliers can distort regression trees.) It is commonly believed that classification trees are not affected by monotone transformations on the predictor variables since the order of the values is not changed. This idea means that transformations to reduce skewness or feature scaling, such as normalization or standardization of predictors, are unnecessary and will have little or no effect on model performance. While the general rule is valid, there are certain conditions where transformations can affect accuracy (Galili and Meilijson 2020). References "],["example-of-developing-a-classification-tree.html", "Example of developing a classification tree", " Example of developing a classification tree This example uses a popular data set on customer churn in a telecom company. Churn occurs when a customer (player, subscriber, user, etc.) ceases their relationship with a company. The total cost of customer churn includes lost revenue and the marketing costs of replacing those customers with new ones. Reducing customer churn is a key business goal of every online business. It is almost always more difficult and expensive to acquire a new customer than to retain a current paying customer. The ability to predict which customers are at a high risk of churning while there is still time to do something about it represents a significant potential for increasing revenue and profit. In the case of telecom companies, customers may cancel for many reasons, including poor service, availability of specific hardware, and price. Identifying potential churners before they quit can be the first step to reducing the churn rate. It makes financial sense to offer incentives only to potential churners and not customers who are predicted to remain with the company. Analytic techniques can be used to develop predictive models to identify likely churners based on customer characteristics and behaviors. For this example, a data set, TelcoChurn5000.csv (Team 2019), consisting of 5,000 telecom provider customers, is available with the variables shown in Table 8.5. .cl-4a5498b0{}.cl-4a489812{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a48981c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a4d894e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a4d8962{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4a4d8963{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a4da78a{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a4da794{width:4in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a4da79e{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a4da79f{width:4in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a4da7a8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a4da7a9{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.5: Variables in the TelcoChurn5000.csv data set. VariableDescriptionState2-letter code of the US state of customer residenceMonths w/ carrierNumber of months with the telco providerIntl plan?The customer has an international plan (yes/no)Intl minsTotal minutes of international calls# intl callsTotal number of international calls$ IntlTotal charge for international callsVoice mail?The customer has voicemail plan (yes/no)# vmail messagesNumber of voicemail messagesCall minutesTotal minutes of calls# of callsTotal number of calls$ TotalTotal monthly charges# service callsNumber of calls to customer serviceChurnCustomer churn (yes/no) A classification tree was developed in KNIME using the workflow shown in Figure 8.14 (file: Workflow for Figure 8.14.knwf). The nodes in the workflow are described in Table 8.6. Figure 8.14: KNIME workflow for a classification tree using churn data. References "],["node-descriptions-for-the-figure-8.14-workflow.html", "Node descriptions for the Figure 8.14 workflow", " Node descriptions for the Figure 8.14 workflow .cl-4a896784{}.cl-4a7dd702{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a7dd72a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a8275dc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a8275e6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a82917a{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a829184{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a829185{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a82918e{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a82918f{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a829198{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.6: KNIME nodes. NodesDescriptionsInput.and.output.nodesNode 1File ReaderRead file: TelcoChurn5000.csvOutput port: File table with 5,000 rows and 13 columnsNode 2PartitioningFirst partition: - Training Select Relative: 60%- Select Stratified sampling: Heart_Disease- Check: Use random seed: 123.Input port: File table with 5,000 rows and 13 columnsUpper output port: Training data with 3,000 rows and 13 columnsLower output port: Test data 2,000 rows and 13 columnsNode 3 Decision Tree LearnerThis node produces a classification tree.Options:Class column: Churn- Quality measure: Gain ratio- Pruning method: Two runs were made: one with No Pruning and one with MDL- Min number of records per node: 1Input port: Training dataOutput port: Decision tree modelNode 4 Decision Tree PredictorUse the decision tree to predict the class value for the training dataOptions: Check Append columns with normalized class distribution; suffix = Prob.Upper input port: Decision tree modelLower input port: Training data Output port: Training data plus predicted valuesNode 5 ScorerProduces accuracy statistics and a confusion matrix for the decision tree model training set.Scorer- First Column: Churn - Second Column: Prediction (Churn)Input port: Training data plus predicted valuesUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 6 Decision Tree PredictorUse the decision tree to predict the class value for the test dataOptions: Check Append columns with normalized class distribution; suffix = Prob.Upper input port: Decision tree modelLower input port: Training data Output port: Test data plus predicted valuesNode 7 ScorerProduces accuracy statistics and a confusion matrix for the decision tree model test set.Input port: Test data plus predicted valuesScorer- First Column: Churn - Second Column: Prediction (Churn)Upper output port: Confusion matrixLower output port: Accuracy statistics The number of nodes, the Training set accuracy, and the Test set accuracy were recorded for the two analyses, with and without MDL pruning. The results (8.7) show that the pruning greatly reduced the number of nodes in the tree while slightly increasing the Test set's accuracy. .cl-4aad7a48{}.cl-4aa12b58{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4aa12b62{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4aa5ad40{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4aa5ad4a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4aa5ad54{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4aa5ad55{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4aa5ad5e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.8;background-color:transparent;}.cl-4aa5ad5f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:35pt;line-height: 0.8;background-color:transparent;}.cl-4aa5e76a{width:1.2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e77e{width:0.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e77f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e788{width:1.2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e789{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e78a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e792{width:1.2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e793{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4aa5e79c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.7: Performance measures for the classification tree. Model# splitsAccuracy with Training dataAccuracy with Test dataNo pruning1210.9740.935MDL pruning150.9740.967 Performance with missing values The churn data set was again used, but two continuous predictors were randomly assigned missing values at a 5% rate. The decision tree analysis was run on the data set twice, first with the KNIME Decision Tree Learner alone and then with missing values imputed. Figure 8.15 (file: Workflow for Figure 8.15.knwf) contains the two KNIME workflows. (The node settings are the same as in Figure 8.14 with MDL pruning.) The workflow shown at the top does not treat the missing values. The KNIME tree algorithm drops cases with missing values, reducing the resulting accuracy to 0.908. By imputing values for the missing observations, the accuracy increased to 0.964. Figure 8.15: KNIME workflow to show the effect of imputations on accuracy. "],["regression-trees.html", "Regression trees", " Regression trees Decision trees can also be used to predict continuous target variables. In such applications, these are known as regression trees. The analysis is much like the case with categorical target variables: the model produces a series of splits using selected predictor variables. Much like ordinary regression, you can have continuous or nominal predictors with regression trees. However, the other assumptions associated with linear regression regarding error distributions and so on are irrelevant because regression trees are not a classical statistical technique. Regression trees operate by successively dividing a data set into smaller and smaller groups that are more homogeneous with respect to the target variable. The groups are nodes, and each node lower in the tree is more homogeneous in the target variable than those higher in the tree. The model starts with no predictors and then examines each predictor to select the best variable for the initial split. The process of building a regression tree is illustrated using a simple data set (DemoRegressionTrees.csv) consisting of 100 observations of home prices as the continuous target variable with area in square feet (either 1,000 or 2,000) and quality (either high or average) as the predictors. The first five and last five rows are shown in Table 8.8. .cl-4adc760e{}.cl-4acf2cba{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4acf2cc4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ad40b9a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ad40ba4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ad40bae{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:35pt;line-height: 0.8;background-color:transparent;}.cl-4ad40baf{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.8;background-color:transparent;}.cl-4ad40bb8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.8;background-color:transparent;}.cl-4ad40bb9{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4ad428d2{width:0.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428dc{width:0.9in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428dd{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428e6{width:0.9in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428e7{width:0.9in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428f0{width:0.9in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428f1{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428f2{width:0.9in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428fa{width:0.9in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ad428fb{width:0.9in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.8: Demo file for regression tree. RowPrice in $000'sArea in sq. ft. Quality1203.81000High2195.01000Average3200.91000High4403.22000High5402.82000High· · ·· · ·· · ·· · ·96306.92000High97194.31000Average98206.21000High99310.12000High100298.02000Average The tree-building process uses the criterion of minimizing the sum of squared errors as binary splits in the predictors are made. The initial sum of squares (SSTI) is given by equation 8.8: \\[\\begin{align} SST_I &amp;= \\sum_{i=1}^n\\left(y_i-\\bar{y}\\right)^2 \\\\ &amp;\\small\\text{where $n=$ the number of observations,} \\\\ &amp;\\small\\text{$y_i=$ the price for observation $i$ and} \\\\ &amp;\\small\\text{$\\bar{y}=$ the mean value of the prices.} \\tag{8.8} \\end{align}\\] Next, splits are considered by area in square feet and quality. When a split is done, each split branch's sum of squares (SST) is computed and added together. After splitting, the SST is subtracted from SSTI, and the split with the greatest reduction in SST is selected. The sum of squares for each binary split is given by 8.9: \\[\\begin{align} SST_{\\text {binary }} &amp;=\\sum_{i=1}^{n_L}\\left(y_i-\\bar{y}_L\\right)^2+\\sum_{i=1}^{n_R}\\left(y_i-\\bar{y}_R\\right)^2 \\\\ &amp;\\small\\text{$n_L$ = the number of observations in the left node after the split,} \\\\ &amp;\\small\\text{$n_R$ = the number of observations in the right node after the split,} \\\\ &amp;\\small\\text{$y_{i L}$ = the price for observation $i$ in the left node,} \\\\ &amp;\\small\\text{$y_{i R}$ = the price for observation $i$ in the right node,} \\\\ &amp;\\small\\text{$\\bar{y}_L$ = the mean value of the prices in the left node, and } \\\\ &amp;\\small\\text{$\\bar{y}_R$ = the mean value of the prices in the right node.} (\\#eq:89 \\end{align}\\] The results of the calculations are shown in Table 8.9. Splitting on Area produced the largest reduction in the sum of squares, which indicates that the first split should be with Area. .cl-4afc393a{}.cl-4af04b34{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4af04b3e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4af4ddca{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4af4ddd4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4af4ddde{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 0.8;background-color:transparent;}.cl-4af4fb66{width:5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4af4fb67{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4af4fb70{width:5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.9: Calculations on the first split of the regression tree. Source Initial total SSE = 502,301Split on QualityTotal SSE in Price for Average quality node = 78,014Total SSE in Price for High-quality node = 397,636Total SSE after the split on Quality = 475,649Reduction in SSE for the split on Quality = 26,651Split on AreaTotal SSE in Price for 1,000 sq. ft. node = 1,226Total SSE in Price for 2,000 sq. ft node = 98,421Total SSE after the split on Area = 99,647Reduction in SSE for a split on Area =402,654 A recursive process is used in a larger problem, and each predictor is considered. Each potential split of a continuous predictor must be calculated so that for a variable with k distinct values, k-1 splits are considered. There are several different algorithms for regression trees, but a commonly used approach is the CART method (J. F. Breiman L. and Stone 1984). The programs can control the depth of the tree. Since the target variable is continuous, the predicted value in each terminal node equals the average value of records in the node. Since regression trees have a finite number of terminal nodes, the predicted values will have a limited number of distinct values (cardinality). This fact can reduce the predictive accuracy when using regression trees compared with ordinary linear regression. References "],["example-predicting-home-selling-prices-using-regression-trees.html", "Example predicting home selling prices using regression trees", " Example predicting home selling prices using regression trees This example, again, is based on predicting home prices but with a more extensive data set. This data set has 522 observations, one continuous target variable, and eight predictors. The data is available in the file RealEstatePrices.csv. The variables in the data are listed in Table 8.10. .cl-4b1e69ec{}.cl-4b123122{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b12312c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b1744a0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b1744aa{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-4b1744ab{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-4b176160{width:2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b176161{width:3in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b17616a{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b17616b{width:3in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b17616c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b176174{width:3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b176175{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b17617e{width:3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.10: Variables in the home prices data set. VariableDescriptionSales PriceContinuous: CurrencyFinished square feetContinuous: Square feetAir conditioningCategorical: Yes or NoGarage sizeContinuous: Square feetPoolCategorical: Yes or NoYear builtContinuousQualityCategorical: Fair, Moderate, or BestLot sizeContinuous: Square feetAdjacent to highwayCategorical: Yes or No A workflow (Figure 8.16 file: Workflow for Figure 8.16.knwf) was created in KNIME to predict Sales Price on the Test data using regression trees and, for comparison, ordinary linear regression. Table 8.11 has details on the nodes. Figure 8.16: KNIME workflow for regression tree using home price data. "],["node-descriptions-for-the-figure-8.16-workflow.html", "Node descriptions for the Figure 8.16 workflow", " Node descriptions for the Figure 8.16 workflow .cl-4b4e6958{}.cl-4b4183aa{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b4183b4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b46c752{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b46c75c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b46e89a{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b46e8a4{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b46e8a5{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b46e8ae{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b46e8af{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b46e8b8{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.11: KNIME nodes. NodesDescriptionsInput.and.output.nodesNode 1File ReaderRead file: RealEstateData.csvOutput port: File table RealEstateData with 522 rows and nine columnsNode 2PartitioningFirst partition: - Training Select Relative: 70%- Draw randomly- Check: Use random seed: 123Input port: File table RealEstateDataUpper output port: Training data with 365 rows and nine columnsLower output port: Test data with 157 rows and nine columnsNode 3 Simple Regression Tree LearnerThis node creates a regression tree.Options- Target Column: Sales Price- Include: All variables except Sales Price- Check: Use binary splits for nominal attributes- Check: Limit number of levels (tree depth): 5- Check: Minimum split node size: 20- Check: Minimum node size: 10Input port: Real estate price training dataOutput port: Regression tree modelNode 4 Simple Regression Tree PredictorThis node applies regression from a regression tree model by using the mean of the records in the corresponding child node to predict Sales Price with training data- Check: Change prediction column name to Prediction(Sales Price) Test Data Regression TreeUpper input port: Regression tree modelLower input port: Test dataOutput port: Test data plus regression tree predictionsNode 5 Numeric ScorerScore test data results from regression treeOptions:- Reference column: Sales Price- Predicted column: Prediction(Sales Price) Test Data Regression TreeInput port: Test data plus regression tree predictions Output port: Accuracy statistics for regression treeNode 6 Linear Regression LearnerSettings- Target: Sales Price- Include: All variables except Sales Price.Input port: Real estate price training dataUpper output port: Linear regression modelLower output port: Coefficients and statisticsNode 7 Regression PredictorSettings:- Custom prediction column name: Prediction (Sales Price) Test Data RegressionUpper input port: Regression tree modelLower input port: Test dataOutput port: Test data plus linear model predictionsNode 8 Numeric ScorerScore test data results from regression treeOptions:- Reference column: Sales Price- Predicted column: Prediction (Sales Price) Test Data RegressionInput port: Test data plus linear model predictionsOutput port: Accuracy statistics for OLS regression "],["regression-tree-results.html", "Regression tree results", " Regression tree results The regression tree, shown in Figure 8.12, has 18 splits and 19 child nodes. (The diagram shows only the first three splits to conserve space.) KNIME provides an interactive tool to view all the splits.) Since there are only 19 child nodes, the regression predictions can have at most 19 different values, which can reduce the accuracy of the model compared with ordinary least squares, which can have as many different values as there are observations or rows in the data set. The model coefficients from the linear regression model are in Table 8.12. .cl-4b719ac2{}.cl-4b631826{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b63183a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b68ff34{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b68ff48{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b68ff52{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-4b68ff53{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.6;background-color:transparent;}.cl-4b68ff5c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.6;background-color:transparent;}.cl-4b68ff5d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 0.6;background-color:transparent;}.cl-4b692e0a{width:1.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e14{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e15{width:1.75in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e1e{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e1f{width:1.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e20{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e28{width:1.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b692e29{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.12: Coefficients for the linear regression model. VariableCoefficientFinished square feet84.56Air conditioning = Yes5,506.34Garage size11,350.53Pool = Yes12,479.71Year built1,516.17Quality = Fair-150,153.36Quality = Moderate-137,944.17Lot size1.45Adjacent to highway-48,515.49Intercept-2,836,639.29 Figure 8.17: Partial regression tree for real estate data. The results comparing the two analyses in Table 8.13 show that the regression tree performed worse than linear regression in terms of RMSE. .cl-4b991ca0{}.cl-4b8bf962{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b8bf96c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b91a218{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b91a222{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b91a22c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b91a22d{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:20pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4b91c66c{width:2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b91c676{width:1.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b91c677{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b91c680{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b91c68a{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.13: Performance measures for regression tree vs. OLS. MetricRegression treeOrdinary regressionRoot mean square error56,071.2052,811.20 Since the results from the regression tree and ordinary regression differed, an exploration of combining the two results was conducted. The predictions from the two models were averaged and compared to the actual Selling Price data. The performance metrics for the averaged predictions are shown in Table 8.14. .cl-4bbd0d4a{}.cl-4bb042f4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4bb04308{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4bb4feca{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4bb4fede{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4bb4fedf{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:60pt;line-height: 1;background-color:transparent;}.cl-4bb5e0ce{width:2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bb5e0d8{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bb5e0d9{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 8.14: Performance metrics for averaged predictions. MetricAveraged predictionsRoot mean square error50,171.50 The RMSE metric in Table 8.13 indicates improved accuracy with the average of the two models. Averaging two predictions from different models using the same data is a simple example of an ensemble model. Ensemble models can frequently provide enhanced predictive accuracy and will be discussed in a later chapter. "],["strengths-and-weaknesses-of-decision-trees.html", "Strengths and weaknesses of decision trees", " Strengths and weaknesses of decision trees Decision trees are widely used in data mining, but as with every technique, there are both strengths and weaknesses. Strengths of decision trees Interpretation is usually straightforward, and the tree can be explained as a series of if-then-else rules. The results are displayed in a tree-like structure, which is intuitively appealing. Standardization or normalization of predictors is not required. There are few underlying assumptions about the data. Interactions among predictor variables can be identified. Skewed predictors and outliers usually do not present problems or degrade predictive accuracy. Non-linear relationships are handled effectively without the need for the transformation of predictors. Predictor variable selection is automatic. Categorical and interval target and predictor variables can be used. Weaknesses of decision trees Tree algorithms are prone to overfit the data. If the algorithm is allowed to split nodes without constraints, the accuracy of the predictive model will not carry over to new data. So, pruning techniques are important. Slight changes in the data set by adding a predictor or observations can produce dramatically different results. Careful validation is required to avoid over-fitting, so large data sets which can be partitioned into separate training and tests are needed. Tree algorithms that search exhaustively over all splits tend toward selecting variables that allow more splits, such as continuous predictors and categorical predictors with many levels (Loh and Shih 1997). Considerable judgment and experimentation may be needed to develop suitable results. References "],["summary-5.html", "Summary", " Summary Decision trees are very popular for predictive analytics because of their versatility, accuracy, and interpretability. This chapter covered two main types of decision trees, the first with a categorical (usually binary) target and the other with a continuous target variable. Applied examples of both types were included and analyses using KNIME were provided. As also discussed in the chapter there are several algorithms available and two metrics for guiding the selection of splits were discussed, Gini and entropy. The ability of decision tree algorithms to fit complex relationships is both an advantage and a weakness. To alleviate the propensity for overfitting, several pruning methods were described. In addition, the need for separate training, testing, and validation subsamples was emphasized to avoid overfitting. "],["naïve-bayes.html", "Chapter 9 Naïve Bayes", " Chapter 9 Naïve Bayes A thought problem Assume that a breathalyzer used by a police department has been shown to display false drunkenness in 5% of the cases in which the driver is sober. However, the breathalyzer never fails to detect a truly drunk person. Suppose on a given evening, 1 in 1,000 drivers are driving with alcohol over the legal limit. A traffic checkpoint stop is set up, drivers are selected randomly, and the selected drivers are required to take a breathalyzer test. Assume that a particular driver is found to be over the legal limit for alcohol according to the breathalyzer. Assume that nothing else about the driver is available. What is the probability that the driver is really over the limit? Many have answered that the probability is as high as 0.95, but the correct probability is about 0.02. How can the proper probability that the person is drunk be estimated? This calls for Bayes Theorem. Bayes' Theorem is a formula describing how to update an event's prior probability when additional evidence is made available. Prior probabilities from a Bayesian perspective are based on the known likelihoods from historical data. In the example of random checks of drivers, the prior is 1/1000 or .001 that the driver is drunk. "],["analyis-of-the-thought-problem.html", "Analyis of the thought problem", " Analyis of the thought problem Assume that a breathalyzer used by a police department has been shown to display false drunkenness in 5% of the cases in which the driver is sober. However, the breathalyzer never fails to detect a truly drunk person. Suppose on a given evening, 1 in 1,000 drivers are driving with alcohol over the legal limit. A traffic checkpoint stop is set up, drivers are selected randomly, and the selected drivers are required to take a breathalyzer test. Assume that a particular driver is found to be over the legal limit for alcohol according to the breathalyzer. Assume that nothing else about the driver is available. What is the probability that the driver is really over the limit? Bayes’ Theorem is a formula describing how to update an event’s prior probability when additional evidence is made available. Prior probabilities from a Bayesian perspective are based on the known likelihoods from historical data. In the example of random checks of drivers, the prior is 1/1000 or .001 that the driver is drunk. Many have answered that the probability is as high as 0.95, but the correct probability is about 0.02. How can the proper probability that the person is drunk be estimated? This calls for Bayes Theorem. "],["a-surprising-result.html", "A surprising result", " A surprising result The breathalyzer results can update the probability of identifying a drunk driver. The revised probability is called the posterior probability, and Bayes theorem can be used to determine the posterior probability. The goal is to find the probability that the driver is drunk given that the breathalyzer indicated they are drunk, which can be represented as: \\[\\begin{align} &amp;{p(drunk|POS} = 1) \\\\ &amp;\\small\\text{where &quot;POS&quot; means that the breathalyzer indicates that the driver is drunk.} \\tag{9.1} \\end{align}\\] \\[\\begin{align} &amp;{p(drunk|POS)} = \\frac{ {p(POS|drunk)} {p(drunk)} } {{p(POS)}} \\\\ &amp;\\small\\text { Where } p(\\text { POS })=p(\\text { POS/drunk }) \\times p(\\text {drunk})+p(\\text {POS/Sober}) \\times p(\\text { Sober }) \\tag{9.2} \\end{align}\\] The following assumptions about the parameters are available: \\[\\begin{align} p(drunk) &amp; = 0.001 \\\\ p(sober) &amp; = 0.999 \\\\ p(POS|drunk) &amp; = 1.000 \\\\ p(POS|sober) &amp; = 0.050 \\tag{9.3} \\end{align}\\] The breathalyzer is 100% accurate if the person is drunk and it mistakenly reports a sober driver is drunk 5% of the time. Given the data and a positive indication on the breathalyzer test given to a randomly selected driver, what is the probability that the person is drunk? The numerator of Bayes formula = \\[ \\begin{aligned} &amp; p(\\text { POS } | \\text { drunk }) \\times p(\\text { drunk })= \\\\ &amp; 1.00 \\times 0.001=0.001 \\end{aligned} \\] The denominator of Bayes formula = \\[ \\begin{aligned} &amp; p(\\text { POS } | \\text { drunk }) \\times p(\\text { drunk })+p(\\text { POS } / \\text { Sober }) \\times p(\\text { Sober })= \\\\ &amp; 1.0 \\times 0.001+0.05 \\times 0.999=0.001+.04995=0.05095 . \\end{aligned} \\] Substituting the numerator and denominator into Bayes theorem yields: \\[ p(drunk|POS)=0.001 / 0.05095=.0196 \\tag{9.4} \\] The framework of the Bayes theorem can be applied to a supervised analytics problem. It can be used as a supervised model in data mining to make predictions given a set of predictor variables and a categorical outcome. "],["bayes-theorem-illustrated.html", "Bayes theorem illustrated", " Bayes theorem illustrated Consider a hypothetical case of a cable service provider with over two million subscribers. The company decides to perform a test market to predict whether current customers will subscribe to a new service. The test involved sending an offer to a random sample of 1,000 existing customers. This can be cast as a Bayesian model. Using the test market results, the company would like a predictive model for the rest of its customers. The test results were that 400 customers bought the new service, so the prior purchase probability was 0.40. This is illustrated in 9.1, which has a grid representing the 1,000 customers in the test. Figure 9.1: KNIME workflow for regression tree using home price data. If this prior probability is applied to the entire subscriber base, the company would expect 400,000 positive responses or 40%. The process of contacting customers via mail, email, and telephone to offer the new service has a cost, so the company wanted to know if there was a way to make the contacting process more efficient than the 40% rate. "],["updating-the-probabilities.html", "Updating the probabilities", " Updating the probabilities It turned out that the company had data on the gender and age (young or old) of its subscribers, which was available for the subscribers in the test market. Using gender, the probability of purchase can be refined. There were 600 female customers in the test, 300 of whom subscribed to the new service, and 400 males, 100 of whom subscribed. So, the probability of taking the offer for males is 100/400 = 0.25, while the corresponding probability for females is 300/600 = 0.50. The probability was further refined using age, which resulted in the numbers of buyers and non-buyers in each category of age and gender, as shown in 9.2. Figure 9.2: Conditional results of the test market. By simply counting the number of customers in each shaded area, the posterior probabilities of each segment could be calculated. \\[ \\begin{align} prob (Subscribing | male, young) &amp;= 50 /(50+180) &amp;= .217 \\\\ prob (Subscribing | male, old ) &amp;= 50 /(50+120) &amp;=.294 \\\\ prob (Subscribing | female, young ) &amp;= 180 /(180+150) &amp;=.545 \\\\ prob (Subscribing | female, old ) &amp;= 120 /(120+150) &amp;=.444 \\\\ \\tag{9.4} \\end{align} \\] So, this small example shows that the Bayes model can be used for predicting the classification of new observations. To classify a new case, find all the observations in the sample with the same descriptive characteristics. With this set of observations, count the number of positive and negative outcomes and apply the counting scheme discussed above. As predictors were added to the analysis, the number of observations used to estimate the proportion taking the offer decreased. For example, the estimate for the proportion of young males subscribing to the service is based on a sample size of 230. "],["what-happens-with-more-predictors.html", "What happens with more predictors?", " What happens with more predictors? As a more practical example, assume that a predictive problem involves a binary target and 15 binary predictors. This creates 215 = 32,768 combinations of outcomes and predictor values. Assume that at least 50 observations are needed to make reasonable estimates of the probabilities in each combination. The minimum number of observations would be 50 x 32,768 = 1,638,400. Even this may not be enough because the distribution of observations is unlikely to be uniform among the predictors, resulting in many of the combinations having no or too few observations to make accurate probability estimates. Since most practical predictive modeling problems have many predictors, the Bayesian becomes impracticable. The \"solution\" to this problem is to use the Naïve Bayes model. The word solution is in quotes because the problem is not solved. Instead, an approximation that works well in many practical situations is used. The approximation assumes that the predictor variables operate independently of the target. If the predictors operate independently, the joint probabilities of multiple variables can be estimated as the product of the individual probabilities. "],["illustration-of-naïve-bayes-with-a-toy-data-set.html", "Illustration of Naïve Bayes with a \"toy\" data set", " Illustration of Naïve Bayes with a \"toy\" data set This example uses a modified version of a small data set (“Play Tennis: Simple Dataset with Decisions about Playing Tennis,” n.d.) consisting of 15 observations with the target variable “play tennis” and weather characteristics thought to affect the decision to play or not play. The observations are shown in Table 9.1. .cl-4bfc6076{}.cl-4bf05024{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4bf0502e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4bf4c550{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4bf4c55a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4bf4c564{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4bf4c565{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4bf4c56e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4bf4c578{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4bf4c579{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4bf4e288{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e292{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e29c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e29d{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e29e{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e29f{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e2a6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e2a7{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4bf4e2a8{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.1: The tennis data set. ObservationPlay tennisOutlookTemperatureHumidityWind1NoSunnyHotHighWeak2NoSunnyHotHighStrong3YesOvercastHotHighWeak4YesRainMildHighWeak5YesRainCoolNormalWeak6NoRainCoolNormalStrong7YesOvercastCoolNormalStrong8NoSunnyMildHighWeak9YesSunnyCoolNormalWeak10YesRainMildNormalWeak11YesSunnyMildNormalStrong12YesOvercastMildHighStrong13YesOvercastHotNormalWeak14NoRainMildHighStrong15NoOvercastHotHighStrong References "],["calculations-needed-for-bayes-model.html", "Calculations needed for Bayes model", " Calculations needed for Bayes model .cl-4c274764{}.cl-4c1b7dc6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c1b7dd0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c1ff89c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c1ff8a6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c1ff8b0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c1ff8b1{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c1ff8b2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:10pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c1ff8ba{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:25pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c20173c{width:2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201746{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201750{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201751{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c20175a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c20175b{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201764{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201765{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c20176e{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c20176f{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201778{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c201779{width:2in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c20177a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.2: Prior and conditional probabilities. Play tennisNoYesPrior probabilities0.4000.600Play tennisConditional probabilitiesNoYesOutlook Overcast0.1670.445 Rain0.3330.333 Sunny0.5000.222Temperature Cool0.1670.333 Hot0.5000.222 Mild0.3330.445Humidity High0.8330.333 Normal0.1670.667Wind Strong0.6670.333 Weak0.3330.667 The probabilities shown in 9.2 were obtained by counting. For example, to get the conditional probability of Sunny given Not playing, note that six observations indicate Not playing. Three of those six observations indicate Sunny, so the conditional probability is 3/6 = .50. Similar calculations were done for each probability in the table. Results of probability calculations To obtain a probability of playing given specific conditions, the naïve Bayes was used. For example, the calculations for the probability of playing tennis given a Sunny outlook, cool temperature, normal humidity, and strong winds were calculated using the probabilities in 9.2. The calculations for the numerator and denominator are: \\[ \\begin{align} {P(Yes|Sunny, Hot, High, Strong Winds ) } \\\\ \\tag{9.4} \\end{align} \\] \\[ \\begin{align} &amp;\\frac{= P(Sunny| Yes) \\times P(Hot|Yes) \\times P( High|Yes) \\times P(Weak|Yes) \\times P(Yes)} {P(Yes)+P(No)} \\\\ &amp;= \\frac{.0065}{0.0065+0.0277}=0.192 \\\\ \\end{align} \\] \\[\\begin{align} where \\\\ &amp; {P(Yes) = P(Sunny|Yes) \\times P(Hot|Yes) \\times P(High|Yes) \\times P(Weak|Yes) } \\\\ &amp; {P(No) = P(Sunny|No) \\times P(Hot|No) \\times P(High|No) \\times P(Weak|No) } \\\\ \\end{align}\\] The prediction results shown in Table 9.3 show that the naïve Bayes model accurately predicted 14 out of the 15 observations. .cl-4c5d6402{}.cl-4c50adc0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c50adca{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c55c094{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c55c09e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c55c0a8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:25pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c55c0b2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:15pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c55c0b3{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 0.7;background-color:transparent;}.cl-4c55c0b4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c55e34e{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e358{width:0.8in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e362{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e363{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e36c{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e36d{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e36e{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e376{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e377{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e378{width:0.8in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e380{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c55e381{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.3: Prediction accuracy using Naïve Bayes. ObservationPlay tennisOutlookTemperatureHumidityWindProbabilityPrediction1NoSunnyHotHighWeak0.192No2NoSunnyHotHighStrong0.056No3YesOvercastHotHighWeak0.587Yes4YesRainMildHighWeak0.616Yes5YesRainCoolNormalWeak0.960Yes6NoRainCoolNormalStrong0.857Yes*7YesOvercastCoolNormalStrong0.941Yes8NoSunnyMildHighWeak0.416No9YesSunnyCoolNormalWeak0.914Yes10YesRainMildNormalWeak0.941Yes11YesSunnyMildNormalStrong0.640Yes12YesOvercastMildHighStrong0.516Yes13YesOvercastHotNormalWeak0.934Yes14NoRainMildHighStrong0.286No15NoOvercastHotHighStrong0.262No*Incorrect prediction The assumption of conditional independence Referring to the experiments in 9.3, the joint probability of getting a three on a roll of the die, red on the spinner, and heads on a coin flip can be calculated using the product of the probabilities. Since the three experiments are independent, the likelihood is simply 1/6 X 1/4 X 1/2 = 1/48 = .0208. This is what naïve Bayes analysis assumes about the effects of the individual predictors on the target class in a supervised model. Figure 9.3: Experiments to illustrate independence. "],["naïve-bayes-with-continuous-predictors.html", "Naïve Bayes with continuous predictors", " Naïve Bayes with continuous predictors For simplicity, the previous examples only had categorical predictors, but Naïve Bayes can be used with continuous predictors. Two approaches can be used for continuous predictors. A simple solution is to discretize the continuous variables into a few categories. However, doing so is sometimes subjective. For instance, in categorizing temperature, someone may select 80 degrees as the cutoff at which temperature can be considered as \"High.\" In contrast, another person (from the tropics!) may choose to select 90 degrees as the border between \"Medium\" and \"High.\" This subjectivity causes a noticeable loss of information. But it can still be used as a quick way to get going before applying naive Bayes classification. Another method is to represent continuous variables with a probability density function. The normal or Gaussian distribution is typically used, but some software programs can use other distributions. The normal distribution is convenient since a continuous variable can be represented using its mean and standard deviation. Some software implementations of Naïve Bayes offer the choice of other distribution functions, e.g., Poisson or normal. The way this works is demonstrated in 9.4. Consider a continuous variable, V, which predicts a categorical variable Y which is either True or False. Observations on V are grouped according to the Y values in the data sample. Each group's means and standard deviations are computed and used to form the two normal density functions shown in Figure 9.4. As an example, assume a predictor has a value of X. The conditional probabilities Prob(X|Target = False) and Prob(X|Target = True), which are needed for the naïve Bayes model, are then obtained from the density functions. This method assumes that the normal distribution usefully represents the variable V. Figure 9.4: Working with a continuous variable in naïve Bayes "],["laplace-smoothing.html", "Laplace smoothing", " Laplace smoothing The naïve Bayes algorithm can be problematic in certain situations, especially with small sample sizes. This will happen if a particular value does not occur with a frequency greater than zero in any level of a predictor. When this happens, the conditional probability becomes zero. Since the conditional probabilities are multiplied in a chain, this would cause all posterior probabilities that included the level to be zero. (This was the case in the tennis example illustrated earlier. For the condition of not playing tennis, the overcast level of the weather never occurred.) A Laplace Smoother (Kuhn and Johnson 2016) can be used to avoid this. There are several ways to incorporate the smoother, with the simplest being to add one to every count in the combination of predictor values. References "],["examples-using-naïve-bayes.html", "Examples using naïve Bayes", " Examples using naïve Bayes Heart data example The data on predicting heart attack in the chapter on logistic tree models was submitted to naïve Bayes. The KNIME workflow is shown in 9.5 (file: WorkflowForFigure9.5.knwf), and the node descriptions are in 9.5. Figure 9.5: Workflow for naïve Bayes analysis of heart data. "],["node-descriptions-for-figure-9.5-workflow.html", "Node descriptions for Figure 9.5 workflow", " Node descriptions for Figure 9.5 workflow .cl-4c9b1234{}.cl-4c8d942e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c8d9438{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4c9212ec{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c9212f6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4c922d36{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c922d40{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c922d41{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c922d42{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c922d4a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4c922d4b{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.4: Knime nodes. NodesDescriptionsInput.and.output.nodesNode 1File ReaderChapter 9: Read file: ClevelandHeartData.csvChapter 9: Output port: Table with 297 rows and 14 variablesNode 2 PartitioningFirst partition: Training Select Relative: 80%Select Stratified sampling: Heart_DiseaseCheck: Use random seed: 123.Chapter 9: Input port: File tableUpper output port: Training data with 237 rows and 14 variablesLower output port: Test data with 60 rows and 14 variablesNode 3 Naïve Bayes LearnerThis node creates a naïve Bayes predictive model.OptionsClassification Column: Heart_diseaseUse defaults for other optionsChapter 9: Input port: Training dataUpper output port: Naïve Bayes modelLower output port: Statistics tableNode 4 Naïve Bayes PredictorChapter 9: Predict the response from the naïve Bayes model for the training setOptionsCheck Append individual class probabilities; Suffix: Prediction(Heart disease) TrainingUpper input port: Naïve Bayes modelLower input port: Training dataNode 5 ScorerChapter 9: This node produces accuracy statistics and a confusion matrix for the naïve Bayes model training set.ScorerFirst Column: Heart_DiseaseSecond Column: Prediction (Heart Disease)Chapter 9: Input port: Training data plus predicted valuesUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 6 Naïve Bayes PredictorChapter 9: Predict the response from the naïve Bayes model for the test setOptionsCheck Append individual class probabilities; Suffix: Prediction(Heart disease) TestUpper input port: Naïve Bayes modelLower input port: Test dataNode 5 ScorerChapter 9: This node produces accuracy statistics and a confusion matrix for the naïve Bayes model training set.ScorerFirst Column: Heart_DiseaseSecond Column: Prediction (Heart Disease)Chapter 9: Input port: Test data plus predicted valuesUpper output port: Confusion matrixLower output port: Accuracy statistics "],["results-for-heart-data-predicitons---.html", "9.1 Results for heart data predicitons [(-)]-", " 9.1 Results for heart data predicitons [(-)]- The evaluation metrics results for naïve Bayes are shown in Table 9.6. .cl-4cbc1e16{}.cl-4cae8594{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4cae859e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4cb37914{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4cb37928{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4cb3932c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cb39336{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cb39337{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cb39340{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cb39341{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cb3934a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.5: Performance of Bayes and tree models on heart attack data. PartitionAccuracyTraining0.852Test0.833 "],["spam-detection.html", "Spam detection", " Spam detection Email has provided a convenient mode of communication used worldwide by millions of people for business and personal messages. What started as a curiosity used by techies, however, the huge number of unsolicited commercial messages most people receive daily soon became, at best, an annoyance and, at worst, a means for deception or even criminal activity. The proliferation and variety of these unsolicited messages, now called spam or junk mail, led to the development of software programs to detect and screen out such emails. Spam filters have been developed to sift through email messages to separate the \"ham\" from the \"spam .\"The challenge in designing spam filters is to make the algorithm selective enough to identify spam while not flagging legitimate messages. It has been estimated that about 45% of global email traffic was spam (“Spam: Share of Global Email Traffic 2014-2021” 2022). Naïve Bayes has been used as the machine learning engine for spam filters because of its simplicity, speed, and accuracy (Karimovich and Salimbayevich 2020b). A data set of 5,556 messages labeled as spam or ham email messages was downloaded and analyzed using KNIME. Example messages in the data set are in 9.6. .cl-4cddeae6{}.cl-4cd0f23c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4cd0f246{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4cd67464{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4cd6746e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4cd6966a{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cd69674{width:5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cd69675{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cd6967e{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cd6967f{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4cd69680{width:5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.6: Sample messages in the text data set. ClassMessagehamWhat are you doing? how are you?hamSiva is in hostel aha:-.spamSunshine Quiz! Win a super Sony DVD recorder if you can name the capital of Australia .Text MQUIZ to 82277.spamPRIVATE! Your 2003 Account Statement shows 800 un-redeemed S.I.M. points. Call 08718738001 Identifier Code: 49557 Expires 26/11/04 The text of each message was prepared by a series of KNIME nodes as indicated in the Text preparation Metanode. The text file was converted into a file consisting of a “bag of words,” which creates a separate column for each word in the data set. (The details for converting the text are beyond the scope of this book, but the “bag of words” approach is quite common.) The node descriptions are in Table 9.7, and the KNIME workflow for pre-processing is in 9.6 (file: WorkflowForFigure9.6.knwf). The workflow a table with created 5,572 rows (one for each message) and 12,230 columns with indicators for terms (SMS Spam Collection Data Set, 2012). Figure 9.6: Workflow for SPAM detection using naïve Bayes. References "],["node-descriptions-for-figure-9.6-workflow.html", "Node descriptions for Figure 9.6 workflow", " Node descriptions for Figure 9.6 workflow .cl-4d17d8b4{}.cl-4d0c71ea{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d0c71f4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d10fa58{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d10fa62{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d111510{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d11151a{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d11151b{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d11151c{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d111524{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d111525{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.7: KNIME nodes. NodesDescriptionsInput and output portsNode 1 File ReaderChapter 9: Read file: spamHam.csvChapter 9: Output port: File table with 5,572 observations and two columnsNode 2 Text preparationChapter 9: This is a Metanode containing a sequence of KNIME nodesChapter 9: Input port: 5,572 observations and two columnsOutput port: 5,572 rows by 12,230 columns; the columns were created for each unique word and term found in the data, with the number of occurrences of the word or term in the cell for each messageNodes in the component are shown below:- Node M1 : Strings to Document A Document is created for each row- Node M2: Punctuation ErasureRemove punctuation from all documents- Node M3: N Chars FilterFilter all items in the documents with less than three characters- M4: Number FilterRemove all digits from the documents- Node M5: Case ConverterConvert all terms to lowercase- Node M6: Stop Word FilterRemove all stop words (e.g., “an”, “and”, “it”, “but”) from each document- Node M7: Bag Of Words CreatorCreate a column for each term in the documents. This breaks each message into a set of individual entries with one term or word per entry- Node M8: Document VectorCreate a document vector for each document- Node M9: Category To ClassCreate a new column for each message containing the class (SPAM or HAM)- Node M10: Number to StringConvert numbers in columns to strings (for use in naïve Bayes)Node 3 Column FilterChapter 9: Column Filter to remove the target variable (Document) from the input data setExclude: DocumentInclude: All other variablesChapter 9: Input port: Table with 5,572 rows by 12,230 columns Output port: Table with 5,572 rows by 12,229 columnsNode 4PartitioningFirst partition: Training Select Relative: 70%- Select Stratified sampling: Document class- Check: Use random seed: 123.Chapter 9: Input port: Table with 5,572 rows by 12,229 columns Upper output port: Training data with 3,900 rows by 12,229 columnsLower output port: Test data with 1,672 rows by 12,229 columnsNode 5 Naïve Bayes LearnerThis node creates a naïve Bayes predictive model.Options- Classification Column: Document class- Use defaults for other optionsChapter 9: Input port: Training data with 3,900 rows by 12,229 columnsUpper output port: Naïve Bayes model using training dataLower output port: Statistics tableNode 6 Naïve Bayes PredictorPredict the response from the naïve Bayes model for the test setOptions- Check Append individual class probabilities; Suffix: Prediction (Document class)Chapter 9: Upper input port: Naïve Bayes modelLower input port: Test data with 1,672 rows by 12,229 columnsOutput port: Classified test data with 1,672 rows by 12,230 columnsNode 7 ScorerThis node produces accuracy statistics and a confusion matrix for the naïve Bayes model test set.Scorer- First Column: Document class- Second Column: Prediction (Document class)Chapter 9: Input port: Classified test data with 1,672 rows by 12,230 columnsUpper output port: Confusion matrixLower output port: Accuracy statistics "],["accuracy-of-spamham-detection.html", "Accuracy of SPAM/HAM detection", " Accuracy of SPAM/HAM detection The results of the naïve Bayes analysis of the spam data set (9.8 show good accuracy (99%). As shown in the confusion matrix created for the test data, zero actual ham statements were misclassified as spam, while 17 spam statements were classified as ham. This is a good result since mistakes in filtering out legitimate messages are more serious than mistakenly classifying spam as legitimate. .cl-4d3b9fc4{}.cl-4d2ed780{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d2ed78a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d340ad4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d340ae8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d3434aa{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434b4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434b5{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434be{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434bf{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434c8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434c9{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434d2{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434d3{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d3434dc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 9.8: Confusion matrix on test data for naïve Bayes analysis of spam data. XPredicted Y valuesActual Ham SpamHam14610SPAM17194Accuracy = (1461+194)/(1461+0+17+194) = .99 "],["summary-and-comments-on-naïve-bayes.html", "Summary and comments on naïve Bayes", " Summary and comments on naïve Bayes When used as a predictive algorithm, Naïve Bayes works quite well. It works surprisingly well, given the strong assumption of predictor independence and the model's simplicity compared with other predictive algorithms. The algorithm has been found to work especially well when there are many predictor variables, possibly because dependence among predictors is less likely. It also works when there are missing values. One weakness is that probability estimates for combinations of predictors are not always very accurate (Karimovich and Salimbayevich 2020a). For example, with a binary target of True and False, the estimated probabilities of True and False may be off, but the classification may still be correct. Compared with full Bayesian analysis, Naïve Bayes calculations are practical in situations with smaller sample sizes and use all observations in a data set, not just those with matching predictor values; this makes the calculations practical in more situations. The key assumption (again) is that the predictor variables are independent. This assumption only sometimes holds, and it is primarily a problem when variables are correlated. The spam/ham data analysis showed that naïve Bayes easily handled a table with many more columns than rows, which some supervised models cannot do. References "],["k-nearest-neighbors.html", "Chapter 10 k nearest neighbors", " Chapter 10 k nearest neighbors A very simple model K nearest neighbors (kNN) may be the simplest, most intuitive model used for data mining. Despite the model's simplicity, it can work well with large data sets. It is also one of the top 10 data mining tools in terms of popularity of usage (“Top 10 Machine Learning Algorithms You Should Know in 2021,” n.d.)). KNN is an example of a family of algorithms known as instance-based or memory-based learning that classify new objects by their similarity to previously known objects. KNN does not require many assumptions about the input, predictor data, or error distributions. Formally, it is a non-parametric model. In parametric models (such as multiple regression), assumptions about the error term distribution are needed, and then estimates are made of the distribution parameters. No such considerations are involved with kNN. A training phase can be used to determine the best value for k, but otherwise, no training is needed for kNN. It can be directly applied to all the data. An important disadvantage of kNN is that the algorithm must be run through all the data available each time a new observation needs to be classified, and this can be time-consuming for large data sets. With logistic regression or OLS, you only save the model and apply it to new data, which is much faster. Since there is no model per se in k-nearest neighbors, all data must be stored and used to analyze new observations. Typical applications of kNN If we look at typical applications, the list is much like other predictive models, such as logistic regression and decision trees, including : Flagging fraudulent insurance claims. Predicting customer response to promotional offers. Selecting the most effective treatment for a medical condition. Classifying free-text responses. Recommender systems, such as recommending the next offer to customers in retail settings. Searching for similar documents. Lazy vs. eager learners kNN is a method for classifying objects based on similarity. It is called a \"lazy\" algorithm, which does not use the training data points to generalize and is contrasted with \"eager\" algorithms. In other words, there is no explicit training phase; if there is one, it is minimal. Most lazy algorithms – especially kNN – make decisions based on the entire data set. Some distinctions between lazy and eager learners are shown here. With lazy learners: The data is stored, not learned from it. Classifications are made as soon as a new observation is received. The model can be richer since it does not rely on a single pre-specified model. The time to classify new observations can be considerable with large data sets. Learning time is nonexistent (except for determining the optimal &gt; value of k), and minor preprocessing is needed. With eager learners: A model is developed (learned) based on the training data. The model is used to classify new observations as they are received. The model depends upon a single function derived in the learning phase. Classification of new observations is very fast, but learning time can be considerable. References "],["how-knn-works.html", "How kNN works", " How kNN works The kNN algorithm works as follows. A labeled data set with a known categorical target, Y (which may be binary or multichotomous), and a matrix X with p potential predictors or features is used. Each case is considered a point in a multidimensional feature space. This allows the computation of “distances” among the points (or cases) based on locations (values) in the feature space. KNN is then used to classify a new observation that is described by p variables (X1, X2, ..., Xp). To do so, the algorithm computes the distance of the new observation to every other observation in the data set. (Euclidean distance is typically used, but other metrics such as the absolute value of differences, squared Euclidean distance, Jacard distance, Manhattan distance, or cosine distance are also used.) In most cases, it is important to standardize the X variables prior to determining distances to avoid having the variables with the largest numerical values dominating the computed distances. The distances of the new case to all previous observations are calculated and ranked from closest to farthest. The k existing observations with the smallest distances (the \"nearest neighbors\") are selected, and a majority \"vote\" is taken using the category values. The majority vote is used to determine the category of the observation. The number k of nearest points or neighbors to consider in assigning a category is usually odd so that no ties are formed; if an even number is set for k, then random choices for Y class are made for ties.) Since a majority is used to make predictions, kNN can be applied to targets with more than two outcomes. There is a trade-off implicit here. While only a minimal training phase is used to determine the best k, deployment of kNN is inefficient in terms of processing time and memory requirements. More time is needed because all data points might take part in determining a prediction. Furthermore, all the data must be stored and available for deployment. "],["a-two-dimensional-graphic-example-of-knn.html", "A two-dimensional graphic example of kNN", " A two-dimensional graphic example of kNN A simple example is used to illustrate how kNN works. Figure 10.1 shows a plot of the characteristics of several types of homes. The two predictors are the area in square feet, and the number of rooms, and both variables are standardized to zero mean and unit standard deviation. Toward the center of the chart is an \"unknown\" type of home. The two unknown variables, area and the number of rooms were standardized using the same mean and standard deviation as was computed for the known data. The distances of the unknown to every data point in the original set are represented by the arrows. The three closest known observations are circled, assuming, for this example, k = 3. Two of the closest homes are flats, one is an apartment, and the unknown is classified as a flat using the majority rule. Figure 10.1: Graphical illustration of kNN. "],["example-of-knn-diagnosing-heart-disease.html", "Example of kNN: Diagnosing heart disease", " Example of kNN: Diagnosing heart disease This example uses the database on heart disease from the Cleveland Clinic, described in the chapter on logistic regression. This data set has been used in several published studies on machine learning, e.g. (Teknomo 2019). The workflow shown in Figure 10.2 (file: Workflow for Figure 10.2.knwf) was first run to determine the best value for k regarding prediction accuracy. Descriptions of each node in the workflow are given in Table 10.1. Figure 10.2: Workflow to find the best value for k and then run prediction analysis with heart disease data. References "],["node-desciptions-for-figure-10.2-workflow.html", "Node desciptions for Figure 10.2 workflow", " Node desciptions for Figure 10.2 workflow .cl-4d7cfb04{}.cl-4d6e848e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d6e8498{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d745206{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d745210{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4d746f98{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fa2{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fa3{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fac{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fad{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fb6{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fb7{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fb8{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fc0{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fc1{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fca{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4d746fcb{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.1: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: ClevelandHeartData.csvOutput port: File table with 297 rows and 14 columnsNode 2Missing valueDefaultRemove Row for all three types of missing values since kNN cannot compute distances with missing values in a row.Input port: File table with 297 rows and 14 columnsOutput port: File table with 297 rows and 14 columns (no missing values found)Node 3NormalizerNormalize continuous variables using min-max normalization (0,1) to avoid having high-range variables dominate the distance function in kNN.Input port: File table with 297 rows and 14 columnsOutput port: File table with 297 rows and 14 columns with min-max normalizationNode 4One to manyKNN only works with continuous variables, so categorical variables are converted to dummy indicators. This node transforms all possible values of continuous variables into separate predictors. The values in each column created are either 1, if that row contains the given value or 0 if not Columns to transform: All string variables except Heart_disease (which is the target variable)(The warning may be ignored in this case.)Input port: File table with 297 rows and 14 columns with min-max normalization Output port: File with min-max normalization and dummy indicators for the categorical variables; 297 rows and 29 columnsNode 5PartitioningFirst partition- Select Relative: 80%- Select Stratified sampling: Heart_Disease- Check: Use random seed: 123.Input port: File with min-max normalization and dummy indicators for the categorical variables; 297 rows and 29 columnsUpper output port: Training data with 237 rows and 29 columnsLower output port: Test data with 60 rows and 29 columnsNode 6Parameter Optimization Loop StartThis node starts an iterative loop to find the best value of k. The red flow variable plot sends the value of k to the K Nearest Neighbors node. Standard settings- Parameter: k- Start value: 1- Stop value: 12- Step size: 1.0- Check IntegerOutput flow variable port with k valuesNode 7K Nearest NeighborsThis node classifies a set of test data based on the k Nearest Neighbor algorithmStandard settings- Column with class labels: Heart_Disease- The k variable input from the optimization loop sets the number of neighbors to consider.- Check: Weight neighbors by distance- Check: Output class probabilities.Flow variables- Select k.- Connect flow variable port from Node 6 to input flow variable port in Node 7 kNN.Upper input flow variable port with k valuesMiddle input port: Training data with 237 rows and 29 columnsLower input port: Test data with 60 rows and 29 columnsOutput port: Test data classified with 60 rows and 29 columnsNode 8ScorerThis node produces accuracy statistics and a confusion matrix for the naïve Bayes model training set.ScorerFirst Column: Heart_DiseaseSecond Column: Prediction (Heart Disease)Input port: Test data plus predicted valuesUpper output flow port: Accuracy statistics and k valueNode 9Parameter Optimization Loop EndThis node closes an iterative loop to find the best value of k. The red flow variable port sends the value of k to the K Nearest Neighbors nodeOptions- Flow variable with objective function value: Accuracy- Select: Function should be maximizedInput flow variable port: Accuracy statistics and k valueLower output node: Accuracy values for all test parameter values in the loopNode 10Line PlotThis node produces a line plot of accuracy versus k. Options- Check: Create image at output.- Choose column for x-axis: k- Include: Objective value (which will be accuracy)- Input node: Accuracy versus kAxis Configuration- Label for x axis: k value- Label for y axis: AccuracyUpper input port: Accuracy values for all test parameter values in the loopLower output node: Chart of accuracy versus kPrediction analysis using k=5.Node 11K Nearest NeighborsThis node classifies a set of test data based on the k Nearest Neighbor algorithmStandard settings- Column with class labels: Heart_Disease- The number of neighbors k set to 5- Check: Weight neighbors by distance- Check: Output class probabilities.Upper input port: Training data with 237 rows and 29 columnsLower input port: Test data with 60 rows and 29 columnsOutput port: Test data classified with 60 rows and 29 columnsNode 12ScorerThis node produces accuracy statistics and a confusion matrix for the naïve Bayes model training set.Scorer- First Column: Heart_Disease- Second Column: Prediction (Heart Disease)Input port: Test data plus predicted valuesUpper output flow port: Accuracy statistics and k value "],["results-from-the-figure-10.2-analysis.html", "Results from the Figure 10.2 analysis", " Results from the Figure 10.2 analysis The KNIME workflow in Figure 10.2 determined that the best value for k is 5. A plot of accuracy versus k is shown in Figure 10.3, which indicates that k = 5 resulted in the highest accuracy, just slightly better than k=6. Figure 10.3: Accuracy vs k value. Next, KNN was run on the data with k=5 resulting in the confusion matrix in Table 10.2. .cl-4da88468{}.cl-4d9cddde{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4d9cdde8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4da1911c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4da19126{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4da19127{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4da19128{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4da1ae40{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae4a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae4b{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae54{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae55{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae56{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae5e{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae5f{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae60{width:1.2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4da1ae68{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.2: Confusion matrix for predicting heart disease with kNN. Predicted heart diseaseActualnot presentpresentnot present284present721Accuracy = (28 + 4)/(28 + 4 + 7 + 21) = 0.817 "],["knn-for-continuous-targets.html", "kNN for continuous targets", " kNN for continuous targets While kNN is primarily a classification method, it can also be used with continuous target variables, much like ordinary least squares (OLS) regression. KNIME does not include a node for kNN regression, so a small R Snippet was created to use the package FNN. One advantage of kNN regression is that non-linear relationships can be easily captured, and ordinary regression requires transformations and adding predictors to capture non-linearities. A simple data set with a single predictor (X) and a continuous target(Y) was created. A scatterplot of the data is shown in Figure 10.4. Note that the relationship is non-linear. A KNIME workflow was created, shown in Figure 10.5 (file: WorkflowForFigure10.5.knwf), to compare kNN and OLS. For this small demonstration data, a test data subset was not created. Figure 10.4: Simulated data with a non-linear X-Y relationship. Figure 10.5: Workflow to compare kNN regression with OLS.. The workflow has four sections. The first section has nodes to read and normalize the input data. The top section runs a loop to find the value of k, which results in the lowest RMSE. The following section runs kNN with the optimal value of k, 1. The lowest section runs OLS for comparison. Node descriptions for Figure 10.5 are in Table 10.3. "],["node-desciptions-for-the-the-figure-10.5-workflow.html", "Node desciptions for the the Figure 10.5 workflow", " Node desciptions for the the Figure 10.5 workflow .cl-4ddd5a1c{}.cl-4dd1d890{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4dd1d8a4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4dd66202{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4dd6620c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4dd67c9c{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4dd67ca6{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4dd67ca7{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4dd67cb0{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4dd67cb1{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4dd67cba{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.3: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: XYNonlinear.csvOutput port: File table with 100 rows and two columnsNode 2NormalizerNormalize continuous variables using min-max normalization (0,1) to avoid having high-range variables dominate the distance function in kNNInput port: File table with 100 rows and two columns Output port: File with 100 rows and two columns and min-max normalizationNode 3Parameter Optimization Loop StartThis node starts an iterative loop to find the best value of k. The red flow variable plot sends the value of k to the K Nearest Neighbors node. Standard settings- Parameter: k- Start value: 1- Stop value: 10- Step size: 1.0- Check IntegerOutput flow variable port with a k valueNode 4R SnippetKNIME does not have a node to perform kNN regression, so R code was inserted in Node 4, which contains an R Snippet. (The R code will have to be customized for new problems.) The R code runs kNN for each value of k in the loopThe R code: is shown bleow.Upper flow input port: Value of kLower input port: File with 100 rows and two columns and min-max normalizationOutput port: File table with 100 rows and three columns (X, Y, and Y_Pred)Node 5Numeric ScorerScore the prediction data.Options:Reference column: YPredicted column: Y_PredNote: MAPE cannot be computed because the min-max normalization creates zeros in the y values. This is not a problem since the criterion for optimization is minimizing RMSEInput port: File table with 100 rows and three columns (X, Y, and Y_Pred)Output flow variable port: Performance statistics, including RMSENode 6Parameter Optimization Loop EndThis node closes an iterative loop to find the best value of k. OptionsFlow variable with objective function value: root mean square errorSelect: Function should be minimizedInput flow variable port: performance statistics, including RMSEUpper output port: Best k value and best RMSELower output node: Accuracy values for all test parameter values in the loopNode 7R SnippetKNIME does not have a node to perform kNN regression, so R code was inserted in Node 4, which contains an R Snippet. (The R code will have to be customized for new problems.) The R code runs kNN with the best value for k, which equals 1The R code: is shown bleow.Input port: File with 100 rows and two columns and min-max normalizationOutput port: File table with 100 rows and three columns (X, Y, and Y_Pred)Node 8Numeric ScorerScore the prediction data from the kNN model with k=1Options:Reference column: YPredicted column: Y_PredNote: MAPE cannot be computed because the min-max normalization creates zeros in the y values. This is not a problem since the criterion for optimization is minimizing RMSEInput port: File table with 100 rows and three columns (X, Y, and Y_Pred)Output: Performance statistics, including RMSENode 9Linear Regression LearnerSettingsTarget: YInclude: XInput port: File with 100 rows and two columns and min-max normalizationUpper output port: Regression modelLower output port: Coefficients and statisticsNode 10Regression PredictorUpper input port: Regression Model from Node 9Lower input port: File with min-max normalizationNode 11Numeric ScorerScore the prediction data from the OLS regression modelOptions:Reference column: YPredicted column: Y_PredNote: MAPE cannot be computed because the min-max normalization creates zeros in the y values. This is not a problem since the criterion for optimization is minimizing RMSEInput port: File table with 100 rows and three columns (X, Y, and Y_Pred)Output: Performance statistics, including RMSE library(FNN) mydata &lt;- as.data.frame(knime.in) Data &lt;- as.data.frame(mydata[,1]) Target &lt;- mydata[,2] k=knime.flow.in[[&quot;k&quot;]] YKNN = knn.reg(train = Data, test = Data, y = Target, k) Y_Pred &lt;- YKNN$pred knime.out &lt;- as.data.frame(cbind(mydata,Y_Pred)) library(FNN) mydata &lt;- as.data.frame(knime.in) Data &lt;- as.data.frame(mydata[,1]) Target &lt;- mydata[,2] YKNN = knn.reg(train = Data, test = Data, y = Target, k=1) Y_Pred &lt;- YKNN$pred vknime.out &lt;- as.data.frame(cbind(mydata,Y_Pred)) "],["results-for-comparing-ols-and-knn-on-non-linear-relationship.html", "Results for comparing OLS and kNN on non-linear relationship", " Results for comparing OLS and kNN on non-linear relationship .cl-4e09b620{}.cl-4dfdf236{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4dfdf240{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e02768a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e02769e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e02769f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e028fee{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e028ff8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e029002{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e029003{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e029004{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e02900c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.4: Accuracy metrics for OLS vs. kNN MetricOLSkNNRoot mean squared error0.07540.016 Table 10.4 shows the accuracy metrics for the two analyses. OLS does not capture the non-linearity in the data without a transformation, and the kNN model more accurately captures the relationship without transformations. The charts in Figures 10.6 and 10.7 show that the OLS continued to show the non-linearity while kNN created a linear relationship between the predicted and actual y-values. Of course, OLS could be improved by creating a polynomial model, but the point is that kNN regression did not require a model to be specified a priori. Figure 10.6: OLS predicted vs. actual values. Figure 10.7: KNN predicted vs. actual values. "],["knn-for-multiclass-target-variables.html", "kNN for multiclass target variables", " kNN for multiclass target variables KNN is also effective with target variables that have more than two classes. An example data set was obtained from the UCI Machine Learning Repository to illustrate kNN with a multiclass target (German and Spiehler 1987). The data set has 214 observations, a 6-level categorical target, Type of glass (Table 10.6), and nine continuous predictors (Table 10.5). .cl-4e383a40{}.cl-4e2d1912{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e2d191c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e315bda{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e315be4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e317f48{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e317f5c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e317f5d{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e317f66{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e317f70{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e317f71{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.5: Predictor variables in glass identification data. VariableDescriptionRIrefractive indexNaSodiumMgMagnesiumAlAluminumSiSiliconKPotassiumCaCalciumBaBariumFeIron .cl-4e569eae{}.cl-4e4b8d5c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e4b8d66{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e4ff982{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e50152a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e501534{width:3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e501535{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e50153e{width:3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e50153f{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e501540{width:3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.6: Target variable: type of glass. Target.variable.categoriesDescriptionBuilding_floatBuilding windows float processedBuilding_nonfloatBuilding windows non-float processedvehicle_windows_floatVehicle windows float processedcontainersContainerstablewareTablewareheadlampsVehicle headlamps Frequency analysis for the glass dataset. The sample size (214) was relatively small, especially considering that there are seven levels of the target variable. So, the distribution of the target values was run for the total sample, the training set, and the test set. The workflow for the distribution analysis is in Figure 10.8 (file: WorkflowForFigure10.8.knwf). Node descriptions are in Table 10.7. The partition was 50/50 between the training and test sets, which was done so that at least a few observations would be in the less frequent categories for the training and test partitions. The distributions for the complete data set and the training and test subsets are shown in Table 10.8). Figure 10.8: Workflow to find frequency distributions for glass dataset. References "],["node-desciptions-for-the-the-figure-10.8-workflow.html", "Node desciptions for the the Figure 10.8 workflow", " Node desciptions for the the Figure 10.8 workflow .cl-4e81ca84{}.cl-4e766ea0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e766eaa{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e7ab528{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e7ab532{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e7acf7c{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e7acf86{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e7acf90{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e7acf91{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e7acf92{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e7acf9a{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.7: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: glassdata.csvOutput port: File table with 214 rows and 10 columnsNode 2Value CounterSettings:- Count values for all observations.- Column with values to count: Type of glass.Input port: File table with 214 rows and 10 columnsOutput port: 6 rows by 2 columns table with frequenciesNode 3 PartitioningSettings:- First partition- Select Relative: 50%- Select Stratified sampling: Type of glass- Check: Use random seed: 123.Input port: File table with 214 rows and 10 columns Upper output port: Training data with 107 rows and 10 columnsLower output port: Training data with 107 rows and 10 columnsNode 4Value CounterSettings:Count values for training set.Column with values to count: Type of glass.Input port: Training set table with 107 rows and 10 columnsOutput port: 6 rows by 2 columns table with frequenciesNode 5Value CounterSettings:- Count values for test set.- Column with values to count: Type of glass.Input port: Test set table with 107 rows and 10 columnsOutput port: 6 rows by 2 columns table with frequencies "],["frequency-table-for-glass-data-set.html", "Frequency table for glass data set", " Frequency table for glass data set .cl-4ea4bca6{}.cl-4e981956{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e981960{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4e9caffc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e9cb006{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4e9cb010{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-4e9cb011{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-4e9ccc12{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc1c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc26{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc27{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc30{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc31{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc32{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc3a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4e9ccc3b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.8: Frequencies for total, training, and test sets. RowIDTotal countTraining setTest setBuliding_nonfloat763838Buliding_float703535headlamps291316vehicle_windows_float1798containers1376tableware954 The workflow for the kNN prediction is in Figure 10.9 (file: WorkflowForFigure10.9.knwf) and node descriptions for the workflow are in Table 10.9. Figure 10.9: Workflow for kNN analysis of glass dataset. "],["node-desciptions-for-figure-10.9-workflow.html", "Node desciptions for Figure 10.9 workflow", " Node desciptions for Figure 10.9 workflow .cl-4ed1b9f4{}.cl-4ec6870a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ec68714{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ecad9d6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ecad9e0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ecaf48e{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ecaf498{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ecaf499{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ecaf4a2{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ecaf4a3{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ecaf4a4{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.9: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: glassdata.csvOutput port: File table with 214 rows and ten columnsNode 2NormalizerNormalize continuous variables using min-max normalization (0,1) to avoid having high-range variables dominate the distance function in kNN.Input port: File table with 214 rows and ten columnsOutput port: File table with 214 rows and ten columns with min-max normalizationNode 3PartitioningFirst partition- Select Relative: 60%- Select Stratified sampling: Type of glass- Check: Use random seed: 123.Input port: File table with 214 rows and ten columns with min-max normalizationUpper output port: Training data with 107 rows and ten columns with min-max normalizationLower output port: Test data with 107 rows and ten columns with min-max normalizationNode 4Parameter Optimization Loop StartThis node starts an iterative loop to find the best value of k. The red flow variable plot sends the value of k to the K Nearest Neighbors node.. Standard settings- Parameter: k- Start value: 1- Stop value: 12- Step size: 1.0- Check IntegerOutput flow variable port with k valuesNode 5K Nearest NeighborsThis node classifies a set of test data based on the k Nearest Neighbor algorithmStandard settings- Column with class labels: Type of glass- The k variable input from the optimization loop sets number neighbors to consider.- Check: Weight neighbors by distance- Check: Output class probabilities.Flow variables- Select k.- Connect flow variable port from Node 6 to input flow variable port in Node 7 kNNUpper input port: Training data with 107 rows and 10 columns with min-max normalizationLower input port: Test data with 107 rows and 10 columns with min-max normalizationOutput port: Test data classified with 107 rows and 10 columns with min-max normalizationNode 6ScorerThis node produces accuracy statistics and a confusion matrix for the kNN model test set.Scorer- First Column: Type of glass- Second Column: Prediction (Type of glass)Show red variable portsInput port: Test data classified with 107 rows and 10 columnsUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 7Parameter Optimization Loop EndThis node closes an iterative loop to find the best value of k. The red flow variable plot sends the value of k to the K Nearest Neighbors nodeConnect flow variable port from Node 6 to input flow variable port in Node 7Options- Flow variable with objective function value: Accuracy- Select: Function should be maximizedUpper output node: Best k valueLower output node contains the accuracy for all test parameter values in the loopNode 8Line PlotThis node produces a line plot of accuracy versus k. Options- Check: Create image at output.- Choose column for the x-axis: k- Include: Objective value (which will be accuracy)- Input node: Accuracy versus kAxis Configuration- Label for x-axis k value- Label for y-axis AccuracyLower output node: Chart of accuracy versus kNode 9K Nearest NeighborsSame as Node 5, but with k=1Upper input port: Training data with 107 rows and ten columns with min-max normalizationLower input port: Test data with 107 rows and ten columns with min-max normalizationOutput port: Test data classified with 107 rows and ten columns with min-max normalizationNode 10ScorerSame as Node 6Input port: Test data classified with 107 rows and ten columnsUpper output port: Confusion matrixLower output port: Accuracy statistics "],["results-from-the-figure-10.9-workflow.html", "Results from the Figure 10.9 workflow", " Results from the Figure 10.9 workflow The parameter optimization loop reported that k=1 resulted in the most accurate predictions, as shown in Figure 10.10. The confusion matrix for predicting type of glass using kNN with the test data set is shown in Table 10.10. The cells with the correct predictions show the frequencies in bold. Figure 10.10: Accuracy versus k for the Figure 10.9 Workflow. .cl-4f08c9e4{}.cl-4efcb758{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4efcb762{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f014dcc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f014dd6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f014dd7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f014de0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-4f014de1{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:10pt;line-height: 1;background-color:transparent;}.cl-4f016d8e{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016d98{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016d99{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016d9a{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016d9b{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016da2{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016da3{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016da4{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016da5{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dac{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dad{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016db6{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016db7{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016db8{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dc0{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dc1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dc2{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dca{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dcb{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dcc{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dd4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dd5{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016dde{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016ddf{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016de0{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f016de8{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 10.10: Confusion matrix using kNN to predict type of glass. Predicted ActualX1X2X3X4X5X6Totals# correct% correctX1 = Building float2465000352468.6%X2 = Building non-float4304000383078.9%X3 = Vehicle float1250008562.5%X4 = Containers0204006466.7%X5 = Tableware0101204250.0%X6 = Headlamps2101012161275.0%Totals31421462121077771.9% The accuracy varies by type of glass, and the overall accuracy is 71.9%. While this may not seem particularly good, predicting a target with six classes with a small data set is a challenging task for a model. For comparison, the model was run five times with the target value shuffled randomly, and the average accuracy with the shuffled data was only 0.2504. "],["summary-6.html", "Summary", " Summary As demonstrated in the examples, kNN has the flexibility of being about to predict binary, continuous, and multiclass target variables. It also has the advantage of not requiring specific distributions (e.g., normality) for the predictor variables. However, it is necessary to standardize the predictors so that variables with large values do not unduly influence the results. Another advantage of kNN is that it is not necessary to build a training model and test it with a separate data set. However, the training/test partition is used to select the optimal value of k. While model development is quick, kNN can require long running times if the data set is large. (There are some refinements of kNN which can reduce running time.) The long-running time is because the original data and new observations must be used each time predictions are needed. In addition, instead of just storing a model as with regression or other predictive models, the entire data set must be stored and made available for deployment. As shown in the demonstrations, kNN can result in accurate predictions. In applications, creating and comparing various predictive models may be necessary to determine which works best with a given data set. Two or more correlated variables can overly determine the distance measure. One common way to avoid this is to submit the predictors to principal components analysis (PCA) and use the component scores on a reduced number of dimensions to compute distances (Clements 2021). (This also will automatically satisfy the need for standardized values, assuming that PCA is applied to the correlation matrix rather than the covariance matrix.) Interestingly, the robustness of kNN to noisy data is said to be a weakness by some and yet a strength by others (Teknomo 1987) versus (Ougiaroglou and Evangelidis 2015). Good practice requires that data be carefully prepared and checked for outliers, missing values, and errors before submission to any algorithm. Finally, kNN suffers from the \"curse of dimensionality.\" The number of dimensions is the number of predictor variables or features, and this refers to the phenomenon of increased distances among observations in high-dimensional spaces. The effect of high dimensionality is that all observations tend to appear equidistant. The resulting sparsity creates problems for kNN and other algorithms because not all combinations of predictor variables are likely to be present in the data. The \"cure\" for this \"curse\" is larger data sets. The required number of observations is estimated to grow exponentially with the number of predictors. References "],["neural-networks.html", "Chapter 11 Neural networks", " Chapter 11 Neural networks Artificial neural networks are extremely powerful techniques that have become quite popular in recent years. One reason for their popularity is that neural nets are quite flexible and can produce very accurate predictions when used in supervised data mining applications. For example, neural nets can be used for problems with categorical target variables in place of or in addition to logistic regression and decision trees. Neural nets also can handle continuous targets in regression-type problems. Neural nets can evolve more complex, flexible, and accurate models. The downside is that the models are often difficult to interpret and explain. Neural nets are especially effective when many input variables have non-linear relationships with the target variable. What is fascinating about neural nets is that the model structure needs only to be specified in terms of the number of nodes, the number of hidden layers, and, in some cases, an activation function. The analyst does not have to be concerned with specifying the nature of non-linearities or interactions among predictors. In a sense, the computer learns from the data using neural nets. A specific model is not specified as with regression models. Instead, the process works like this: \"Here's my data; this is how complicated the net can be. Develop a predictive model.\" These are not statistical models but robust computer programs. Thus, no assumptions are made about normality, linearity, etc. The flexibility and complexity of neural net models are both the source of the attractiveness of neural nets and part of the challenges with effectively using them. Neural nets work best when there are many observations where training, validation, and test subsets can be formed. As many software programs are available, neural nets can be easy to apply and use with modern software. The resulting models, when using neural networks, can be quite complicated even though, in one sense, these are just a combination of non-linear regression models. It is the combination of many simple models that makes artificial neural nets complicated. "],["what-are-artificial-neural-networks.html", "What are artificial neural networks?", " What are artificial neural networks? The \"artificial\" adjective is used because these models were inspired by attempts to simulate biological neural systems. Data analysts, computer experts, or statisticians did not initially develop the first neural networks. Instead, the original research into human brain activity led to the development of computer models. The artificial neural net, in a way, mimics human brain neurons. However, the number of elements in even the most complicated neural networks is nowhere near the 100 billion neurons in the human brain. So, artificial neural nets, as used in data mining, are far from as proficient or as complicated as the human brain. Despite this, much of the terminology persists from the original research on the human brain. The terminology uses terms such as neurons, learning, nodes, activation functions, and synapses in machine-learning neural networks. Human neurons Figure 11.1 is a simplified model of a typical human neuron. In basic terms, the neuron works as follows. The dendrites receive chemical and electrical signals from other neurons. The soma (nucleus) processes the information from the dendrites and creates an output transmitted by the axon. The axon is then connected via synapses to other neurons. With many neurons combined in a network, the result is the powerful capabilities of the human mind. Figure 11.1: Simplified model of the human neuron Source: (Unal and Başçiftci 2021). References "],["mathematical-model-of-a-neuron.html", "Mathematical model of a neuron", " Mathematical model of a neuron In 1943 McCulloch and Pitts, neurophysiologists at Yale University, proposed a mathematical model to explain how human neurons worked to make decisions and create insights (McCulloch and Pitts 1943). McCulloch and Pitts (MP) hypothesized that the human brain uses millions of simple elements, essentially on-off switches. Their idea was that a complex set of behaviors, such as those evidenced by humans, can arise from a set of simple units if enough of them act in concert or sequence. The inputs to the MP neuron model were binary, either +1 (excitatory) or -1 (inhibitory). When the sum of the inputs exceeded a threshold, the neuron would \"fire.\" In 1957 Rosenblatt developed the perceptron built on the MP model by allowing the inputs to be real numbers (between -1 and +1), using a weighted sum of the inputs, including a constant bias term. Rosenblatt's model also was a single-layer neuron. The fundamental elements in the perceptron model are shown in Figure 11.2. Figure 11.2: The Rosenblatt Perceptron. While the Rosenblatt perceptron had limited success (for example, in image recognition in a device using photocells for inputs), he also contributed to over-hyping the capabilities and potential of neural networks. This hype was the subject of a New York Times article (J. Tukey 1958) that described expectations of \"… an electronic computer … that … will be able to walk, talk, see, write, and reproduce itself and be conscious of its existence.\" References "],["the-disillusionment.html", "The disillusionment", " The disillusionment This initial enthusiasm gave way to disillusionment by the late 1960s with the publication of a book by Marvin Minsky and Seymour Papert in 1969 that showed some fundamental problems with perceptrons (Minsky and Papert 1969). For example, a single-layer perceptron could not model the so-called XOR (exclusive OR) problem. The XRO case is shown in Table 11.1. Since the single-layer perceptron could not produce the correct output in this table, funding for research into neural nets dried up for more than ten years, often referred to as the \"winter of AI.\" .cl-4f374670{}.cl-4f2c0df0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f2c0dfa{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f303d6c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f30586a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f305874{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f305875{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.1: The XOR problem. Input AInput BOutput000011101111 Multilayer perceptrons can handle the XOR problem and other complex input-output structures. Rosenblatt experimented with multilayer models but was unsuccessful in attempts to estimate the weights in such models. Multilayer neural nets can approximate virtually any function to any desired degree of accuracy, and this is known as the \"universal approximation theorem\" (Nielsen 2019). A method for \"learning\" the weights in a multilayer model was needed.15 References "],["the-learning-process-for-artificial-neural-networks.html", "The learning process for artificial neural networks", " The learning process for artificial neural networks With classical statistical models such as multiple regression, a mathematical model is first developed, and the model parameters are derived analytically by minimizing an error function based on the difference between observed values and values estimated by the regression. In contrast, there is no analytic, closed-form solution to the problem of estimating the weights in a multilayer neural network. Therefore, an iterative process of adjusting the model weights in small increments was needed to minimize an error function. The error function is based on the differences between the observed actual inputs and estimated output target values of the network. Estimating (training) the weights in a single perceptron can be done straightforwardly, but the estimation problem is more challenging with multilayer networks. One reason is that parameter changes in one layer can affect the best estimates in other layers. In addition, the number of weights can be quite large, and different weights can lead to the same \"solution\" because of the likelihood of local minima. Still, multilayer networks had considerable interest because such models could be highly flexible and powerful predictors. After a lengthy period of reduced interest (and available research funding), researchers found ways to estimate weights with these more complex models in the 1980s. Several algorithms have been developed which differ in how the weights are adjusted. These developments re-ignited interest in neural nets, and a flurry of research began. One of the first practical methods for estimating weights was the backpropagation algorithm (Rumelhart and Williams 1986) and (Sagar 2019). References "],["backpropagation-reignites-interest.html", "Backpropagation reignites interest", " Backpropagation reignites interest Backpropagation requires a network structure, a set of target observations, and input variables associated with each observed value. Understanding the details of backpropagation requires an understanding of matrix calculus, which is beyond the scope of this book. (For an excellent technical exposition, see the online book by Nielsen (Nielsen 2019)). However, in general, the steps in backpropagation are: A starting set of weights is created (randomly) and used to populate the model. The weights propagate through the neural network, creating estimated target values. The differences between the observed and estimated target values are calculated and aggregated into an overall error function. The error is then fed back through the network, and adjustments to the weights that reduce the error are made. The adjustments change the weights in small increments using gradient descent. The gradient measures the direction and magnitude of change in the output function with minor weight changes. After the changes are made, the process returns to step 2 with the adjusted weights. Steps 2 through 5 are repeated many times until some criterion is reached, such as when the changes in the weights are small, as a pre-set limit on computer processing time is reached, for a specified maximum number of iterations, or until changes in the overall error become negligible. This process can be slow, sometimes requiring hundreds of iterations, but many analyses can be completed in seconds with modern computers. However, complex problems could take hours or even days. The actual mechanisms are sophisticated, having been developed by mathematicians and computer scientists. Several other methods for training NNs have since been developed, some of which are now claimed to be superior to backpropagation (Hastie and Friedman 2009). There are dozens of R packages for neural networks that use various methods (Salsabila M. and Nash n.d.). For example, THE RSNNS package in R offers standard backpropagation, BackpropMomentum, BackpropWeightDecay, and other methods. KNIME's neural net package, Rprop MLP Learner, uses the RProp algorithm, which has two main advantages over backpropagation: (1) training models is often faster, and (2) there is no requirement for user-specified parameters such as the learning rate. However, Ravichandran (Ravichandran 2020) concluded, \"Ultimately, none of these can be called as 'better than backprop' because all they do is achieve competitive results.\" As a result, backpropagation continues to be the most frequently used method. References "],["activation-functions.html", "Activation functions", " Activation functions The original perceptron model used a step function activation function, whereby a binary output of \"1\" was produced if the weighted sum of inputs exceeded a threshold, else a \"0\" was output. Today, several alternative activation functions are available, four of which are shown in Figure 11.3. While it is possible to have a linear activation function, most activation functions are non-linear. Using only linear activations would re-create ordinary regression using neural networks. Figure 11.3: Examples of activation functions used in neural nets. There are many activation functions in addition to the four shown in Figure 11.3. Neural network software programs may provide a single activation function or give the user several alternatives. Also, some implementations allow a single activation function for all layers, while others can have distinct functions in each layer. For a recent review of activation functions, see (Mercioni and Holban 2020). Early neural net algorithms used the logistic and hyperbolic tangent (TanH) functions, and these are still used in some neural net programs with either one or two hidden layers. (Layers in neural nets are discussed in the next section.) However, as analysts experimented with networks with three or more hidden layers, a weakness was discovered in using logistic and TanH as activation functions. The ReLU function overcomes this weakness. Networks with three or more layers are often called \"deep learning\" models. For now, the applications of neural nets will be on those with one or two hidden layers. References "],["example-of-a-single-layer-artificial-neuron.html", "Example of a single-layer artificial neuron", " Example of a single-layer artificial neuron The artificial neuron shown in Figure 11.2 is used to demonstrate the calculations using different activation functions. This model has three inputs, an activation function f which acts on a weighted sum of the inputs, and an output Y. Two different sets of inputs (Case 1 and Case 2, Table 11.2) are used for this demonstration: .cl-4f6a7aa4{}.cl-4f5f7f6e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f5f7f78{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;top:3.3pt;}.cl-4f5f7f82{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f63c1f0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f63c1fa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f63de06{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f63de10{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f63de1a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f63de1b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f63de1c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f63de24{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.2: Input values for demonstration. X1X2X3Case 15.032Case 20.1-43 The weights will be estimated in a real example, but for illustration, assume that the weights are as follows in Table 11.3: .cl-4f8d4f0c{}.cl-4f81fc2e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f81fc38{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;top:3.3pt;}.cl-4f81fc39{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f86380c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f86567a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f865684{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.3: Input weights for demonstration. bW1W2W3-0.1532 The weighted sum for each case is calculated using the following equation: \\[S = b + W_{1}X_{1} + W_{2}X_{2} + \\ W_{3}X_{3}\\] Substituting for the weights and the input values, the weighted sums for Case 1 and Case 2, respectively, are: \\[S_{1} = - 0.1 + 0.3 \\times 5 + 0.4 \\times 3 + 0.5 \\times 2 = 3.6 \\\\\\ S_{2} = - 0.1 + 0.3 \\times 0.1 - 0.4 \\times 4.0 + 0.5 \\times 3 = - 0.17\\]. S1 and S2 are submitted to activation functions ReLU, Logistic, TanH, and Step, and final outputs Y1 and Y2 are obtained (Table 11.4): .cl-4fb1e664{}.cl-4fa6c982{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4fa6c98c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4fab0b78{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4fab0b8c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4fab2a2c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fab2a36{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fab2a37{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fab2a38{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fab2a40{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fab2a41{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.4: Neural net outputs for four different activation functions. ReLULogisticTanHStepCase 13.61.01.01.0Case 20.00.5-0.20.0 This demonstration shows how different activation functions affect the outputs of a single perceptron. The activation function will change the specific outputs of neurons, but in practice with one- or two-layer networks, the prediction accuracy will be the same or nearly the same. "],["example-of-a-multilayer-perceptron.html", "Example of a multilayer perceptron", " Example of a multilayer perceptron The real power of neural networks is achieved with multiple nodes connected in layers. The input layer has one or more continuous or nominal variables, and the output layer can have one or more categorical or continuous variables. One or more hidden layers can be created between the input and output layers. Each hidden layer may contain multiple nodes, and the resulting structure is known as a multilayer perceptron. The diagram in Figure 11.4 is a multilayer perceptron with an input layer, one hidden layer, and an output layer. A model such as this requires estimating eight weights and three bias levels. There are three input variables (X1, X2, and X3), and each input is connected to two hidden nodes. The coefficients linking the inputs to the hidden layer are W(1)11 through W(1)32. The subscript in parentheses indicates the first set of weights, and the next two subscripts indicate the input variable followed by the hidden node. The biases b(1)1, b(1)2, and b(2)1 are labeled in a similar fashion. Outputs a(1)1 and a(1)2 are computed from the hidden layer after the activation function f() has been applied to the weighted sum of the inputs. Figure 11.4: Example of a multilayer perceptron. The equations developed for the model in Figure 11.4 are: \\[ \\begin{align} a_{(1)1} &amp;= f(W_{(1)11}X_{1} + W_{(1)21}X_{2} + W_{(1)31}X_{3} + b_{(1)1}) \\\\ a_{(1)2} &amp;= f(W_{(1)12}X_{1} + W_{(1)22}X_{2} + W_{(1)32}X_{3} + b_{(1)2}) \\\\ Y &amp;= \\ f(W_{(2)11}a_{(1)1} + W_{(2)21}a_{(1)2} + b_{(2)1}) \\tag{7.1} \\end{align} \\] Neural net software is tasked with finding values for all the parameters in the model shown in Figure 11.4. Since there is no closed-form solution to this problem, iterative techniques are used. For the example in Figure 11.4, assume the data set consists of ten observations (Table 11.5). For this simple demonstration, the activation function was sigmoid exp(x)/(1+exp(x). .cl-4fdfb67a{}.cl-4fd44c72{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4fd44c7c{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;top:3.3pt;}.cl-4fd44c7d{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4fd89f2a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4fd8bdc0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fd8bdc1{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4fd8bdca{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.5: Input data. x1x2x3y0.10.020.0110.20.040.5810.30.060.7000.40.080.4010.50.100.9910.60.120.1000.70.140.9400.80.161.0010.90.180.3001.00.200.860 The actual values for the target and the estimated values using the optimized weights are in Table 11.6. .cl-5005e7e6{}.cl-4ff9801e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ff98028{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;top:3.3pt;}.cl-4ff98032{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ffde776{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ffe0292{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ffe029c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ffe029d{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.6: Actual and predicted target values for demonstration data. yiŷierror110110011110110000000101000000 For this simple problem, 80% of the predicted values are correct. In fact, with eleven parameters and only ten observations, the model is overfitting. The process, however, is illustrative of the way neural networks work. "],["example-of-a-multilayer-perceptron-with-multi-level-categorical-target.html", "Example of a multilayer perceptron with multi-level categorical target", " Example of a multilayer perceptron with multi-level categorical target Neural nets can have more than one output variable, categorical or continuous. The classic Iris data set is an example with a three-category target. It consists of 150 observations, four measured attributes (sepal length, sepal with, petal length, and petal width), and the type of Iris as the target (setosa, versicolor, and virginica). The four input variables were normalized since the RProp MLP Learner requires numerical inputs from 0.0 to 1.0. The workflow diagram is shown in Figure 11.5 (file: WorkflowForFigure11.5.knwf). The workflow starts by reading the iris data. Then, the data is partitioned into training and test sets. The continuous input variables are normalized to values between 0 and 1, a requirement of the RProp model in KNIME. The predictions from the training and validation data sets are assessed using Scorer nodes. Descriptions of the nodes in the iris workflow are shown in Table 11.7. Figure 11.5: Workflow for neural net analysis of iris data. "],["node-desciptions-for-the-figure-11.5-workflow.html", "Node desciptions for the Figure 11.5 workflow", " Node desciptions for the Figure 11.5 workflow .cl-50332ec2{}.cl-50276dc6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50276dd0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-502c22e4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-502c22ee{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-502c3e46{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-502c3e50{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-502c3e51{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-502c3e5a{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-502c3e5b{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-502c3e5c{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.7: KNIME nodes. NodesDescriptionsInput.and.output.nodesNode 1File ReaderRead file: iris.csvOutput port: File table with 150 rows and five columnsNode 2PartitioningFirst partition- Select Relative: 70%- Select Stratified sampling: Species- Check: Use random seed: 123Input port: File table with 150 rows and five columnsUpper output port: Training data table with 105 rows and five columnsLower output port: Test data table with 45 rows and five columnsNode 3NormalizerNormalize continuous variables using min-max normalization (0,1) as required by neural netsInput port: Training data table with 105 rows and five columns Output port: Training data table with 105 rows and five columns with min-max normalizationNode 4Rprop MLP LearnerDevelop a multilayer feedforward neural network.Options- Maximum number of iterations: 100- Number of hidden layers: 1- Number of hidden neurons per layer: 3- Class column: Species- Check Use seed for random initialization: Random seed 123Input port: Training data table with 105 rows and five columns with min-max normalizationFlow variable port: Neural networkNode 5MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on training data..Options- Check Append columns with class probabilities- Suffix for probability columns: ProbTrainingUpper input port: Neural networkLower input port: Training data table with 105 rows and five columns with min-max normalizationOutput port: Classified data training data table with 105 rows and nine columns with min-max normalization and predictionsNode 6ScorerThis node produces accuracy statistics and a confusion matrix for the neural net model with training data.Scorer- First Column: Species - Second Column: Prediction (Species)Input port: Classified data training data table with 105 rows and nine columns with min-max normalization and predictions Upper output port: Confusion matrix for training dataLower output port: Accuracy statistics for training dataNode 7Normalizer (Apply)This node normalizes the input data according to the normalization parameters as given in the model input (typically coming from the Normalizer node). This normalizes the test data the same way the training data has been normalized (using the \"Normalizer\" node)Input port: Test data table with 45 rows and five columnsOutput port: Test data table with 45 rows and five columns with min-max normalizationNode 8MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on test data.Options- Check Append columns with class probabilities- Suffix for probability columns: ProbTestUpper input port: Neural networkLower input port: Test data table with 45 rows and five columns with min-max normalizationOutput port: Classified data test data table with 105 rows and nine columns with min-max normalization and predictionsNode 9ScorerThis node produces accuracy statistics and a confusion matrix for the neural net model with the test set.Scorer- First Column: Species - Second Column: Prediction (Species)Input port: Classified test dataUpper output port: Confusion matrixLower output port: Accuracy statistics "],["results-of-the-analysis-with-the-iris-data.html", "Results of the analysis with the iris data", " Results of the analysis with the iris data The results of the analysis of the iris data are shown in two confusion matrices, one for the training data (Table 11.8) and one for the set data (Table 11.9). There were no errors with the training data and just two with the test data. Reduced accuracy with the test data is expected since the test data was not used to create the model. .cl-50557c66{}.cl-504a256e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-504a2578{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-504e7128{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-504e7132{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-504e8c1c{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-504e8c26{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-504e8c27{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-504e8c30{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-504e8c31{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-504e8c32{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.8: Neural net results for the iris training data. Training datasetosaversicolorvirginicasetosa3500versicolor0350viginica0035 .cl-5076fb70{}.cl-506be6f4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-506be6fe{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50701512{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5070151c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5070381c{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50703826{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50703827{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50703830{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50703831{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50703832{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.9: Neural net results for the iris test data. Test datasetosaversicolorvirginicasetosa1500versicolor0141viginica0114 "],["considerations-in-using-neural-nets.html", "Considerations in using neural nets", " Considerations in using neural nets Missing data Neural nets cannot handle missing data, so the imputation of values must be performed if any data values are missing. Most neural net programs will drop that observation if missing data is encountered in an observation. Representative data: All eventualities must be covered The training, validation, and test data must represent the business problem being considered. The old computer science adage \"garbage in, garbage out\" could not apply more strongly than in neural modeling. If training data is not representative, then the model's worth is at best, compromised, and at worst, it may be useless. It is worth spelling out problems that can corrupt a training set. A neural network can only learn from cases that are present. Suppose people with incomes over $100,000 per year might be poor credit risks, and your training data does not include anyone with incomes over $40,000 per year. In that case, you cannot expect the model to make correct decisions on previously unseen cases. Extrapolation is dangerous with any model, but some types of neural networks may make poor predictions in such circumstances. A network learns the most accessible features it can. A classic (possibly apocryphal) illustration of this is a vision project designed to recognize tanks automatically. A network was trained on a hundred images containing military tanks and a hundred without tanks. The model achieved 100% accuracy in predicting which images showed tanks. When tested on new data, the model proved hopeless. The reason? The pictures of tanks were taken on dark, rainy days, and the pictures without tanks were taken on sunny days. The network learned to distinguish the differences in overall light intensity. To create a useful model for this application, training cases would be needed covering the weather and lighting conditions under which it is expected to operate, as well as types of terrain, angles of camera shots, and distances. Unbalanced data sets Since a network minimizes an overall error, the proportion of data types in the set is critical. A network trained on a data set with 900 good cases and 100 bad will bias its predictions towards good cases. If the representation of good and bad cases differs in a new sample, the network's decisions may be wrong. "],["the-overfitting-problem.html", "The overfitting problem", " The overfitting problem As with other data mining techniques, the neural net model should be trained on a separate data set and validated and tested on different data sets. This is particularly important when using neural nets. Neural nets can predict too well. Given enough flexibility with several hidden layers and many nodes, a neural net model can be developed to predict the target in the training data perfectly. The problem is that over-fitted models do not generalize well. In other words, when you take a model that fits perfectly to the training data, it may not predict the validation or testing data sets very well. With sufficient iterations and enough nodes, neural nets can even fit data with a randomly created target. To illustrate overfitting, the Iris data set was again used. This time, however, the column with target variables was ordered randomly. This meant that the predictors (sepal length, sepal width, petal length, and petal width) and target (setosa, versicolor, and virginica) were no longer correctly matched. A neural net was specified with two hidden layers, each with ten nodes. "],["the-results-of-overfitting.html", "The results of overfitting", " The results of overfitting The results are shown in the following two tables. The first confusion matrix is for the randomized training data (Table 11.10). Note that a perfect assignment of the types of Iris flowers was obtained. .cl-509ebc0a{}.cl-50907208{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50907212{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-509753f2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-50975406{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-50977b02{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50977b16{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50977b20{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50977b2a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50977b34{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50977b35{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.10: Neural net results for the iris training data with a randomized target. Training datasetosaversicolorvirginicasetosa3000versicolor0310viginica0029 The second confusion matrix shows the results using the model on the test data. These results show that the model was overfitting (Table 11.11) and could not accurately predict the new data. .cl-50c199e6{}.cl-50b63a2e{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50b63a38{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50ba9a60{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-50ba9a6a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-50bab5c2{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50bab5c3{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50bab5cc{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50bab5cd{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50bab5d6{width:1.3in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50bab5d7{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.11: Neural net results for the iris test data with a randomized target. Test datasetosaversicolorvirginicasetosa878versicolor256viginica1077 Overfitting is indicated when the training data results are much better than the results with the validation or test data. Test and validation results are usually not as good as training results.16 A frequent question is how much of a reduction in accuracy with the holdout sample is considered excessive. There are no firm rules or guidelines, and the acceptable difference level depends on the problem. In certain medical applications, overfitting by 5% might be unacceptable but acceptable if the goal is to predict churn for a direct marketing case. If overfitting is judged to be excessive, there are several techniques to reduce it, such as: Decreasing the model complexity by using fewer nodes per hidden layer or removing a layer. Reducing the number of iterations used for fitting the model. Adding a penalty term to the objective function (i.e., using regularization). Randomly dropping neurons from the network during each iteration of the algorithm. Techniques (1) and (2) above can be used with the RPropMLP model in KNIME. Techniques (3) and (4) are also available in KNIME, with the deep learning models. It is possible that the accuracy with the test or validation set is higher than with the training set. This should not be a concern since it is most likely due to the randomness in creating the subsets of data.↩︎ "],["normalizing-the-data.html", "Normalizing the data", " Normalizing the data Most neural net algorithms require that continuous input and output variables be normalized to between 0.0 and 1.0. In some algorithms, this is done without user input, but the PPropMLP algorithm in KNIME does require normalization. The normalization should be applied equally to the training, validation, and test sets so that predictive accuracy can be accurately assessed. This is done with an applied normalization node in KNIME.17 When applying the normalization from the training set to the validation or test sets, an error is sometimes raised since values found in the latter two data sets might be beyond the range of values in the training set. This is usually not a problem and can be ignored.↩︎ "],["example-using-neural-nets-to-predict-credit-status.html", "Example: Using neural nets to predict credit status", " Example: Using neural nets to predict credit status The widely used German credit data set was corrected in a 2019 report (Gromping 2019). The author of the report also provided some context for the story behind the data. The data \" … are a stratified sample of 1000 credits (300 bad ones and 700 good ones) from the years 1973 to 1975 from a large regional bank in southern Germany, which had about 500 branches, among them both urban and rural ones. Bad credits are heavily oversampled to acquire sufficient information for discriminating them from good ones; the sources report that the actual prevalence of bad credits is around 5%. As suggested with the Statlog German credit data, one might consider misclassification cost. It has been recommended for this data that allocating the cost for misclassifying a bad risk as good to be five times as high as the cost for misclassifying a good risk as bad.” The credit data is used to illustrate a neural network application. The data set contains 20 predictors and a binary target: \"Score.\" The Score is either \"good\" or \"bad\" based on the debtor's assessment of risk before granting credit. The variables in the German credit data set are shown in Table 11.12. .cl-50e2da70{}.cl-50d77536{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50d77540{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-50dbeb98{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-50dc06dc{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50dc06e6{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50dc06f0{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50dc06f1{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50dc06fa{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-50dc06fb{width:5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.12: Variables in the German credit data set. VariableDescriptionStatus Status of the debtor’s checking account with the bankdurationCredit duration in monthscredit_historyHistory of compliance with previous or concurrent credit contractspurposePurpose for which the credit is neededamountCredit amountsavingsDebtor’s savingsemployment_durationDuration of debtor’s employment with current employerinstallment_rateCredit installments as a percentage of debtor’s disposable incomepersonal_status_sexCombined information on sex and marital statusother_debtorsIs there another debtor or a guarantor for the credit?present_residenceLength of time (in years) the debtor lives in the present residencepropertyThe debtor’s most valuable propertyageAge in yearsother_installment_plansInstallment plans from providers other than the credit-giving bankhousingType of housing the debtor lives innumber_creditsNumber of credits including (or had) at this bankjobType of debtor’s jobpeople_liableBinary (1 or 2)telephoneIs there a telephone landline registered in the debtor's name?foreign_workerIs the debtor a foreign worker?credit_riskCredit score is \"good\" (1) or \"bad\" (0) in terms of risk. The analysis is not aimed to maximize predictive accuracy but rather to minimize the expected \"cost,\" which was calculated as five times the number of \"bad\" risks predicted to be \"good\" plus one times the number of \"good\" risks predicted to be \"bad\". One challenge in developing the analysis is dealing with oversampling. As noted above, the data set is oversampled with 30% \"bad\" risks while the actual proportion is 5%. References "],["overview-of-the-analytic-process.html", "Overview of the analytic process", " Overview of the analytic process After the data set was read into KNIME, categorical variables were recoded to binary indicators since neural nets must have numeric input variables. Next, the continuous variables were normalized to max/min (0,1) to avoid disproportionate weighting of variables with large values. A partitioning node created two subsets of observations, the first as a training set and the second to assess the model with test data. A Parameter Optimization Loop was created to tune three neural network parameters: the number of iterations, the number of hidden layers, and the number of nodes per layer. The objective for the optimization was set as “minimization of cost per number of rows in the data table .\"The reason for dividing by the number of rows in the data table is to make the cost estimates comparable for different-sized tables. The data table was rescaled to properly assess cost to reflect the correct ratio of 95% \"good\" and 5% \"bad\" risks. Costs were set at \"1\" for incorrectly predicting that a \"good\" risk is classified as \"bad\" and \"5\" for predicting that a \"bad\" risk is classified as \"good.\" To serve as a benchmark for comparison, the expected cost for the lender was estimated using a default assumption that all loan applications would be accepted. This is reasonable since 95% of the loans were not in default, and by assigning to the majority, only a 5% error would be made. "],["the-workflow-for-the-credit-data-neural-network.html", "The workflow for the credit data neural network", " The workflow for the credit data neural network The workflow in Figure 11.6 has three sections (file: WorkflowForFigure11.6); node descriptions are in Table 11.14. The upper section in Figure 11.6 is the loop set up to parameterize the neural model to minimize cost. The section in the lower right tests the model using holdout data. The section in the lower left calculates the expected cost under the assumption that all predictions are to the majority outcome, which is a \"good\" risk. Figure 11.6: Workflow to tune the neural model and minimize cost. Results of the analysis are shown below in Table 11.13. .cl-510c7628{}.cl-51006180{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51006194{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5105191e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51051928{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-510535b6{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535c0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535c1{width:1.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535ca{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535cb{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535d4{width:1.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535d5{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535de{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-510535df{width:1.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.13: Results from neural network analysis. Model# rowsCost100 x Cost per rowMinimum cost with test data500123.261Cost with default mode1,00018525.102 "],["node-desciptions-for-the-figure-11.6-workflow.html", "Node desciptions for the Figure 11.6 workflow", " Node desciptions for the Figure 11.6 workflow .cl-513c4984{}.cl-51300250{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5130025a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5134ef72{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5134ef86{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51350a8e{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51350a98{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51350aa2{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51350aa3{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51350aac{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51350aad{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.14: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file:SouthGermanCredit.csvOutput port: File table with 1,000 rows and 21 columnsNode 2One to ManyThis node transforms all possible values in a selected column into a new column. The values in each column are either 1 if that row contains this possible value or 0 if not. - Columns to transform: All string variables- Check: Remove included columns from the output- (Do not include original string variables in the output.Input port: File table with 1,000 rows and 21 columnsOutput data: File table with 1,000 rows and 48 columnsNode 3NormalizerNormalize continuous variables using min-max normalization (0,1) as required by neural netsSettings:- Check: Min-Max Normalization- Include: All continuous variablesInput port: File table with 1,000 rows and 48 columnsOutput port: File table with 1,000 rows and 48 columns with min-max normalizationNode 4PartitioningFirst partition- Select Relative: 50%- Select Stratified sampling: credit_risk- Check: Use random seed: 123Input port: File table with 1,000 rows and 48 columns with min-max normalizationUpper output port: Training data table with 500 rows and 48 columnsLower output port: Test and validation data table with 500 rows and 48 columnsNode 5Table CreatorThis sets the parameter ranges for the neural network cost minimizationOutput port: Manually created table with three rows and five columnsParameters for loops:- No. of iterations:- - Min: 30- - Max: 50- - Step: 10- No. of hidden layers- - Min: 1- - Max: 10- - Step: 1- No. of neurons per layer- - Min: 1- - Max: 20- - Step: 1Node 6Parameter Optimization Loop Start (Table)Start a loop to optimize accuracy using the parameter ranges from the output of Node 6Settings:- Parameter name: param_name (string)- Start: Min(param)- Stop: Max(param)- Step size: Step (integer)Parameter value type: type (string)Input port: Manually created table with three rows and five columnsFlow output port: ParametersNode 7Rprop MLP LearnerDevelop a multilayer feedforward neural network.Options- Maximum number of iterations: Controlled by flow variable input- Number of hidden layers: Controlled by flow variable input- Number of hidden neurons per layer: Controlled by flow variable input- Class column: credit_riskCheck Use seed for random initialization: Random seed 123Flow input port: ParametersInput port: Training data table with 500 rows and 48 columns with min-max normalizationModel output port: Neural network for training dataNode 8MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on training data..Options- Check Append columns with class probabilities- Suffix for probability columns: ProbModel input port: Neural networkLower input port: Training data table with 500 rows and 48 columnsOutput port: Classified training data with 500 rows and 51 columnsNode 9Rebalance to 95/5 ratio, estimate costThis Metanode rebalances the data to 95% credit_risk = 1 (no default) and 5% credit_risk = 0 (default).Input port: Classified training data with 500 rows and 51 columnsOutput port: Expected cost per number of rows in the data tableNode M1 String to Number- - B13Change credit_risk and Prediction (credit_risk) from string to numberNode M2 Row Splitter- Split credit_risk into two tables – one with credit_risk = 0 (250 rows) and one with credit_risk = 1 (250 rows)Node M3 Math Formula- Compute the required number of “bad” risk observations to rebalance to 95/5 splitExpression NBad = COL_SUM($credit_risk$) *.05263157Node M4 Table Row to Variable- Change NBad from table to row variableNode M5 Row Sampling- Draw a random sample of NBad from the credit_risk=0 tableNode M6 Concatenate- Combine the 250 rows with credit risk = 1 with 18 rows with credit risk =0Node M7 Column Expressions- If \"credit_risk\" = 0 and \"Prediction(credit_risk)\" = 1, cost =5- If “credit_risk” = 1 and “Prediction(credit_risk)” = 0, cost =1Node M8 Math Formula- Compute the sum of the cost columnNode M9 Column Filter- Include Cost and filter all other variablesM10 Math Formula- Compute cost/# rowsNode M11 Row Filter- Retain only the first row with costNode 10Table Row to VariableChange Cost per observation from table to row variableInput port: 1 row by 2 column table with Cost and Cost per observationFlow variable output: Cost per observation X 100Node 11Parameter Optimization Loop EndCloses the parameter optimization loop and transfers the information back to the corresponding loop start node.Select Function should be: Minimize Cost per observation Note: Cost per observation scaled by multiplying by 100Flow variable input: Cost per observation X 100Output port: Best parametersNode 12Table Row to VariableChange best parameters to flow variablesInput port: Best parametersFlow variable output: Best parametersNode 13Rprop MLP LearnerDevelop a multilayer feedforward neural network using the test data and best parametersOptions- Maximum number of iterations: Controlled by flow variable input- Number of hidden layers: Controlled by flow variable input- Number of hidden neurons per layer: Controlled by flow variable input- Class column: credit_riskCheck Use seed for random initialization: Random seed 123Flow input port: Best parametersInput port: Test data table with 500 rows and 48 columns with min-max normalizationModel output port: Neural network for test dataNode 14MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on test data..Options- Check Append columns with class probabilities- Suffix for probability columns: ProbModel input port: Neural network for test dataLower input port: Test data table with 500 rows and 48 columnsOutput port: Classified training data with 500 rows and 51 columnsNode 15Rebalance to 95/5 ratio, estimate costThis Metanode rebalances the data to 95% credit_risk = 1 (no default) and 5% credit_risk = 0 (default)See details in Node 9Input port: Classified test data with 500 rows and 51 columnsOutput port: Expected cost per number of rows in the data tableNode 16Math FormulaSet variable Prediction (credit_risk) to 1 for all observationsThis predicts all cases to majority valueInput port: All data with 1,000 rows and 48 columnsOutput port: All data with 1,000 rows and 49 columns Node 17Rebalance to 95/5 ratio, estimate costThis Metanode rebalances the data to 95% credit_risk = 1 (no default) and 5% credit_risk = 0 (default)See details in Node 9Input port: Classified data with 1000 rows and 51 columnsOutput port: Expected cost per number of rows in the data table X 100 "],["example-neural-nets-applied-to-toyota-corolla-data-set.html", "Example: Neural nets applied to Toyota Corolla data set", " Example: Neural nets applied to Toyota Corolla data set Neural nets can also be used with continuous targets. To illustrate how this works, a subset of the Toyota Corolla data is analyzed using neural nets and, for comparison, ordinary least squares regression. The variables in the Toyota data set are listed in Table 11.15. .cl-515f1e0a{}.cl-515351e2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-515351ec{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5157c0a6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5157e4e6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5157e4f0{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5157e4f1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5157e4fa{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5157e504{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5157e505{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.15: Variables in the Toyota data subset. VariableDescriptionPricePrice of the used Corolla in EurosAgeAge of the car (in months)MileageMileage (in KM)Fuel TypeFuel type (Diesel, natural gas, or gasoline)HorsepowerHorsepowerAutomaticAutomatic transmission (Yes or No)CCEngine displacement (in CC)WeightWeight (in KM) The workflow for analyzing the Toyota Corolla data using neural nets and regression is shown in Figure 11.7 (File: WorkflowForFigure11.7.knwf). Descriptions of the nodes in the workflow are given in Table 11.16. Figure 11.7: Workflow for Toyota Corolla price predictions. Results for Toyota Corolla analysis with neural nets The results of the analyses show that neural nets performed slightly better than linear regression for this problem in terms of RMSE (Table 11.16). RMSE was computed on the normalized price variable with the test data for both models. .cl-5186cf7c{}.cl-517b7f5a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-517b7f64{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-518000ac{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-518000b6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51801c2c{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51801c36{width:0.95in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51801c37{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51801c40{width:0.95in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.16: Accuracy metrics of neural net vs. OLS. Statistics on test dataNeural netRegressionRoot mean squared error0.0420.053 "],["node-desciptions-for-the-figure-11.5-workflow-1.html", "Node desciptions for the Figure 11.5 workflow", " Node desciptions for the Figure 11.5 workflow .cl-51b43868{}.cl-51a80750{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51a8075a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51ad0250{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51ad025a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51ad1d44{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51ad1d4e{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51ad1d58{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51ad1d59{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51ad1d5a{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51ad1d62{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 11.17: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: ToyotaCorolla1000.csvOutput port: Data table with 1,000 rows and eight columnsNode 2One to ManyThis node transforms all possible values in a selected column, each into a new column. The values in each column are either 1 if that row contains this possible value or 0 if not. Columns to transform: Fuel TypeCheck: Remove included columns from the output(Do not include the original string variable in the output.Input port: Data table with 1,000 rows and eight columnsOutput data: Data table with 1,000 rows and ten columnsNode 3NormalizerNormalize continuous variables using min-max normalization (0,1) as required by neural netsInput port: Data table with 1,000 rows and ten columns Upper output port: Data table with 1,000 rows and ten columns with normalized variablesLower model output port: Normalize modelNode 4PartitioningFirst partition- Select Relative: 70%- Select Draw randomly- Check: Use random seed: 123.Input port: Data table with 1,000 rows and ten columns with normalized variablesUpper output port: Normalized training data, 700 rowsLower output port: Normalized test data, 300 rowsNode 5Table CreatorThis sets the parameter ranges for the neural network cost minimizationParameters:- No. of iterations:- - Min: 30- - Max: 50- - Step: 10- No. of hidden layers:- - Min: 1- - Max: 10- - Step: 1- No. of neurons per layer- - Min: 1- - Max: 20- - Step: 1Output port: Manually created table with three rows and five columnsNode 6Parameter Optimization Loop Start (Table)Start a loop to optimize accuracy using the parameter ranges from the output of Node 6Settings:- Parameter name: param_name (string)- Start: Min(param)- Stop: Max(param)- Step size: Step (integer)Parameter value type: type (string)Input port: Manually created table with three rows and five columnsFlow output port: ParametersNode 7Rprop MLP LearnerDevelop a multilayer feedforward neural network.Options- Maximum number of iterations: Controlled by flow variable input- Number of hidden layers: Controlled by flow variable input- Number of hidden neurons per layer: Controlled by flow variable input- Class column: PriceCheck Use seed for random initialization: Random seed 123Flow input port: ParametersInput port: Training data table with 700 rows and ten columns with min-max normalizationModel output port: Neural network for training dataNode 8MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on training data..Options- Check Change prediction column name to Prediction (Price)Model input port: Neural network for training dataLower input port: Training data table with 700 rows and ten columnsOutput port: Classified training data with 700 rows and 11 columnsNode 9Compute RMSQMetanode to compute root mean square error between Price and predicted PriceInput port: Classified training data with 700 rows and 11 columnsOutput port: RMSQ for training dataNode M1 Math FormulaCompute (Price-Predicted Price) squaredNode M2 Math FormulaCompute RMSQ+B7Node M3 Column FilterRetain column RMSQNode M4 Row filterRetain row 1Node 10Table Row to VariableChange RMSQ from table to row variableInput port: RMSQ for training dataFlow variable output: RMSQ for training dataNode 11Parameter Optimization Loop EndCloses the parameter optimization loop and transfers the information back to the corresponding loop start node.Select Function should be: Minimize Flow variable input: RMSQ for training data Output port: Best parametersNode 12Table Row to VariableChange RMSQ from table to row variable·   Input port: Best parametersFlow variable output: Best parametersNode 13Rprop MLP LearnerDevelop a multilayer feedforward neural network with the test dataOptions- Maximum number of iterations: Controlled by flow variable input- Number of hidden layers: Controlled by flow variable input- Number of hidden neurons per layer: Controlled by flow variable input- Class column: PriceCheck Use seed for random initialization: Random seed 123Flow input port: Best parametersInput port: Test data table with 300 rows and ten columns with min-max normalizationModel output port: Neural network for training dataNode 14MultiLayerPerceptron PredictorCompute predicted output values from MLP Learner on test data..Options- Check Change prediction column name to Prediction (Price)Model input port: Neural network for test dataLower input port: Training data table with 300 rows and 10 columnsOutput port: Classified test data with 300 rows and 11 columnsNode 15Compute RMSQMetanode to compute root mean square error between Price and predicted PriceSee Node 9 for details·   Input port: Classified training data with 300 rows and 11 columnsOutput port: RMSQ for test dataNode 16Linear Regression LearnerPerform linear regression of Price on predictors with training dataInput port: Training data table with 700 rows and ten columns with min-max normalizationModel output port: Regression model predictorNode 17Regression PredictorPredict Price with test dataUpper model port: Regression model predictorLower input port: Test data table with 300 rows and ten columns with min-max normalizationOutput port: Classified test data with 300 rows and 11 columnsNode 18Compute RMSQMetanode to compute root mean square error between Price and predicted PriceSee Node 9 for detailsInput port: Classified test data with 300 rows and 11 columnsOutput port: RMSQ for test data "],["summary-7.html", "Summary", " Summary Neural networks have proven valuable and effective in many prediction applications, but, as with other techniques, NNs have strengths and weaknesses. Strengths include: Artificial neural nets can handle non-linear problems and interactions without explicitly specifying the model structure. No distribution assumptions are needed. Can be used for categorical or continuous criterion variables Can produce excellent fits with complicated problems Weaknesses include: Training a neural network model can consume considerable machine resources. The resultant network is quite complex and is considered a \"Black box,\" which is difficult to interpret and communicate. No p-values to test specific predictors or overall model performance are available. It is easy to over-fit models; local optima are possible There is no built-in variable selection method "],["ensemble-models.html", "Chapter 12 Ensemble models", " Chapter 12 Ensemble models The wisdom of ensemble models Many different machine-learning models have been developed, and new variants continue to be explored. This leads to questions such as, \"Which algorithm is best?\" and \"Which algorithm is best for a particular problem context or data set?\" As expected, there is no simple, definitive answer to these questions. An interesting comparison of the performance of five algorithms in terms of error of five algorithms is shown in Figure 12.1 (Seni and Elder 2010). None of the algorithms performed best on all the data sets. Figure 12.1: Relative performance of five algorithms on six datasets. Observations of model performance, such as shown in Figure 12.1 led to combining the predictions from two or more models, a process called ensemble learning. Ensemble models can lead to lower prediction errors when the predictions of diverse individual models are independent and aggregated to make a final estimate. The effectiveness of combining many independent estimates was the theme of the book The Wisdom of Crowds (Surowiecki 2004). A famous example of the power of combining estimates is given in the sidebar (Wallis 2014). References "],["creating-ensemble-models.html", "Creating ensemble models", " Creating ensemble models To create ensemble models, two or more different learning models that attempt to predict the same outcome are needed. There are several ways to generate diverse learners that can be combined to create an ensemble model. Using two or more algorithms, such as decision trees, logistic regression, and neural networks. Changing the parameters of a single model, such as the number of branches in a decision tree or the number of nodes in neural networks. Sampling different subsets of predictor variables to create multiple models. Sampling observations to create multiple models. "],["better-predictions-with-ensemble-models.html", "Better predictions with ensemble models", " Better predictions with ensemble models Ensemble models have two main benefits: reduced variation (reliability) in predictions with different data samples and improved prediction accuracy ((Brownlee 2020)). Reduced variation Performance evaluation of models is typically based on the accuracy of the predictions. The mean square error can measure accuracy in the case of regression trees while errors made with categorical targets can be assessed using confusion matrices. While these assessments are important, it is also essential to consider the performance variation as different data samples are analyzed. One way to assess this variation is to use a k-fold partitioning of a data set. The performance will typically vary if k samples are taken and submitted to the tree model. The range or standard deviation of this variation will indicate the performance using unseen data. An ensemble model may not improve the average performance across k samples compared with a single tree model and yet have a smaller variation in performance. Improved performance As discussed previously, ensemble models can perform better on average than a single tree model because errors are averaged out. By creating multiple tree models, problems with local optima can be avoided. Since different samples from a data set are likely to lead to different predictions and variations in performance, the risk of relying on a single model can be avoided. References "],["ensemble-models-based-on-decision-trees.html", "Ensemble models based on decision trees", " Ensemble models based on decision trees Ensemble models use the weaknesses of decision trees to create an advantage. Tree models have been around for a long time, but until the development of ensemble models, their use was limited for two reasons. First, decision trees are unstable as different data samples are taken. The instability is evidenced by different decision trees can result if the data set is changed slightly. This behavior is due to two characteristics of tree models. (a) The models produced are not globally optimum. Once a split is done, no further consideration is given to altering that split based on splits being made further down the tree. (b) If two potential predictor variables, A and B, are highly correlated, then if variable A is selected for a split, this effectively makes variable B unimportant. That is to be expected. However, suppose a slightly different sample is selected, for example, by randomly splitting a data set into training and test subsets. In that case, variable B might be chosen first, making variable A less important. Thus, changing the seed for the random split could result in different results. Parallel and sequential learners Tree ensemble models require two steps: Creating a set of distinct predictive tree models Combining the predictions from the collection of models to produce an overall prediction. Ensemble models can be classified into two types based on how the set of predictive models is created: parallel learners and sequential learners. Parallel learners generate a set of strong (or complex) models, and the independence of the models is used to average out errors. Examples include Bagging and Random Forests. With sequential learners, consecutive weak models are created, and errors are captured at each stage of the process. The errors at each stage become the target variables for the next step. Examples of sequential ensemble models include AdaBoost, Gradient Tree Boosting, and XGBoost. "],["parallel-learning-models-bagging.html", "Parallel learning models: Bagging", " Parallel learning models: Bagging Bagging multiple data sets by bootstrap sampling and then aggregating the results to create predictions is an early parallel ensemble approach (L. Breiman 1966). With a bootstrap sampling of n observations, k repeated samples of size n are selected with replacement. Figure 12.2 shows a diagram of the bagging approach. Repeated sampling means that some observations are left out of a given sample, and some observations are included more than once. For regression trees, the average of the k predictions across becomes the ensemble prediction. A majority vote is taken for classification trees to obtain the predicted class. Figure 12.2: Creating a bagged ensemble. Parallel learning models: Random forests Random forests, another example of parallel ensemble models, introduces another element of sampling to increase the diversity of models created (Ho 1998). Instead of using all available predictors to make each tree, a sample of predictor variables is taken. So, two forms of randomization are involved: sampling observations with replacement and sampling of features. The diagram for random forests would appear like that for bagging shown in Figure 12.2, except that each tree would be created with a randomized subset of the predictors. References "],["sequential-learning-models-adaboost.html", "Sequential learning models: AdaBoost", " Sequential learning models: AdaBoost Boosting is the process of building a large, iterative decision tree by fitting a sequence of smaller decision trees called layers. The tree at each layer consists of a small number of splits, and the trees can be tiny – only a few splits. The process for boosting is shown in Figure 12.3. An early boosting algorithm, called AdaBoost, was developed by Freund and Schapire ((Freund and Schapire 1996)), and it is used for categorical target variables. However, subsequent extensions to continuous targets were implemented. Two aspects of the AdaBoost model make this a powerful method. First, at each stage, a weak model is created, and the prediction errors are captured. The errors from each step become the target for the next stage. Thus, the overall prediction accuracy improves as the model faces increasingly difficult predictions. The second important aspect of AdaBoost is that at each stage, the observations that result in prediction errors are given more weight compared with observations that are correctly predicted. In the initial stage, all weights are equal. At the end of the process, AdaBoost creates a weighted ensemble of the predictions made at each, with weights proportional to the accuracy of each stage. Figure 12.3: Creating a boosted tree. Sequential learning models: Gradient Boosting Machines Gradient Boosting Machines (GBM) build on the approach of the AdaBoost algorithm by incorporating gradient descent for optimization (Friedman 2001). These models have been popular and successfully applied in several contexts. GBM models are quite flexible and have been implemented for time-to-event, Poisson regression, and multinomial classification problems. To implement the model, weights must be calculated for each predictor variable that will minimize prediction error, called a \"loss function\" in the context of the GBM models. For continuous responses, a typical loss function is based on the square of actual minus predicted values. For binary responses, the loss function is the negative of the log-likelihood. A brute force approach would be to form a grid of all values (with some level of increments) of each predictor, but such an unguided search process would be grossly inefficient in building a tree model. Instead, a calculus-based approach to finding a local minimum is based on the error between the actual and predicted values of the target variable. The gradient (sort of multivariable slopes or derivatives) directs changes in the model parameters with the steepest slopes toward minimization. The minimization process proceeds iteratively in small steps. (The user can set the step size. Large steps will reduce computer processing time but may miss a local minimum. Small steps are more likely to find a local minimum at the cost of increased time.) The number of iterations required depends on the problem and the step size and can range from a few to thousands or more. This method does not guarantee a global minimum, so algorithms typically incorporate multiple runs through the data with different starting values. An updated model ((Friedman 2002)) inserted a step before constructing each tree in the sequence, which took a sample of the data. The tree was formed on this sample, and the loss function was calculated. At the next iteration, another random sample of the entire data set is selected, and so on. This increased the accuracy of the predictions as compared with GBM. Sequential learning models: XGBoost XGBoost (which stands for \"eXtreme Gradient Boosting\") ((Chen and Guestrin 1996)) has become one of the most popular ensemble modeling techniques in recent years, primarily due to its use in Kaggle competitions ((Adebayo 2020)). It is considered \"state of the art\" by many practitioners. XGBoost is very flexible and customizable, and it is open source, runs on many operating systems, provides options such as regularization to reduce overfitting, and includes many parameters to tune the algorithm to specific applications. Furthermore, it executes faster than most comparable models. References "],["example-of-ensemble-modeling-for-a-continuous-target.html", "Example of ensemble modeling for a continuous target", " Example of ensemble modeling for a continuous target The file ToyotaCorolla.csv ((Tolgahancepel n.d.))contains 1,436 records of used cars on sale during the summer of 2004 in The Netherlands. In addition to price of each automobile, there are details on more than 30 attributes, such as weight, age, number of kilometers, horsepower, and optional accessories such as power steering, central locking, and tow bars. A KNIME workflow (Figure 12.4; File: WorkflowForFigure12.4.knwf) was used to create and compare ordinary least regression (OLS) and Gradient Boosted Trees to predict the prices of the Toyota Corollas. Training and test data sets were made, and performance metrics were saved. The descriptions of each node are shown in Table 12.1. Figure 12.4: Workflow for comparison of OLS with Gradient Boosted Trees. References "],["node-desciptions-for-the-figure-12.4-workflow.html", "Node desciptions for the Figure 12.4 workflow", " Node desciptions for the Figure 12.4 workflow .cl-51fe5d26{}.cl-51f2934c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51f29356{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51f730f0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51f730fa{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51f75030{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51f75044{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51f7504e{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51f75058{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51f75059{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51f75062{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.1: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: ToyotaCorolla.csv.Output node: Data table with 1,436 rows and 37 columnsNode 2Column FilterRemove selected columns from the input data table.Exclude: Id, Model, Mfg_Year (redundant with Age_08_04)Input node: Data table with 1,436 rows and 37 columnsOutput node: Data table with 1,436 rows and 34 columnsNode 3PartitioningFirst partition- Select Relative: 70%- Select: Draw randomly- Check: Use random seed: 123.Input node: Data table with 1,436 rows and 34 columnsUpper output node: Training data table with 1,005 rows and 34 columnsLower output node: Test data table with 431 rows and 34 columnsNode 4Gradient Boosted Trees Learner (Regression)Options:- Target Column: Price- Include: All other columns- Check: Limit number of levels (tree depth): 4Advanced Options- Check: Use mi point splits for numeric attributes- Check: Use binary splits for nominal columnsInput node: Training data table with 1,005 rows and 34 columnsModel output node: Gradient Boosting ModelNode 5Gradient Boosted Trees Predictor (Regression)Apply regression from the Gradient Boosted Trees model to the test dataModel input node: Gradient Boosting ModelLower input node: Test data table with 431 rows and 34 columnsOutput node: Test data plus prediction with 431 rows and 35 columnsNode 6Numeric ScorerCompute statistics with continuous target and prediction Input node: Test data plus prediction with 431 rows and 35 columnsOutput node: Prediction statistics with test data Node 7Linear Regression LearnerPerform linear regression with training dataSettings- Target: Price- Include: All variables except PriceInput node: Training data table with 1,005 rows and 34 columnsUpper model node: Regression modelNode 8Regression PredictorPredict Price using regression model and test dataUpper model input: Regression modelLower input node: Test data table with 431 rows and 34 columnsOutput node: Test data plus prediction with 431 rows and 35 columnsNode 9Numeric ScorerCompute statistics with continuous target and predictionInput node: Test data plus prediction with 431 rows and 35 columnsOutput node: Prediction statistics with test data The results, shown in Table 12.2, show that the Gradient Boosted Trees performed better than ordinary regression on all three measures. .cl-521e08ba{}.cl-5213184c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52131856{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52175a60{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52175a6a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52175a74{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:50pt;line-height: 1;background-color:transparent;}.cl-521775ea{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521775f4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521775f5{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521775fe{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521775ff{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52177608{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52177609{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52177612{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5217761c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.2: The XOR problem. MetricOLSGradient Boosted TreesMAE851.65775.02RMSE1,243.731,075.43MAPE0.080.07 "],["example-of-ensemble-modeling-for-a-binary-target.html", "Example of ensemble modeling for a binary target", " Example of ensemble modeling for a binary target Situation Many used cars are bought and sold at dealers-only wholesale auctions. Dealers acquire these used cars to put on their lots or to obtain a specific model for a customer. Other dealers are willing to sell cars at auction because they have an excess of used car inventory, do not want to sell vehicles with high mileage, or perhaps because they are trying to get rid of problem vehicles. The buyers at auctions are taking a risk because there is typically incomplete information about the cars being offered. At the auctions, there is little or no chance to evaluate a vehicle, let alone test drive it. One of the most significant risks for the buyer is purchasing a used car with such serious problems that it cannot be sold at retail to a customer. A substantial financial loss may then be incurred. These \"bad\" cars are called \"kicks.\" These cars may have mechanical issues, tampered odometers, and other unforeseen problems. Buying a problem car can be very costly to dealers. Kaggle ran a competition in 2011 ((“Don’t Get Kicked: Predict If a Car Purchased at Auction Is a Lemon” 2011)) with a data set of over 73,000 observations, each observation describing an automobile purchased at auction and a flag variable indicating whether it turned out to be a bad buy. The challenge was to find a model to predict which cars would be bad buys based on the information available at auction so the dealer could avoid selecting them. References "],["data-description.html", "Data description", " Data description A subset of the original data set was created, which dropped variables with too many discrete values (such as the specific model of an automobile brand) and dropped cases with missing values on key variables. This resulted in 72,137 cases and the variables listed in Table 12.3. .cl-524273e4{}.cl-52363ff2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52363ffc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-523ac3d8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-523ac3e2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-523adf30{width:1.25in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523adf3a{width:4in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523adf3b{width:1.25in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523adf44{width:4in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523adf45{width:1.25in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523adf4e{width:4in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.3: Variables in the KickedCarsSubset.csv data set. VariableDescriptionIsBadBuyIdentifies if the kicked vehicle was an avoidable purchase AuctionAuction provider at which the vehicle was purchasedVehYearThe manufacturer's year of the vehicleVehicleAgeThe Years elapsed since the manufacturer's yearMakeVehicle Manufacturer ColorVehicle ColorTransmissionVehicles transmission type (Automatic, Manual)WheelTypeThe vehicle wheel type description (Alloy, Covers)VehOdoThe vehicles odometer readingNationalityThe manufacturer's countrySizeThe size category of the vehicle (Compact, SUV, etc.)TopThreeAmericanNameIdentifies if the manufacturer is one of the top three American manufacturersMMRAcquisitionAuctionAveragePriceThe acquisition price for this vehicle in average condition at the time of purchaseMMRAcquisitionRetailAveragePriceThe acquisition price for this vehicle in the retail market in average condition at the time of purchaseVNSTState where the car was purchasedVehBCostAcquisition cost paid for the vehicle at the time of purchaseIsOnlineSaleIdentifies if the vehicle was originally purchased onlineWarrantyCostWarranty price (term=36month and millage=36K) "],["analysis.html", "Analysis", " Analysis The workflow for analyzing the kicked cars data is shown at the top of Figure 12.5 (File: WorkflowForFigure12.5), with descriptions of each node in Table 12.4. Three random subsets were created with the partitioning nodes: one each for training, testing, and validation. The reason for doing so is that there are many parameters to set in XGBoost. Several runs of the model were made to tune the parameters for maximum accuracy without overfitting. The target was predicted with the third holdout sample (validation) as a final accuracy test. Figure 12.5: Workflow for XGBoost with kicked cars data. "],["node-desciptions-for-the-figure-12.5-workflow.html", "Node desciptions for the Figure 12.5 workflow", " Node desciptions for the Figure 12.5 workflow .cl-52710b00{}.cl-5265a4c2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5265a4d6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-526a15ca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-526a15d4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-526a3b2c{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-526a3b40{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-526a3b41{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-526a3b4a{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-526a3b54{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-526a3b55{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.4: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: KickedCarsSubset.csvOutput port: Kicked cars file table with 71,137 rows and 18 columnsNode 2Missing valueRemove rows with missing valuesInput port: Kicked cars file table with 71,137 rows and 18 columnsOutput port: Kicked cars file table with 71,137 rows and 18 columnsNode 3PartitioningPartition to create a subset for validation- Select Relative:80%- Select Stratified sampling: IsBadBuy- Second partition (20%) will be used for validation- Check: Use random seed: 123Input port: Kicked cars file table with 71,137 rows and 18 columnsUpper output port: Kicked cars training and test table with 51,708 rows and 18 columnsLower output port: Kicked cars validation table with 14,428 rows and 18 columnsNode 4PartitioningPartition to create training and test data- Select Relative:60%- Select Stratified sampling: IsBadBuy- Second partition (40%) will be used for validation- Check: Use random seed: 123Input port: Kicked cars training and test table with 51,708 rows and 18 columnsUpper output port: Kicked cars training table with 34,624 rows and 18 columnsLower output port: Kicked cars test table with 23,084 rows and 18 columnsNode 5XGBoost Tree LearnerCreate a tree-based XGBoost model for classificationOptions - Target column: IsBadBuy- Include: all columns except IsBadBuy- Check Use static random seed: 123- Leave other settings on the page to defaultBooster page- Leave settings on the page to defaultInput port: Kicked cars training table with 34,624 rows and 18 columnsUpper output port: XGBoost modelLower output port: XGBoost feature importance (not used)Node 6XGBoost PredictorClassifies training data using XGBoost modelUpper input port: XGBoost modelLower input port: Kicked cars training table with 34,624 rows and 18 columns Output port: Kicked cars training predictions table with 34,624 rows and 21 columnsNode 7ScorerProduces accuracy statistics and a confusion matrix for the XGBoost model training set.Scorer:- First Column: IsBadBuy - Second Column: Prediction (IsBadBuy )Input port: Kicked cars training predictions table with 34,624 rows and 21 columnsUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 8XGBoost PredictorClassifies test data using XGBoost modelUpper input port: XGBoost modelLower input port: Kicked cars test table with 23,084 rows and 18 columnsOutput port: Kicked cars test prediction table with 23,084 rows and 21 columnsNode 9ScorerProduces accuracy statistics and a confusion matrix for the XGBoost model training set.Scorer:- First Column: IsBadBuy - Second Column: Prediction (IsBadBuy )Input port: Kicked cars test prediction table with 23,084 rows and 21 columnsUpper output port: Confusion matrixLower output port: Accuracy statisticsNode 10XGBoost PredictorClassifies validation data using XGBoost modelUpper input port: XGBoost modelLower input port: Kicked cars validation table with 14,428 rows and 18 columnsOutput port: Kicked cars validation prediction table with 14,428 rows and 18 columnsNode 11ScorerProduces accuracy statistics and a confusion matrix for the XGBoost model training set.Scorer:- First Column: IsBadBuy - Second Column: Prediction (IsBadBuy )Input port: Kicked cars validation prediction table with 14,428 rows and 18 columns Upper output port: Confusion matrixLower output port: Accuracy statistics "],["results-of-the-kicked-cars-analysis.html", "Results of the kicked cars analysis", " Results of the kicked cars analysis The results for the workflow in Figure 12.5 are shown in Tables 12.5, 12.6, 12.7. The confusion matrices (12.5) indicate that while classification accuracy is quite high (Table 12.8), sensitivity is low (Table 12.9). Many more observations that were actually “bad buys” were misclassified as “not bad buys.” .cl-5292c4d4{}.cl-52876008{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52876012{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-528be74a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-528be754{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-528be75e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-528be75f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-528c043c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c043d{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c0446{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c0447{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c0448{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c0449{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c0450{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c045a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-528c045b{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.5: Prediction accuracy for Kicked Cars with training data. Prediction: IsBadBuy Training set Actual IsBadBuynoyesno30,36110yes3,0961,157 .cl-52b5c128{}.cl-52aaa612{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52aaa61c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52af03b0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52af03ba{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52af03bb{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52af03c4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-52af20b6{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20c0{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20c1{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20c2{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20ca{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20cb{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20cc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20d4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52af20d5{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.6: Prediction accuracy for Kicked Cars with training data. Prediction: IsBadBuy Test set Actual IsBadBuynoyesno20,16286yes2,220616 .cl-52d93aae{}.cl-52ce3d48{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52ce3d52{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52d27e1c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52d27e26{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52d27e30{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52d27e3a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:40pt;line-height: 1;background-color:transparent;}.cl-52d29abe{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29abf{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29ac8{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29ac9{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29aca{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29ad2{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29ad3{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.5pt solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29ad4{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0.5pt solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52d29adc{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.7: Prediction accuracy for Kicked Cars with training data. Prediction: IsBadBuy Validatation set Actual IsBadBuynoyesno12,59066yes1,387385 .cl-52fe7a4e{}.cl-52f25976{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52f2598a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52f77028{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52f77032{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52f7703c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52f7703d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-52f7703e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-52f7703f{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-52f7904e{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f79058{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f79059{width:0.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f7905a{width:1.25in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f79062{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f79063{width:1in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f79064{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f7906c{width:1.25in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.8: Accuracy metrics for kicked cars data. ModelTraining setTest setValidation setAccuracy0.9100.9000.899 .cl-53295f8e{}.cl-531d743a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-531d744e{font-family:'Arial';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-531d744f{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-531d7458{font-family:'Arial';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-53221e68{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53221e7c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53221e7d{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53221e86{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-53221e87{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-53221e88{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-53221e90{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53221e91{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-53221e92{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-53221e93{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-53223cea{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223ceb{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223cf4{width:0.75in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223cfe{width:1.25in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223cff{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d00{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d08{width:0.75in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d09{width:1.25in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d12{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d13{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d1c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d1d{width:1.25in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d1e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d26{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53223d27{width:1.25in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.9: Sensitivity and specificity metrics* for kicked cars data. Model*Training setTest setValidation setSensitivity 0.2720.2170.218Specificity0.9910.9960.995*Sensitivity and specificity are defined in terms of predicting 'bad buy'. "],["cost-of-errors.html", "Cost of errors", " Cost of errors The misclassification costs of predicting an actual “bad buy” as a “not bad buy” is much greater than the cost of predicting an actual “not bad buy” as a “bad buy”. A possible approach to this problem is to lower the threshold for predicting a bad buy from the default value of 0.5. To obtain a better setting for the threshold, a profit/cost framework could be integrated into the decision model. Unfortunately, data for profit estimates is not available for this problem. Therefore, for demonstration purposes, the following assumed costs (Table 12.10) were developed using fractions of the selling prices and costs of the automobiles. .cl-534bf51c{}.cl-5340a270{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5340a284{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53452e3a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53452e44{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53452e4e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53454aa0{width:2in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454aa1{width:4in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454aaa{width:2in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454ab4{width:4in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454ab5{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454ab6{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454abe{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53454abf{width:4in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.10: Cost calculations. Predicted P(bad buy)DecisionActual conditionCostLess than thresholdBuy the carGood0Less than thresholdBuy the carBad.50 X (cost at auction)Greater than thresholdDo not buy the carBad0Greater than thresholdDo not buy the carGood.25 X (Selling price – cost at auction) The cost as a function of the threshold to predict a bad car was calculated using the workflow in Figure 12.6 (File: WorkflowForFigure12.6.knwf), and the node descriptions are in Table 12.9. Figure 12.6: Workflow for XGBoost with kicked cars data. "],["node-desciptions-for-the-figure-12.6-workflow.html", "Node desciptions for the Figure 12.6 workflow", " Node desciptions for the Figure 12.6 workflow .cl-537f28ec{}.cl-5372f946{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5372f950{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5377d2a4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5377d2ae{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5377eeba{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5377eec4{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5377eece{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5377eecf{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5377eed0{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5377eed8{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 12.11: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: KickedCarsSubset.csvOutput port: Kicked cars file table with 72137 rows and 18 columnsNode 2Missing valueRemove rows with missing valuesInput port: Kicked cars file table with 72137 rows and 18 columnsOutput port: Kicked cars file table with 72136 rows and 18 columnsNode 3XGBoost Tree LearnerCreate a tree-based XGBoost model for classificationOptions - Target column: IsBadBuy- Include: all columns except IsBadBuy- Check Use static random seed: 123- Leave other settings on the page to defaultBooster page- Leave settings on the page to defaultInput port: Kicked cars file table with 72136 rows and 18 columnsUpper output port: XGBoost modelLower output port: XGBoost feature importanceNode 4XGBoost PredictorClassifies data using XGBoost modelUpper input port: XGBoost modelLower input port: Kicked cars file table with 72136 rows and 18 columns Output port: Kicked cars file table with 72136 rows and 21 columnsNode 5Minimum cost loopMetanode to find a threshold to minimize costInput port: Kicked cars file table with 72136 rows and 21 columnsUpper output port: Table with minimum Expected cost sum and threshold with 1 row and 3 columnsLower output port: Table with all Expected cost sum and threshold values with101 rows and 8 columnsNode M1Column Filter- Include: - IsBadBuy (String)- MMRAcquisitionAuctionAveragePrice - (Number (double))- MMRAcquisitionRetailAveragePrice (Number (double))- P (IsBadBuy=1)prob (Number (double))Node M2Interval Loop StartThe workflow will be run 100 times with the threshold varying from 0.0 to 1.0 in increments of 0.01. The iterations stop at the Loop End node.Standard settings- From 0.0- To 1.0- Step 0.01- Select double- Variable prefix: thresholdNode M3Variable to Table Column This adds the threshold value to the data tableVariable selection- Include threshold value- Exclude all other variablesNode M4Column Expressions This node creates and appends a column with the cost values Expressions Node M5Math formula This node finds the maximum expected value from the list created in the loop.Math Expression- COL_MAX($Expected cost$)- Select Append Column:Expected Value1Node M6Row Filter This extracts the first row of the table for each loopFilter Criteria- First row number: 1- Last row number: 1- Select: Include rows by number.Node M7Loop End Select Unique row IDs by appending a suffixNode M8SorterSorting Filter- Sort by: Expected value 1- Select DescendingSorting FilterSort by: Expected value 1Select DescendingNode M9Row FilterFiler Criteria- Select include rows by number- First row number: 1- Last row number: 1Node M10Column FilterFilter criteria:- Include: threshold_value, expected cost sum- Exclude: all other variablesNode M11Column FilterFilter crieteria:- Include: threshold_value, expected cost sum- Exclude: all other variablesNode 6Line PlotProduces a line plot of Expected value (#1) by threshold.Options- Check: Create image at output- Choose column for x-axis: threshold_value- Include: Expected value 1Axis Configuration- Label for x-axis: Threshold- Label for y-axis: Expected cost sumInput port: Table with all Expected cost sum and threshold values with101 rows and 8 columnsUpper output port: Line plotLower output port: Copy of input data Figure 12.7: Expected cost by prediction threshold. The minimum expected cost is $8,181,847, with the threshold set at 0.24. With the default threshold set at 0.50, the expected cost is $18,030,923. Considerable cost savings were created by using the optimized model. "],["summary-8.html", "Summary", " Summary Ensemble modeling has become quite popular since the 1990s because of the availability of fast computers and efficient programs to accomplish the multiple estimates that are needed. Considerable experimentation is needed to set the parameters and to try different models. Additional experimentation by changing the parameters in XGBoost models would result in better predictive performance than achieved in the example. However, care must be taken to avoid overfitting. The ensemble models are generally quite useful but have two main problems. First, while they are very powerful, they can fit a model to the Training data, which does not generalize to the Validation and Test data. Second, ensemble models such as XGBoost do not produce a nice tree like a basic decision tree. So, interpretation and communication of results are more challenging. The ensemble models using decision trees can create hundreds of individual trees, so there is no way to create a visual chart showing the resulting tree model. "],["cluster-analysis.html", "Chapter 13 Cluster analysis", " Chapter 13 Cluster analysis Cluster analysis is an unsupervised set of methods for identifying groups of observations according to a measure of proximity. There are probably hundreds of different clustering methods available that have been designed for specific problems and data types. This chapter will focus on a subset of these frequently used methods available in KNIME. Clustering can be used to find groups of objects (records, people, items, documents) such that the objects within each group are similar in some sense to one another and distinct from the objects in other groups. The goal is to create groups of observations such that within groups, the observations are similar and different between groups. For example, if three clusters, denoted as with 10 objects, B with 20 objects, and C with 15 objects, are formed from a set of 45 observations, then the 10 objects in cluster A should be like one another according to some criteria. The same should be true of clusters B and C. However, it also should be the cases that the observations in cluster A are quite distinct (using the same criteria) from those in cluster B. This should likewise be the case when considering clusters A versus C and clusters B versus C. "],["how-many-clusters.html", "How many clusters?", " How many clusters? Deciding on the number and composition of clusters is not easy in many cases. Consider the simple example in Figure 13.1 of ten points in two dimensions. By visual inspection, one could conclude that there three, four, or five clusters. Figure 13.1: The number of clusters can be ambiguous. Cluster analysis is an \"automatic\" technique that does not require a defined target and thus is considered an unsupervised model. Clustering is also a descriptive technique; it is up to the analyst to decide whether the number and composition of the clusters are interesting and relevant. In some situations, cluster analysis is an intermediate step in an analytics workflow, with the clusters formed becoming inputs to other models. Since it is an unsupervised model, clustering, by itself, is not useful for prediction. However, once clusters are formed, cluster membership can be used as categorical targets along with other variables in a predictive model. Clustering is used in many scientific and applied fields since the goal of many studies is to simplify, condense, or classify situations – to take many data points and somehow extract the essential groups or segments from many observations.18 No assumptions are needed to make a priori regarding the number of groups or their structure; the goal is usually one of discovery and description. Sometimes the objective is to find \"natural groups\" within a data structure. Discovering natural groups is not always easy because of the huge number of possible ways that groups can be formed. One approach might be to investigate all possible groupings and decide which is the \"best\" using a pre-defined criterion. Table 13.1 shows how the number of possible clusters increases with the number of objects in a data set. Clearly, the number of possible clusters dramatically increases with the number of objects. Even a moderate number of observations would make the problem computationally unfeasible. .cl-53af0bca{}.cl-53a33796{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53a337a0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53a8230a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53a82314{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:30pt;line-height: 1;background-color:transparent;}.cl-53a8231e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:50pt;line-height: 1;background-color:transparent;}.cl-53a84042{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53a8404c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53a8404d{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53a8404e{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53a84056{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53a84057{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.1: Number of possible clusters by number of objects. No.ofobjects# possible clusters354155526203787784,140921,14710115,975 Cluster analysis goes by different names in various disciplines and includes numerical taxonomy, pattern recognition, typology, and clumping.↩︎ "],["recommended-steps-in-running-a-cluster-analysis.html", "Recommended steps in running a cluster analysis", " Recommended steps in running a cluster analysis As discussed in the previous section, there is a multitude of ways and techniques to cluster a data set. While there is no established \"cookbook\" for obtaining a valid clustering result, there are steps which should be taken to increase the likelihood of a useful result. Developing a cluster analysis involves several steps, which are discussed in the following sections. Clearly state the objective of the analysis. Select the variables to describe the objects to be clustered. Check that the data set contains clusters. Select a measure of similarity or distance. Select a clustering algorithm. Validate the clustering results. Describe the clusters. Clearly state the objective of the analysis The first step is to establish the goal of a cluster analysis. It might be to form segments of customers for marketing purposes. Or it might be to identify anomalous observations in a fraud detection project. Another purpose is to create a taxonomy or typology to further understand medical conditions. Clustering could also be used to simplify a huge data set into smaller subgroups that could then be used for further analysis. A clustering result can be used as a categorical target variable for a predictive analysis. Finally, clustering is sometimes used as an exploratory technique to understand a data set better. Whatever the reason for clustering a data set, it is important first to decide the goal since this will help make the other decisions needed to run the analysis. Select the variables to describe the objects to be clustered This is a critical step since it will determine the analysis results. Depending on the goal of the clustering, it may be possible to form hypotheses about which variables to include. For example, in market segmentation, characteristics of customers such as age, purchase history, income, and education might be relevant. If the goal is to find groups of stocks with similar financial profiles, then the variables could be ratios such as inventory to sales, income to sales, debt to assets, etc. The type of variable and the measurement scale are also important. In most clustering algorithms the objects are assumed to be measured on numeric scales, but alternatives exist for categorical variables. Some applications work with a set of binary indicators. More complex situations arise when a mixture of variable types is used, such as numeric and categorical, in the same analysis. If some variables have a considerably larger range or variance than others, then these variables can dominate the formation of clusters. So, it is usually recommended that variables should be standardized prior to computing distances, but this depends on domain knowledge in the context of a specific problem. Check that the data set contains clusters Since cluster analysis is an unsupervised technique, it is possible to “discover” clusters even in random data distributions. This has been called the “Clustering Illusion” (Kapri 2019). Figure 13.2 shows a chart with a uniform distribution of 1,000 observations in two dimensions. Figure 13.2: Randomly distributed data. The data in Figure 13.2 was submitted to a clustering program, and three clusters were specified. Despite the randomness of the data, three “clusters” of sizes 252, 256, and 492 were found. Creating a visualization is one way to assess whether a data set contains meaningful clusters. For example, the scatterplot in Figure 13.2 does not have well-defined clusters. If there are more than two dimensions, then pairs of variables can be charted. For example, consider the Iris data set, which has four measures for each type of flower. Three two-way scatterplots in Figure 13.3 clearly show at least two clusters. Figure 13.3: Scatterplot of iris data on sepal and petal dimensions. If there are too many variables to create visualizations, principal components analysis can be used to extract scores. Two components can be plotted. The Hopkins statistic (Lawson and Jurs 1990) is used to assess the clustering tendency of a data set by measuring the probability that a uniform data distribution generates a given data set. In other words, it assesses the spatial randomness of the data. This test is not available in KNIME, but there is an implementation in R that can be run in KNIME. If the analyst is confident that clusters may exist. Then the next step is to determine how to assess the closeness or proximity of observations in the data set since cluster analysis is based on grouping similar objects. References "],["select-a-measure-of-similarity-or-distance.html", "Select a measure of similarity or distance", " Select a measure of similarity or distance Cluster analysis is based on similarity, which expresses how close objects are to one another. Dissimilarity (often measured as distance) is the inverse of similarity and indicates how distinct objects are from one another. To cluster objects, it is necessary to define what criterion will be used to group them. Selecting the measure of similarity or distance is a fundamental decision that greatly affects the results. “…Poor choices of the distance function can sometimes be disastrously misleading depending on the application domain” (C. C. Aggarwal 2015). While the choice of a measure is critical, no flowchart or rules are available to guide the selection, nor is there one best measure. It may be helpful to address these questions: (a) What constitutes distance (or similarity) in the context of the problem being solved? (b) How should similarity be quantified? The data table in analytics typically consists of an object (or observations) in the rows and attributes (or variables) in columns, as shown in Figure 13.4. Figure 13.4: Typical data table structure. For the present discussion, assume the proximity measure is dissimilarity or distance, calculated from the data table in Figure 13.4. In hierarchical clustering, similarity or distance must be computed between each pair of observations in a data set. This creates a matrix of similarity/distance that has (n x (n-1))/2 entries plus ones or zeros along the diagonal. The dissimilarity matrix is square with an equal number of rows and columns. Figure 13.5 shows the structure of a dissimilarity matrix. Each entry in the dissimilarity proximity matrix measures the dissimilarity of a pair of objects in the data table. For example, entry d21 in Figure 13.5 contains the dissimilarity measure between rows o2 and o1 in the 13.4 data table. The diagonal elements of the proximity measure are all zeros since each element is equivalent to itself. Only the lower half triangle of the matrix is shown in Figure 13.5 since the matrix is symmetric. Figure 13.5: k by k dissimilarity matrix. Dissimilarity or distance can be measured in many different ways. Harmouch, for example, explains 17 different methods (Harmouch 2021). In KNIME, the Distance Matrix Calculate node provides the choice of the six metrics, four of which will be described in the following sections: Euclidean, Manhattan, Tanimoto, and Cosine distances. References "],["euclidean-distance-for-quantitative-features.html", "Euclidean distance for quantitative features", " Euclidean distance for quantitative features The most common dissimilarity measure used in clustering is Euclidean distance. To compute Euclidean distance among objects measured on k attributes, you take the measure of each pair of objects (the oi’s from 13.4) that you want to group or cluster and form the sum of squared differences. In certain situations, the analyst may want to weight some of the features more heavily than others in calculating Euclidean distance, and this can be done using the ai weights as shown in equation 13.1. \\[ \\begin{aligned} d(r_1,r_j) &amp;= \\sqrt{\\sum_{t=1}^p,a_i(r_1-r_j)^2} \\\\ \\small\\text { Where } d\\left(r_i, r_j\\right) &amp;=\\small\\text { the distance between object } r_i and r_j, \\\\ \\small\\text {p} &amp;= \\small\\text {number of attributes } \\\\ \\small\\text {t} &amp;= \\small\\text {a value on an attribute, and } \\\\ \\small\\text a_i &amp;= \\small\\text {a user-defined weight.} \\end{aligned} \\tag{13.1} \\] Before using Euclidean distance in a cluster analysis, it is always necessary to consider the measurement scales used for the variables unless the analyst specifically desires that the large magnitude features are more critical in defining distance. Variables with large magnitudes will likely affect the distance measures more. For example, consider the three hypothetical customers applying for a bank loan shown in Table 13.2. Note that customers A and B are very close except on income, while customers B and C have the same income. .cl-53f5c970{}.cl-53ea1aa8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53ea1ab2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53ee82be{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53ee82c8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53ee82c9{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-53ee9e48{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e49{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e52{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e53{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e5c{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e5d{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e66{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e67{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e68{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e70{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53ee9e71{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.2: Hypothetical bank loan customers. CustomersFeaturesABCAge285528Years of education121816Credit rating680750690Annual income35,00045,00045,000 Euclidean distances among customers A, B, and C are shown in Table 13.3. The distances indicate that customers B and C are by far the most similar. The distances are almost totally dependent on income. .cl-5419c24e{}.cl-540e1548{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-540e1552{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5412aba8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5412abbc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5412abbd{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-5412c82c{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c836{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c837{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c840{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c841{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c842{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c84a{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c84b{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c84c{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5412c854{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.3: Euclidean distances among customers. CustomersA B CA0--B10,0000-C10,000660 If the customer characteristics are standardized to zero mean and unit standard deviation, the features appear as in Table 13.4, and the Euclidean distances are now shown in Table 13.5. .cl-5440015c{}.cl-54334ab6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54334ac0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5437b272{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5437b286{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5437b287{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-5437b288{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-5437cd98{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cda2{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdac{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdad{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdae{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdb6{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdb7{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdb8{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdb9{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdc0{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5437cdc1{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.4: Standardized customer features. CustomersFeaturesABCAge-0.7071.414-0.707Years of education-0.707-4.950-0.707Credit rating-0.8637.3480.000Annual income-1.4110.7070.707 .cl-546748f2{}.cl-545b3580{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-545b358a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54601bd6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54601be0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54601be1{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:25pt;line-height: 1;background-color:transparent;}.cl-546037ba{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037c4{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037c5{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037c6{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037ce{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037cf{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037d8{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037d9{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037e2{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546037e3{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.5: Euclidean distances using standardized features. CustomersABCA0.000--B9.7170.000-C2.2908.7460.000 By standardizing the features, customers A and C are shown to be closer than customers B and C, which makes more sense. Another more subtle problem occurs when there are attributes that are highly correlated with one another. For example, measures such as horsepower, engine displacement, weight, and length might be used to form clusters of automobiles based on their physical characteristics. These variables are likely to be correlated with one another, and highly correlated variables will have more weight in measuring distance. One remedy is to run principal components on the attributes to form uncorrelated measures before clustering. The analysis proceeds in two stages: apply principal components to a correlation matrix of the raw data and then submit the component scores to cluster analysis. Manhattan distance Manhattan distance captures the distance among rows of data by aggregating the absolute differences in values of the attributes. The formula for Manhattan distance is shown in equation 13.2: \\[ \\begin{aligned} d(r_1,r_j) &amp;= \\sqrt{\\sum_{t=1}^p|r_1-r_j|} \\end{aligned} \\tag{13.2} \\] The same comments about standardized data before clustering discussed with Euclidean distances apply to Manhattan distances. Results obtained using Euclidean versus Manhattan distances should give similar results in most cases. However, if there are a few observations with extreme values, Manhattan distance was a better alternative to Euclidean distance when the number of dimensions is 20 or more (A. H. Aggarwal C. C. and Keim 2001). Cosine similarity A matrix with observations in rows and variables in columns is the most common way of representing a data set. Multivariate data can also be structured as vectors with a direction and length. Cosine similarity is the angle between two vectors. When the two vectors point in the same direction, the cosine is 1.0, but if the two vectors are at right angles, the cosine is 0.0, and if the vectors are exactly opposite, the cosine is -1.0. Consider the following data table with three observations and two variables shown in Table 13.6. This data can be converted into two vectors in three dimensions shown in Figure 13.6. .cl-548804e8{}.cl-547c96d0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-547c96e4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54813550{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54815044{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54815045{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5481504e{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.6: A simple data table. ObsX1X2158251315 Figure 13.6: Data Vectors from Table 13.6 in 3-dimensions. Equation 13.3 shows the formula for computing cosine similarity. \\[ \\begin{aligned} \\text { cosine similarity } &amp;=\\frac{\\sum_i^n A_i \\times B_i}{\\sqrt{\\sum_i^n A_i^2} \\sqrt{\\sum_i^n B_i^2}} \\\\ \\small\\text A_i \\; and \\;B_i &amp;= \\small\\text{components of the vectors A and B, and}\\\\ \\small\\text n &amp;= \\small\\text{number of observations} \\end{aligned} \\tag{13.3} \\] Cosine distance is useful in text analysis where the frequency of terms is placed in multiple vectors and image comparison. For example, consider the four sets of words that are derived from descriptions of automobiles shown in Table 13.7. .cl-54badb2a{}.cl-54ae18e0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54ae18ea{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54b27624{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54b27638{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54b27639{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-54b2917c{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54b29186{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54b29190{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54b29191{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54b2919a{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54b2919b{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.7: Word frequencies in automobile descriptions. AutosquickmileagebrakehandlingexcellentstylecomfortquietvalueeconomyAuto 15030200200Auto 23020110101Auto 30702100300Auto 410060400400 Applying equation 13.3 to the rows in the table yields the similarity matrix in table 13.8. .cl-54e20ab0{}.cl-54d7026e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54d70278{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-54db486a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54db487e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-54db6340{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54db634a{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54db6354{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54db6355{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-54db635e{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.8: Example similarity matrix. Auto 1Auto 2Auto 3Auto 4Auto 11.000Auto 20.9401.000Auto 30.1600.1201.000Auto 41.0000.9400.1601.000 This shows that Auto 1's description had much in common with Auto 2's description but that Auto 3 differed from Auto 1 and Auto 2. Auto 4, despite having exactly twice the frequencies of Auto 1 is still scored as identical to Auto 1. If Euclidean distance were used, Autos 1 and 2 would not be found to have zero distance. Converting cosine similarity to distance Since some clustering techniques require distances or dissimilarity measures rather than similarity metrics, it may be necessary to convert cosine similarity to a distance. There have been several suggestions on converting from similarity to distance, and the most common one is simply using equation 13.4. \\[ \\begin{aligned} \\operatorname{Distance}(A, B)=\\sqrt{2(1-\\text { cosine similarity }(A, B))} \\end{aligned} \\tag{13.4} \\] Tanimoto19 similarity is one of several measures useful for comparing binary vectors. The measure is calculated by enumerating binary values in pairs of records (equation 13.5). \\[ \\begin{align} \\text {Similarity } &amp;=\\frac{a}{b+c+d} \\\\ \\small\\text {Where d} \\: &amp;= \\small\\text{# of columns where records A and B both have 1&#39;s,} \\\\ \\small\\text b &amp;= \\small\\text {# of columns where record A has a 1 and B has a 0 and,} \\\\ \\small\\text c &amp;= \\small\\text {# of columns where record B has a 1 and A has a 0 }. \\end{align} \\tag{13.5} \\] Note that columns where both records have zeros are not counted. As an illustration, consider comparing which medical tests that of a set of three patients had performed. The data is shown in Table 13.9. If two patients have had a specific test, this contributes to similarity, but if both did not, similarity is not increased. .cl-5512b05c{}.cl-55075bc6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55075bd0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-550bc396{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-550bc3a0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-550bdf2a{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf34{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf35{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf36{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf3e{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf3f{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-550bdf40{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.9: Example binary data matrix. NameTest1Test2Test3Test4Test5Test6Test7Test8Test9Smith111011000Jones111010001Baker1011011001 = medical test performed, 0 = medical test not performed For Smith and Jones, d = 4, b=1, and c=1. So, the Tanimoto similarities are computed as follows: \\[ \\begin{aligned} \\text { For Smith and Jones: } d =4, b &amp;=1, \\text { and } c=1,\\\\\\ \\text {so Tanimoto similarity }&amp;=\\frac{4}{1+1+4} =.67 \\\\ \\\\ \\text { For Smith and Baker: } d =3, b &amp;=2, \\text { and } c=2, \\\\\\ \\text { so Tanimoto similarity } &amp;=\\frac{3}{2+2+3} = .43 \\\\ \\\\ \\text { For Jones and Baker: } d =2, b&amp;=3, \\text { and } c=3, \\\\\\ \\text { so Tanimoto similarity } &amp;=\\frac{2}{2+2+3} = .43 \\end{aligned} \\] The range of the Tanimoto coefficient is 0.0 to 1.0, so to convert to a distance measure, use equation 13.6. \\[ \\begin{aligned} \\text {Distance(A, B) = 1 - Tanimoto similarity(A, B)} \\end{aligned} \\tag{13.-6} \\] References "],["select-a-clustering-method.html", "Select a clustering method", " Select a clustering method Many methods are available to cluster observations. Each method uses a data set of n observations with p attributes or dimensions. The methods differ in terms of the criterion used to form clusters, the ability to work with different types of data, computer memory requirements, and processing speed. The following list, adapted and modified from (Han and Pei 2012) , describes four major types of cluster analysis: Hierarchical Builds a hierarchy of 1 to n clusters (where n is the number of objects) so the number of clusters does not have to be pre-specified. The input data matrix is typically n X p, where n = the number of rows and p = the number of columns. An n X n matrix of proximity measures is formed, becoming the input to the clustering process. The proximities can be based on distance, correlation, binary, matching, and other measures. k means partitioning Produces mutually exclusive clusters of spherical shape. Clusters are formed based on distances. Usefule with number of objects to cluster one million or more. Algorithms are available for k-means, k-mediods, and k-modes. Number of clusters must be pre-specified. Density-based Can find clusters of arbitrary shapes. Clusters are defined as dense regions of objects separated by sparse regions. Each cluster must have a minimum number of points for a region to be considered dense. It may filter out noise and outliers. Fuzzy (soft) Each observation is assigned a probability of belonging to each cluster. Therefore, each object can belong to more than one cluster. Hierarchical cluster analysis Hierarchical clustering is not a single technique but rather a set of related techniques with software implementations offering alternative settings and choices of metrics. Some software tools limit the choices to a small number, while others offer an almost bewildering list of different approaches. (KNIME is intermediate in the number of options provided, but many other types of hierarchical clustering are available in R and Python.) The iterative process in hierarchical clustering can proceed either bottom-up or top-down. Bottom-up, or agglomerative clustering, starts with all objects in separate clusters and iteratively creates clusters until all objects are in a single cluster. Top-down, or divisive clustering, starts with all objects in a single cluster and recursively splits nodes until a stopping criterion is reached. The agglomerative process is the most common and is included in KNIME. The divisive method requires exploration of 2n-1-1 possible ways to split the initial cluster, which can lead to impossibly long computational times. For example, with 25 objects, divisive clustering requires trying nearly 17 million ways to split the first cluster.20 A simple conceptual example of hierarchical clustering is used to demonstrate how hierarchical clustering works. For the example, assume that nine objects are measured on two dimensions, as shown in Table 13.10. Both x1 and x2 have been standardized to zero mean and unit standard deviation. .cl-5534820e{}.cl-5528fb64{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5528fb78{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-552db92e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-552db938{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-552db939{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:27pt;line-height: 1;background-color:transparent;}.cl-552dd558{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-552dd562{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-552dd563{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-552dd56c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-552dd56d{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.10: Simulated data for demonstration of hierarchical cluster analysis. Observationx1x2A2.050.93B0.701.28C1.171.63D-0.45-0.89E-0.01-0.86F-0.59-1.59G-1.03-0.46H-0.94-0.13I-1.18-0.46 Euclidean distances were computed for the 9 objects in the rows of Table 13.10. Since there are nine objects, (9 X 8) / 2 = 36 distances are needed, which are listed in Table 13.11. .cl-556b0504{}.cl-555e02fa{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-555e0304{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55627290{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-556272a4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:10pt;line-height: 1;background-color:transparent;}.cl-556272a5{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-556272ae{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-556292fc{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55629306{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55629310{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55629311{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5562931a{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5562931b{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.11: Example similarity matrix. ABCDEFGHIA0.000B1.3950.000C1.1240.5860.000D3.0922.4562.9960.000E2.7292.2552.7550.4410.000F3.6503.1473.6700.7140.9320.000G3.3792.4543.0340.7221.0961.2130.000H3.1722.1632.7480.9041.1821.5010.3420.000I3.5162.5623.1450.8471.2361.2750.1500.4080.000 The hierarchical sequence of clustering is shown in Figure 13.7. (The order of the columns was changed to make the hierarchy clearer.) To begin, all objects are in separate clusters. The 36 distances are ranked from smallest to largest, and the object pair with the smallest distance is joined, forming the first cluster, which contains objects I and G. At this point, there are eight clusters: C, B, A, E, D, F, IG, H. Distances are again computed, and object H is joined with AB forming cluster ABC. Next, six clusters are formed: ABC, D, E, I, G, H. The process continues until all the objects are in a single cluster. Note that the number of clusters need not be specified in advance. Various metrics for selecting the number of clusters are discussed later. The hierarchical nature of this approach is evident from the fact that once a cluster is formed, the algorithm does not go back at a later stage to check if that cluster is still optimum. Figure 13.7: Hierarchical clustering example. The distances among clusters can be computed unambiguously only at the very first stage of the analysis when all objects are in separate clusters. From the second level on down, the question of assessing the distances among clusters arises. There are many ways to conceptualize this. KNIME provides three measures, called linkages, for determining the distances among clusters: single linkage, complete linkage, and average linkage. In the previous example, single linkage was selected. With such a small data set, the results using any of the three linkages will be similar. In larger problems, the choice of linkage metric can result in very different clusters. The three linkage methods will be illustrated graphically using 25 simulated observations in two dimensions, X1, and X2. The scenario assumes that hierarchical clustering has been applied to the point where three clusters have been identified. The question at this stage is which of the three clusters should be joined next. Single linkage, also called \"nearest neighbor,\" defines the distance between two clusters as the smallest distance between any two points in the clusters. Single linkages are shown in Figure 13.8 with distances from point F to point H (cluster #1 to cluster #2) , N to T (cluster #2 to cluster #3), and S to G (cluster #3 to cluster #1). The shortest distance is N to T, so these two clusters would be joined next. Single linkage is known to produce long, stringy clusters. Figure 13.8: Single linkage clustering. Complete linkage, also called \"farthest neighbor,\" takes a more conservative approach and assigns the distances among clusters based on the maximum distance between any two points in clusters. Figure 13.9 shows the same data with complete linkages. The linkages are point B to point R (clusters #1 to #2), K to W (clusters #2 to #3), and W to A (clusters #3 to #1). In this case, clusters #1 and #2 are joined since these are the farthest apart. Figure 13.9: Complete linkage clustering. Average linkage uses the mean of the distances among all pairs of points in each cluster. Figure (ref?)(fig:Image1310) illustrates the idea, but only a small portion of the distances are depicted to avoid cluttering the diagram. The connections between object A in cluster #1 and each of the seven objects in cluster #3 are shown. Since cluster #1 contains seven objects and cluster #3 contains seven, 49 distances would need to be calculated. The average of the forty-nine interpoint distances becomes the distance between the two clusters. Similarly, all the pairwise distances between clusters #1 and #2 would be averaged as the same for clusters #2 and #3. The minimum of the three averages indicates the clusters being joined. Figure 13.10: Average linkage clustering. The discussion so far has indicated that hierarchical clustering in KNIME can be performed with at least four different measures of distance and three linkage methods. Many more alternatives are available in other software in R and Python. The question becomes, “Which approach should be used?” Some of the questions facing analysts using hierarchical clustering with different software tools include (Everitt 2011): Should agglomerative or divisive measures be used? The agglomerative method starts with all objects in separate clusters and proceeds to form groups. The divisive approach begins oppositely with all objects in a single cluster and proceeds by considering various splits. What measure of distance (or similarity) should be used? Alternatives were discussed in the previous section and include Euclidean, cosine, Manhattan, Tanimoto, and others. Should the variables be weighted? This may be done so that some variables have more influence on determining clusters, or should weights be chosen so that all variables have equal influence?* What measure of inter-cluster distance should be used? This is a key decision that will affect the shape of the created clusters. The different inter-cluster rules Alternatives include single linkage, complete linkage, centroid linkage, average linkage, and Ward's method. References "],["hierarchical-clustering-example.html", "Hierarchical clustering example", " Hierarchical clustering example Cluster analysis is used in many different disciplines. It is used extensively in marketing to segment customers to aid the development of promotion and advertising strategies. Cluster analysis is also used to explore brand and product typologies, using perceptual and physical characteristics as the basis for clusters. Aaker noted that “…consumers often imbue brands with human personality traits” (Aaker 1997). These “personalities” are also called brand “images” and are used by marketers to differentiate brands in product categories and to drive consumer preference. A large data set of brand characteristics based on a survey of over 4,700 consumers (Lovett and Shachar 2014) included 48 measures of the images/personalities of 34 automobiles. The list of image attributes in Table 13.12. The 34 automobile brands rated on each attribute from Table 13.12 are in Table 13.13. .cl-55ad484c{}.cl-55a07112{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55a52572{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55a547fa{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a54804{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a54805{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a5480e{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a5480f{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a54818{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a54819{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a5481a{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55a54822{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.12: Attributes of automobile images. DifferentCares about CustomersHigh PerformanceSocialDistinctiveCharmingIndependentSocially ResponsibleUniqueDaringIntelligentStraightforwardDynamicDown to EarthKindStylishInnovativeEnergeticObligingTraditionalLeaderFriendlyOriginalTrendyReliableFunPrestigiousTrustworthyHigh qualityGaining In PopularityProgressiveUnapproachableArrogantGlamorousRestrainedUp To DateAuthenticGood ValueRuggedUpper ClassBest BrandHealthySensuousVisionaryCarefreeHelpfulSimpleWorth More .cl-55d17816{}.cl-55c65062{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55ca89d4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55caadf6{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae00{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae01{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae0a{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae0b{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae0c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae14{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae15{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55caae16{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.13: Automobile brands that were rated. AcuraFordLexusPorscheAudiGMCLincolnSaabBMWHondaMazdaSubaruBuickHyundaiMercedes BenzToyotaCadillacInfinitiMercuryToyota ScionChevroletJaguarMini CooperVolkswagenChryslerJeepMitsubishiVolvoDodgeKiaNissanFerrariLand RoverPontiac This example of cluster analysis required decisions on which attributes to include, the similarity/distance measure to use, the type of linkage, and the number of clusters. In this case, the author made the decisions judgmentally based on knowledge of the automobile brands. The results are thus highly subjective. This is not unusual for cluster analysis applications since it is an unsupervised model without a firm theoretical basis. In this example, it is being used as a descriptive technique, and therefore the ultimate criterion for assessing the results is whether the clusters appear to reflect the structure of the brand personalities adequately. The ratings on the automobiles were recorded as the percentage of respondents selecting attributes that characterized the brand. The resulting scales reflected the perceptions of the brands as well as the proportion of respondents rating a particular brand. The goal was to group brands according to the similarity of rating patterns rather than absolute values. Cosine proximities were used rather than Euclidean to form the distance matrix for clustering. Experimentation showed that Complete Linkages led to the most interpretable clusters. Finally, the number of clusters was determined by visual inspection of the dendrogram. The workflow used is in Figure 13.11 (file: WorkflowForFigure13.11.knwf). Descriptions of each node are in Table 13.14. Figure 13.11: Workflow for hierarchical cluster analysis on automobile ratings. References "],["node-desciptions-for-figure-13.11-workflow.html", "Node desciptions for Figure 13.11 workflow", " Node desciptions for Figure 13.11 workflow .cl-560196e0{}.cl-55f48df6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55f48e0a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55f9a07a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55f9a08e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55f9c92e{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f9c942{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f9c943{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f9c94c{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f9c956{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f9c957{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.14: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: AutoPersonalities.csvOutput port: KNIME data table, 34 rows by 49 columnsNode 2RowIDThis node set the Row ID as the brand name. This will help identify the clusters.OptionsCheck Replace RowID with selected column valuesNew RowID column: Brand nameInput port: KNIME data table, 34 rows by 49 columnsOutput port: KNIME data table, 34 rows by 49 columns with brand name as Row IDNode 3Linear CorrelationIt was expected that some of the attribute ratings would be highly correlated, e.g., “Upper Class” and “Distinctive.” Including highly correlated features in a cluster analysis should be avoided since the results will tend to over-weight those features.OptionsInclude all variables except Brand nameInput port: KNIME data table, 34 rows by 49 columns with brand name as Row IDLower output port: Correlation modelNode 4Correlation FilterThis removes attributes that are redundant due to high correlations.SettingsCorrelation Threshold: 0.8Exclude columns with a correlation greater than the thresholdUpper input port: Correlation modelLower input port: KNIME data table, 34 rows by 49 columns with brand name as Row ID.Output port: KNIME data table, 34 rows by 36 columns with brand name as Row IDNode 5Distance Matrix CalculateThe cosine metric was selected because it is based on the angle between attribute vectors and does not depend on the magnitudes of the attributes. Distance CalculateDistance Selection: CosineInclude all attributesInput port: KNIME data table, 34 rows by 36 columns with brand name as Row IDOutput port: KNIME data table, 34 rows by 36 columns with brand name as Row ID plus distance measures in column 37Node 6Hierarchical Clustering (DistMatrix)This node performs a hierarchical clustering using one of three Linkage types: Single, Complete, and Average. Experimentation with each linkage type showed that Complete linkage yielded the most interpretable clusters in terms of judgments based on familiarity with the automobile brands. Upper input port: Cluster treeLower input port: KNIME data table, 34 rows by 36 columns with brand name as Row ID plus distance measures in column 37Node 7Hierarchical Cluster AssignerThis node creates a dendrogram which can be used to evaluate the clustering and to allow the selection of the number of clusters.OptionsAssign clusters based on: Cluster countNumber of clusters: 8OptionsAssign clusters based on: Cluster countNumber of clusters: 8Upper input port: Cluster treeLower input port: KNIME data table, 34 rows by 36 columns with brand name as Row ID plus distance measures in column 37Output port: Clustered dataNode 8SorterThis node sorts the data set by cluster.Sorting FilterSort by: ClusterSelect: AscendingInput port: Clustered dataOutput port: Clustered data sorted by cluster numberNode 9Column FilterRemove all columns except brand name and cluster number.Column FilterInclude:Brand nameClusterInput port: Clustered data sorted by cluster numberOutput port: Brand name and cluster number 34 rows by 2 columnsNode 10GroupByGroup the rows of the input table by values in the selected group columnGroupsClusterManual Aggregation Brand name, Unique concatenateInput port: Brand name and cluster number 34 rows by 2 columnsOutput port: Group table 8 rows by 2 columnsNode 11GroupByGroup the rows of the input table by values in the selected group columnGroupsClusterManual Aggregation:Mean of each attributeInput port: Clustered dataOutput port: Group table 8 rows by 36 columns "],["results-of-clustering-automobile-brands.html", "Results of clustering automobile brands", " Results of clustering automobile brands The table of brand names by the 34 attributes used in the clustering was saved in an Excel file. The differences between the maximum and minimum ratings for each attribute were computed and sorted from largest to smallest differences. The ten personality attributes with the largest differences were selected and normalized by dividing them by the maximum value across the brands. This provided scales that could be compared across brands and attributes. The results are shown in Figure 13.12. Figure 13.12: Comparison of clusters with the ten attributes with the largest differences. The results make sense for automobile brands sold in the United States, but this is not surprising given the judgments made in setting up the analysis. Summary comments on hierarchical clustering Hierarchical clustering approaches (either divisive or agglomerative methods) have several advantages and disadvantages. Advantages include: The method does not depend on the choice of an initial centroid, so re-running the analysis will produce the same results. Hierarchical methods can detect clusters or different shapes; it is not restricted to spherical clusters. However, it cannot deal with the complex shapes that can appear. Density-based clustering, discussed later, can be used in such cases. The dendrograms produced are useful graphical techniques for determining the number of clusters. Many options can be selected, including different similarity measures. Some disadvantages are: The algorithms work best with relatively small numbers of cases since a distance matrix of order n-squared, where n is the number of cases, must be computed. In general, the processing time is of order n-cubed. The dendrograms produced with large numbers of cases can be uninterpretable. For each step of the clustering process, the following step depends on clusters obtained previously. This may prevent the model from finding the best outcome. "],["k-means-clustering.html", "k-means clustering", " k-means clustering Hierarchical clustering described in the previous section is very flexible, allowing various distance measures depending on the data and different linkage rules for joining clusters. However, hierarchical cluster analysis does not scale well because it requires n(n-1)/2 calculations of proximities. Memory and computational requirements become excessive if a clustering problem involves more than a few thousand observations. Partitioning methods, such as k-means, can cluster millions of observations efficiently. K-means partitioning methods begin with a data set of n observations measured on p continuous variables. These must be converted into continuous measures if nominal variables are to be included. The number of clusters to form, denoted by k, must be set in advance by the analyst. If the analyst wants to explore different numbers of clusters, the procedure must be re-run for each separate value of k. The algorithm forms groups that are similar in terms of k centroids calculated as multidimensional means of the observations in each cluster. Observations are divided into clusters such that every observation belongs to one and only one cluster; the clusters do not form a tree structure as they do in the hierarchical procedures. The algorithm begins with k centroids that are as with hierarchical clustering; variables are typically standardized to prevent those with large means and variances from dominating cluster results. The k-means algorithm works like this: Initial centroids (or seeds) for k clusters are randomly selected from the observations or first k observations. Assign each observation to the nearest of the k centroids using Euclidean distance to form k clusters. Using the newly formed k clusters, compute new centroids. Using the new centroids from step 3, reassign cases to the nearest new centers again using Euclidean distance to form new clusters. Repeat steps 3 and 4 until the maximum number of iterations (set by the analyst) is reached. The KNIME documentation for k-means also states that the “… algorithm terminates when the cluster assignments do not change anymore,” but the exact criterion is not specified.)21 A weakness of k-means is that the results can be very sensitive to the starting centroids. This will be demonstrated in the example that follows. Determining the number of clusters with k-means There are many ways that have been proposed to determine the number of clusters in k-means. Two of the more popular are the “elbow method” and using the silhouette coefficient. Both methods require that k-means is run with a sequence of clusters, from two to the highest number expected in the data. The within sum of squares for each number of clusters is plotted versus the number of clusters. An “elbow” in the plot indicates the number of clusters. The silhouette coefficient gives a quantitative value for the quality of a clustering solution. For each point p, first find the average distance between p and all other points in the same cluster (this is a measure of cohesion, call it A). Then find the average distance between p and all points in the nearest cluster (this is a measure of separation from the closest other cluster, call it B). The silhouette coefficient for p is the difference between B and A divided by the greater of the two (max(A,B)). A recommended way to select the number of clusters could be to choose the number with the higher overall mean of the silhouette coefficient (SC) across all cases (Kaufman and Rousseeuw 2005). By their classification, if SC &gt; 0.70, the structure of the clusters is strong. If SC is between 0.51 and 0.70 the structure is reasonable. Lower values than 0.5 indicate poor structure. Experience with the elbow and silhouette coefficient methods indicates that both worked well with clearly defined clusters. The silhouette method provides additional information on the quality of the cluster structure. References "],["example-of-k-means-clustering.html", "Example of k-means clustering", " Example of k-means clustering A data set was obtained from Kaggle22 with 200 observations on four variables: gender, age, annual income in $000's, and a \"spending score\" which ranged from 0 to 100. (The detail behind the spending score was not made available, but it is assumed that a higher score indicates a greater likelihood of spending at the mall.) The first few rows of the data set are shown in Table 13.15. .cl-56381846{}.cl-562a3668{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-562a3672{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-562f9e1e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-562f9e32{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-562f9e33{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-562f9e3c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-562f9e3d{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-562f9e46{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-562f9e47{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-562fc920{width:0.8in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc934{width:0.5in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc935{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc93e{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc93f{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc948{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc949{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc94a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc952{width:0.8in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc953{width:0.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc954{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-562fc95c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.15: First 10 rows of the Mall Customers data set.. RowIDGenderAgeIncomeSpending ScoreRow0Male191539Row1Male211581Row2Female20166Row3Female231677Row4Female311740Row5Female221776Row6Female35186Row7Female231894Row8Male64193Row9Female301972 The workflow to determine the number of clusters using the elbow and silhouette methods is in Figure 13.20 (file: WorkflowForFigure13.13.knwf). Descriptions of each node are in Table 13.16. Figure 13.13: Workflow to determine number of clusters in mall data. Kaggle data: https://www.kaggle.com/datasets/shwetabh123/mall-customers↩︎ "],["node-desciptions-for-figure-13.13-workflow.html", "Node desciptions for Figure 13.13 workflow", " Node desciptions for Figure 13.13 workflow .cl-566a8efc{}.cl-565cc056{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-565cc060{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-56629490{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5662949a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5662af84{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5662af8e{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5662af8f{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5662af90{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5662af98{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5662af99{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.16: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: Mall_Customers.csvOutput port: KNIME data table, 200 rows by 4 columnsNode 2Column FilterKeep only numerical columns.Column Filter- Check Type Selection- Include Number (double), Number (integer), and Number (long)Input port: KNIME data table, 200 rows by 4 columnsOutput port: KNIME data table, 200 rows by 3 columnsNode 3NormalizerThe three variables had different means and ranges; normalization will avoid weighting cluster membership by mean or range.Methods- Include: Age, Annual Income (k$), Spending Score (1-100)- Check: Z-Score NormalizationInput port: KNIME data table, 200 rows by 3 columns Output port: Normalized table, 200 rows by 3 columns Node 4R SnippetThis computes the data for determining the number of clusters using the elbow method.Input port: KNIME data table, 200 rows by 3 columns Output port: KNIME data table, 14 rows by 2 columns, with # of clusters and wss. R code: See belowNode 5Line PlotThis creates a line plot of within sum of squares by number of clusters. Options- Choose column for x-axis: # of clusters- Include: wssInput port: KNIME data table, 14 rows by 2 columns, with # of clusters and wss.Node 6Silhouette criterionThis Metanode loops through clusters from 2 to 15 and calculates the mean silhouette coefficient. Input port: Normalized table, 200 rows by 3 columns Output port: 14 rows, 2 columns with k=number of clusters and Objective value for each number of clusters.Node M1_1Parameter Optimization Loop StartStandard settings- Parameter: k- Start value: 2- Stop value: 15- Step size: 1- Check IntegerNode M1_2- k-Means- K-Means Properties- Number of clusters: controlled by Node M1_1- Check Random initialization; Use static random seed = 123- Include: Age, Annual Income,, Spending scoreNode M1_3Silhouette CoefficientSettings- Include: Age, Annual Income, Spending Score- Clustering Column Selection: ClusterNode M1_4Parameter Optimization Loop EndOptions- Flow variable with objective function value: Overall Mean Silhouette Coefficient- Function should be: Check maximizedNode 7Column RenameRename column “Objective value” to Silhouette coefficient.Input port: 14 rows, 2 columns with k=number of clusters, and Objective value (mean silhouette coefficient) for each number of clusters.Output port: 14 rows, 2 columns with k=number of clusters and Silhouette coefficient Node 8Line PlotThis creates a line plot of the silhouette coefficient by number of clusters.Options- Choose column for x-axis: # of clusters- Include: Silhouette coefficient.Input port: KNIME data table, 14 rows, 2 columns with k=number of clusters and Silhouette coefficient "],["results-for-determining-the-number-of-clusters.html", "Results for determining the number of clusters", " Results for determining the number of clusters Figure 13.14: Within sum-of-squares by number of clusters for mall data. Figure 13.15: Silhouette coefficient by number of clusters for mall data. The within sum-of-squares (13.14) and silhouette criteria (Figure 13.15) indicated five clusters. A workflow (Figure 13.16); file WorkflowForFigure13.16.knwf) was created to read the data, normalize it, find five clusters using k-means, and output the final cluster result. (Node descriptions are in Table 13.17. The output of the k-means node contains the assigned cluster numbers and the values on the normalized inputs. To insert the variables in the unnormalized form, the output of the k-means node was joined to the original data. This was done to describe the clusters using the original scaling. The workflow in Figure 13.16 was run with k=5 clusters. Figure 13.16: Silhouette coefficient by number of clusters for mall data. "],["node-desciptions-for-figure-13.16-workflow.html", "Node desciptions for Figure 13.16 workflow", " Node desciptions for Figure 13.16 workflow .cl-56a5391c{}.cl-569922f8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-56992302{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-569d6e44{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-569d6e58{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-569d9716{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-569d9720{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-569d9721{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-569d972a{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-569d9734{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-569d9735{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.17: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: Mall_Customers.csvOutput port: KNIME data table, 200 rows by 4 columnsNode 2NormalizerThe three variables had different means and ranges; normalization will avoid weighting cluster membership by mean or range.Methods- Include: Age, Annual Income (k$), Spending Score (1-100)- Check: Z-Score NormalizationInput port: KNIME data table, 200 rows by 4 columns Output port: Normalized table, 200 rows by 4 columns Node 3k-MeansK-Means Properties- Number of clusters was set to 4- Check Random initialization; Use static random seed = 0Include: Age, Annual Income,, Spending scoreInput port: Normalized table, 200 rows by 4 columns Upper output port: Input data plus cluster membership; 200 rows by 5 columnsMiddle output port: Clusters (not used here)Lower output port: Cluster model (not used here)Node 4JoinerThis combines the cluster labels with the original data so that means can be computed for each variable by cluster.Joiner Settings- Match: Row ID for Top Input and Bottom Input- The output port contains the normalized variables, the raw input variables, and the cluster membershipsUpper input port: Input data plus cluster membership; 200 rows by 5 columnsLower input port: KNIME data table, 200 rows by 4 columnsOutput port: 200 rows by 9 columnsNode 5GroupByThis node is used to compute means for Age, Income, and Spending Score by cluster and count the number of cases in each cluster.Settings: - Groups: Group column: Cluster --Aggregate as follows:--Age: Mean--Annual Inomce: Mean--Spending Score: MeanAlso:--Age: CountInput port: KNIME data table, 200 rows by 9 columns Output port: Group table, 6 rows by 4 columns The summarized data was copied to an Excel spreadsheet to create the bar charts shown in Figure 13.17. Figure 13.17: Cluster descriptions for mall data. Summary comments on k-means K-Means and other partitioning methods are among the most used cluster analysis methods. These clustering algorithms have several strengths: The complexity (processing time and memory requirements) is linear in the number of objects; therefore, k-means can handle problems with many cases. k-means is a useful approach to identifying outlying observations. Objects are reassigned as the clustering process iterates and are not fixed as with hierarchical methods. Some weaknesses must be considered: The starting centers are randomly selected, affecting the final cluster compositions. Therefore, with different random initial centers, clustering results may also differ. One method to deal with this weakness is to restart the clustering process several times with different initial seeds to check the stability of the results. The analysts must pre-specify number of clusters, so to evaluate various numbers of clusters, the model must be re-run. The algorithm works best with spherical cluster arrays. The following section discusses density-based clustering, which can deal with arbitrarily shaped clusters. "],["density-based-clustering.html", "Density-based clustering", " Density-based clustering Density-based clustering is an approach that can be used with points that are densely packed together in a multidimensional space. The principal feature of density-based clustering is that arbitrarily shaped clusters can be identified, which cannot be identified with k-means or hierarchical approaches. The algorithm described here is DBSCAN (Density-Based Spatial Clustering of Applications with Noise), which has become one of the most popular clustering methods and is available in KNIME. DBSCAN builds clusters sequentially by selecting a point in p-dimensions and identifying all observations within a distance (epsilon, set by the user) of that point. If the number of points is at least a pre-specified minimum (also set by the user), then the original point is labeled a \"core point\". All such points are identified and are used as the basis for forming clusters. While the process is somewhat involved, there is an excellent video23 available that describes it graphically. So, to use DBSCAN, just two parameters must be set: epsilon and the minimum number of points. As is the case with many clustering techniques, no hard rules can be applied to select these parameters, and some experimentation is usually needed. Published guidance on selecting the minimum number varies. Some guidance suggests that the minimum number should be three or more, while other authors suggest that the minimum should be two times the number of dimensions in the data set. The value of epsilon has a significant effect on the clustering solution. Setting epsilon too small will result in the algorithm identifying a large proportion of the observations as outliers. Setting epsilon too large will result in all observations being in a small number of clusters or even a single cluster. Some authors have suggested a grid search of DBSCAN results with varying minimum sizes and epsilon values. The problem is that there is no clear criterion for selecting the optimum result. For example, the silhouette measure discussed in the context of k-means cannot be used with DBSCAN because that metric assumes spherical clusters. An ad hoc heuristic has been suggested that involves plotting the average distance of each observation to its nearest neighbors (Ester and X.Xu 1996). The kth distance from each observation is computed and sorted in descending order. A plot of the sorted kth distances by each observation is created, called the \"sorted k-dist graph .\"A threshold at an “elbow” of the chart is selected as epsilon. (Figure 13.18) Since identifying a specific elbow is not usually possible, the chart below indicates a range of possible epsilons. Experimentation with epsilon values in the range can be performed to find an appropriate clustering result. Figure 13.18: Example of a sorted k-dist graph Example application of DBSCAN The five-cluster example in two dimensions24 shown in Figure 113.19 is a challenge for k-means and hierarchical clustering that can be handled using DBSCAN. Note that there is a cluster totally enclosed in another cluster and that there are clusters that are not spherical. Finally, some points appear to be noise, not belonging to any of the five clusters. Figure 13.19: Workflow for data shown in Figure 13.19. Figure 13.20 (file: WorkflowForFigure13.20.knwf) includes three workflows: (a) the workflow at the top creates a k-dist chart to help determine the value of epsilon; (b) the workflow in the middle uses DBSCAN to form the clusters; and (c) the workflow in the lower portion of the figure uses k-means for comparison. Table 13.18 contains the node descriptions for the three workflows. Figure 13.20: Workflow for data shown in Figure 13.19. References "],["node-desciptions-for-figure-13.20-workflow.html", "Node desciptions for Figure 13.20 workflow", " Node desciptions for Figure 13.20 workflow .cl-56f25e5e{}.cl-56e65208{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-56e65212{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-56eafc90{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-56eafc9a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-56eb1784{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-56eb178e{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-56eb178f{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-56eb1798{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-56eb1799{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-56eb179a{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.18: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: fiveclusters.csvOutput port: KNIME data table, 1,100 rows by 2 columnsNode 2NormalizerThe two input variables had different means and ranges; normalization will avoid weighting cluster membership by mean or range.Methods- Include: x, y- Check: Z-Score NormalizationInput port: KNIME data table, 1,100 rows by 2 columnsOutput port: Normalized table, 1,100 rows by 2 columns Nodes 3 through 6 are used to determine the value of epsilon to be used in DBSCANNode 3Similarity SearchThis node calculates the k distances of each row from all other rows. k is set to 5 for this example, so distances 0 to 4 are output. The same data table is input to both input ports so that all pairs of distances can be computed. The output columns are: - x and y- Nearest neighbor index (0 to 4)- Nearest neighbor Row ID- distanceDistance Selection: EuclideanInclude: x, ySelect:- Coefficient Type: distance- Neighbors selection: Nearest (most similar)Output column prefix: nearest neighborUpper input port: KNIME data table, 200 rows by 2 columns Lower input port: KNIME data table, 200 rows by 2 columnsOutput port: Table with 5,000 rows and 5 columnsNode 4Row FilterFilter only the observations where the Nearest neighbor index = 4Input port: Table with 5,000 rows and 5 columnsOutput port: Table with 1,100 rows and 5 columnsNode 5SorterSort by: distanceSelect: AscendingInput port: KNIME data table, 1,100 rows by 5 columns Output port: Table with 1,100 rows and 5 columns, sorted by distanceNode 6Line PlotSelect: Create image at outportChoose column for x-axis: &lt;RowID&gt;Include: distanceAxis Configuration- Label for x axis: Row- Label for y axis: DistanceInput port: Table with 1,100 rows and 5 columns, sorted by distanceUpper output port: Line chartLower output port: Input dataNodes 7 through10 apply DBSCAN to cluster the dataNode 7Numeric DistancesCompute distances for all pairs of observations. This is needed as input to DBSCANDistance Configuration- Include: x, y- Distance Selection: EuclideanInput port: Normalized table, 1,100 rows by 2 columnsOutput port: 1,100 by 1,100 distance matrixNode 8DBSCANDensity-based cluster analysisOptions:- Epsilon: experimentation indicated eps=0.2 worked best- Minimum points: 4Upper input port: 1,100 by 1,000 distance matrixLower input port:Upper output port: Data with cluster IDs, 1,100 rows and 3 columnsLower output port: Summary tableNode 9Color ManagerAssign a different color to each clusterColor Settings- Select: Set 1Input port: Data with cluster IDs, 1,100 rows and 3 columnsUpper output port: Data with cluster IDs, 1,100 rows, and 3 columns plus color attached to each rowLower output port: Color settingsNode 10Scatter PlotOptions:- Check: Create image at output- Maximum number of rows: 1,200- Choose column for x axis: x- Choose column for y axis: yInput port: Data with cluster IDs, 1,100 rows and 3 columns plus color attached to each rowUpper output port: ImageLower output port: Input dataNodes 11 through14 apply hierarchical clustering Node 11Hierachcial Clustering (DistMatrix)Perform single linkage hierarchical clusteringUpper input port: Normalized table, 1,100 rows by 2 columns Lower input port: 1,100 by 1,100 distance matrixOutput port: Cluster treeNode 12Hierarchical Cluster AssignerTakes a hierarchical cluster tree and the data input table and appends a column with cluster membershipSet number of clusters to 5Upper input port: Normalized table, 1,100 rows by 2 columnsLower input port: Cluster treeOutput port: Clustered data; 1,100 rows by 4 columnsNode 13Color ManagerAssign different color to each clusterColor SettingsSelect: Set 1Input port: Clustered data; 1,100 rows by 4 columnsUpper output port: Data with cluster IDs, 1,100 rows and 4 columns plus color attached to each rowLower output port: Color settingsNode 14Scatter PlotOptions:- Check: Create image at output- Maximum number of rows: 1,200- Choose column for x axis: x- Choose column for y axis: yInput port: Data with cluster IDs, 1,100 rows and 4 columns plus color attached to each rowUpper output port: ImageLower output port: Input dataNodes 15 through17 apply k-means clusteringNode 15k MeansK-Means Properties- Number of clusters: 5- Centroid initialization: Random- Include: x, yInput port: Normalized table, 1,100 rows by 2 columnsUpper output port:1,100 rows by 3 columns, with cluster assignmentMiddle output port: Cluster summaryLower output port: PMML cluster modelNode 16Color MangerAssign different color to each clusterColor Settings- Select: Set 1Input port: Clustered data; 1,100 rows by 3 columnsUpper output port: Data with cluster IDs, 1,100 rows and 3 columns plus color attached to each rowLower output port: Color settingsNode 17Scatter PlotOptions:- Check: Create image at output- Maximum number of rows: 1,200- Choose column for x axis: xChoose column for y axis: yInput port: Data with cluster IDs, 1,100 rows and 3 columns plus color attached to each rowUpper output port: ImageLower output port: Input data The chart of distance by row from Node 6 in the workflow is shown in Figure 13.21. The two horizontal lines are drawn at the approximate \"elbow\" in the curve, indicating that epsilon should be between 0.125 and 0.225. Values in that range were tried. For the DBSCAN clustering, epsilon set at 0.20 produced the five-cluster solution. Figure 13.21: Chart of k = 4 distances by row. DBSCAN with epsilon = 0.20 and the minimum number of points = 4 accurately captured the five clusters and the outlying noise, as shown in Figure 13.22. The hierarchical clustering and k-means clustering did not capture the complex shapes of the clusters, as shown in Figure 13.23 and Figure 13.24. Figure 13.22: DBSCAN clusters with the data in Figure 13.19. Figure 13.23: Results with hierarchical clustering with the data in Figure 13.19. Figure 13.24: k-means cluster of the data shown in Figure 13.19. While DBSCAN has been successfully used in a variety of applications, there are both advantages and disadvantages of the technique. Advantages of DBASCN include: It can discover arbitrarily shaped clusters, including clusters surrounded by different clusters. It is robust to outliers and can identify and report noisy observations. Only two parameters must be set: epsilon and the minimum number of points. Disadvantages include: The clustering results are very sensitive to settings of epsilon, and the choice of epsilon is not deterministic. The algorithm does not work well with clusters with varying densities since the parameters will not be optimal for all clusters. The algorithm can be slow with large numbers of observations and features. Fuzzy cluster analysis With fuzzy clustering (aka soft clustering) each observation has a probability of belonging to each cluster, with values from 0.0 to 1.0. With k-means (or hard clustering) each observation is assigned to a single cluster. Fuzzy clustering is used in many of the same application areas as other clustering methods, including medical diagnostics, astronomy, market segmentation, credit scoring, estimation, environmental science, and others. Figure 13.25 illustrates the fuzzy clustering idea. Eleven observations with two dimensions are plotted in the figure. Two clusters were apparent in the data, with centroids shown for each. The probability of each point belonging to each cluster is indicated. Notice that three points in the blue-shaded area have moderate probabilities of belonging to Cluster 1 and Cluster 2. However, ordinary k-means would likely assign the points labeled P1=0.68, P2=0.32 and P1=0.58, P2=0.42 to cluster 1 and the point labeled P1=0.42, P2=0.58 to cluster 2. Figure 13.25: Illustration of fuzzy clustering. Fuzzy c-means requires setting two parameters c, the number of clusters, and m, the “fuzzifier.” Higher values of the m result in forcing more clusters to share objects. The minimum value of m is 1.0, which makes fuzzy c-means default to k-means. The typical value of m is 2.0. Example of fuzzy clustering The longitude and latitude of 500 hospitals in California were obtained from the 2015 report on utilization https://data.chhs.ca.gov/dataset/hospital-annual-utilization-report. The first ten rows of the data table are shown in Table 13.24. Table . Location data for 500 California hospitals 13.19 .cl-573b177a{}.cl-572e25b0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-572e25ba{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5732a31a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5732a32e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5732a338{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:15pt;line-height: 1;background-color:transparent;}.cl-5732be7c{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5732be86{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5732be87{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5732be90{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5732be91{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5732be9a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.19: Location data for 500 California hospitals - first 10 rows CityLongitudeLatitudeOAKLAND-122.26837.837BERKELEY-122.27037.864SAN LEANDRO-122.13137.716OAKLAND-122.26337.821HAYWARD-122.09037.633LIVERMORE-121.78337.679FREMONT-121.98037.559SAN LEANDRO-122.14137.714OAKLAND-122.26437.820OAKLAND-122.26537.819 The hospital location data was analyzed using fuzzy clustering in KNIME as shown in Figure 13.26 (file: WorkflowForFigure13.26.knwf), and node descriptions are in Table 13.20. Figure 13.26: Workflow for fuzzy clustering of hospital location data. The workflow in Figure 13.26 was repeated with the number of clusters set to two through seven. The maximum mean value of the silhouette coefficient (0.722) was found with two clusters. Therefore, the number of clusters in the Fuzzy c-Means clustering algorithm was set to 2. The \"Fuzzifier\" was left at the default value of 2.0. The clustering output was joined with the input data to recover the unnormalized longitude and latitude values. A math node was then used to calculate the Gini Index for each row of the clustered data to measure how “fuzzy” each row was in terms of assignment to cluster 0 or cluster 1. The Gini coefficient is computed as follows (equation13.7): \\[ \\begin{aligned} Gini(i) &amp;= (p_{1i} * (1-p_{1i}){+}(p_{2i} * (1-p_{2i}) \\\\ \\small\\text{Where Gini }(i) &amp;= \\small\\text { the Gini coefficient for the ith case, } \\\\ \\ p_{1i} &amp;= \\small\\text { is the probability that the ith case belongs to cluster 1, and } \\\\ \\ p_{2i} &amp;= \\small\\text { is the probability that the ith case belongs to cluster 2. } \\end{aligned} \\tag{13.7} \\] The RowID node restored the row numbers, and the Sorter sorted the rows from highest to lowest Gini Index. Gini Index values range from 0.0 to 1.0. Values near 0.5 indicate maximum uncertainty in the cluster assignment. Node desciptions for Figure 13.26 workflow .cl-57731058{}.cl-5765ccf4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5765cd08{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-576b104c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-576b1060{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-576b2ece{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-576b2ed8{width:6in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-576b2ee2{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-576b2ee3{width:6in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-576b2eec{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-576b2eed{width:6in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 13.20: KNIME nodes. NodesDescriptionsInput and output portsNode 1File ReaderRead file: CaliforniaHospitalLocationss.csvOutput port: KNIME data table, 500 rows by 3 columnsNode 2NormalizerMethodsInclude: Longitude and latitudeSelect: Z-Score NormalizerInput port: KNIME data table, 500 rows by 2 columnsOutput port: Normalized data table, 500 rows by 2 columnsNode 3Fuzzy c-MeansRun fuzzy c-means algorithmFuzzy c-means- Number of clusters: 2- Fuzzifier: 2 (the default level)Used Attributes- Longitude- Latitude The output will be proportion belonging to each of 2 clusters plus the \"winner cluster,\" which is the cluster with the majority proportionInput port: Normalized data table, 500 rows by 2 columnsUpper output port: Cluster results with a data table of 500 rows plus silhouette coefficient for each row and 10 columnsLower output port: Mean silhouette coefficientNode 4Silhouette CoefficientSettings- Include: Longitude, LatitudeClustering Column Selection: Winner ClusterInput port: Cluster results with data table of 500 rows and 9 columns Upper output port: Cluster resultsNode 4JoinerJoin the cluster output with the original data tableUse Row ID to match tablesUpper input port: Data table with 500 rows and 6 columns:Lower input port: KNIME data table, 500 rows by 3 columnsOutput port: Data table with 500 rows and 10 columnsNode 5MathCompute Gini IndexExpression: $cluster_0$*(1-$cluster_0$) + $cluster_1$*(1-$cluster_1$)- Append column: Gini IndexInput port: Data table with 500 rows and 9 columnsOutput: Data table with 500 rows and 11 columnsNode 6Column FilterColumn FilterInclude: All columns except Longitude, Latitude, and City (right)Input port: Data table with 500 rows and 11 columnsOutput port: Data table with 500 rows and 8 columnsNode 7RowIDOptions:- Select: Replace RowID with selected column values or create a new one Input port: Data table with 500 rows and 8 columnsOutput port: Data table with 500 rows and 8 columnsNode 8SorterSorting Filter- Sort by: Gini Index- Select DescendingInput port: Data table with 500 rows and 8 columnsOutput port: Data table with 500 rows and 8 columns, sorted from highest to lowest GIni Index The cluster probabilities are the likelihoods of an observation belonging to each cluster, and the fuzzy c-means algorithm assigns each row to the cluster with the higher probability. The Gini index was used to identify cases that were not clearly assigned to one cluster, so cases with Gini indices over 0.45 were assigned to the \"fuzzy\" cluster. The Gini index was used to identify cases not clearly assigned to one cluster. Cases with Gini indices over 0.45 were assigned to the \"fuzzy\" cluster. Table 13.26 has selected examples of cases that were assigned to cluster 0, cluster 1, or the “fuzzy” cluster. A chart of the cluster results that plotted each hospital location using latitude and longitude is shown in Figure 113.27. The location points were color-coded to indicate cluster membership. Since including all city names would clutter the chart, only a few city names were included to illustrate the geography of the data. The results show how the hospitals in central California were assigned to the “fuzzy” cluster. Figure 13.27: Geographic locations of California hospitals by cluster. As with other clustering techniques, the technique has both advantages and disadvantages. The main advantage of fuzzy c-means is that, unlike k-means, observations are not forced to be in a single cluster. Fuzzy c-means capture the uncertainty associated with cluster membership, and this uncertainty can be an important finding. As with k-means, the user must specify the number of clusters before running the model. Finally, the amount of overlap in the cluster results must be set by the user. The default value is 2.0. Some methods for setting this parameter have been suggested. Still, no firm theoretical justification for selecting the overlap parameter is available, so the user is left to experiment with different values. "],["cluster-validation.html", "Cluster validation", " Cluster validation With supervised models, there are a variety of measures to assess the quality of the results. Root mean square error is frequently used for continuous targets, while measures such as accuracy and sensitivity are used for binary targets. An issue with cluster analysis is that clustering algorithms will produce clusters even if there are none in the data. A cluster solution is valid to the extent that the results are not an artifact of the algorithm used and not due to chance. Several approaches to cluster validation have been identified. An extensive literature is available on the topic of validating cluster results. A comprehensive review and guide was published in 2022 (Ullmann T. and A.Boulesteix 2022). Internal cluster validation Internal cluster validation relies on the information in the data set being clustered. Hierarchical clustering provides a useful dendrogram to aid cluster validation by explicitly showing which cases are grouped. Hierarchical clustering and k-means can use the Silhouette coefficient as an internal quantitative cluster validity measure. Another internal measure is the within sum of squares which leads to the \"elbow plot .\" However, identifying the elbow in the graph is not always clear, and subjective judgment is required. Unlike hierarchical clustering, k-means clustering depends upon an initial centroid to begin the clustering process. The initial centroid can be set based on the first k cases or using random initialization governed by a seed. Different seeds can lead to varying numbers of clusters, so if the analysis is run using only a single seed, there is little confidence that a different seed would lead to very different results. An approach to dealing with the dependence on the initialization is to run k-means repeatedly with different seeds and to select the most stable outcome. External cluster validation In some situations, the analyst has a priori expectations regarding the number and composition of clusters. The degree to which the clustering results conform to the expected structure can be a useful validation criterion. In most cases, however, the number of clusters is not known in advance, so validation can be assessed using variables not part of the set included in the cluster analysis. For example, in a cluster analysis of voters based on political attitudes, cluster membership could be compared with demographics, such as age, income, education, and political party preference. The degree to which differences are found in these external variables lends credence to the validity of the clusters. References "],["communication-and-deployment.html", "Chapter 14 Communication and deployment", " Chapter 14 Communication and deployment Creating a predictive model is not the end of an analytics project. Three elements of the “endgame” of analytics are: A final written report. A presentation based on the final report. Deployment of the model. The level of detail required in the remaining steps depend upon the uses envisioned for the model. The model might be one that only the developer plans to use or perhaps by members of a team. If the model is to be incorporated into a production process within an organization or made available to outsiders such as potential and current customers, suppliers, or the public, communication and deployment become more involved and important. "],["communicating-the-final-report-and-presentation.html", "Communicating the final report and presentation", " Communicating the final report and presentation Communicating results via written reports and presentations are important aspects of the end-product of the predictive analytics process since insights and conclusions from the project may lead to improvements in an organization, call for additional work, or include plans for deploying a model into production. One of the leading reasons cited in the KDnuggets poll for not deploying an analytic model was found to be: “Decision makers unwilling to approve the change to existing operations” (Siegel, 2022). This unwillingness could be due to poor communication of the benefits of the model, to a lack of understanding of the business situation on the part of the analysts, or a bit of both. Careful upfront understanding of the business problem prior to initiating an analytics project can help ensure that a predictive model will meet cost/benefit requirements. There is no surprise about the basic elements of a final modeling report and presentation which should include the following: Statement of the original business problem and discussion of any deviations or revisions made to the problem statement as the project evolved. The steps followed in the analysis project. A summary of the models and findings. An indication of whether the models should be deployed and, if so, a plan for deployment. Conclusions and recommendations for further work based on findings. While these core elements should be present in any report or presentation of a predictive model, the decision of how much and what type of detail to include depends on the audience and the purpose of the project. Furthermore, the order in which content is presented may vary depending on the audience. The following general recommendation is provided in (EMC, 2015), chapter 12: As a rule, the more executive the audience, the more succinct the presentation needs to be for project sponsors. Ensure that the presentation gets to the point quickly and frames the results in terms of value to the sponsor's organization. When presenting to other audiences with more quantitative backgrounds, focus more time on the methodology and findings. In these instances, the team can be more expansive in describing the outcomes, methodology, and analytical experiments with a peer group. This audience will be more interested in the techniques, especially if the team developed a new way of processing or analyzing data that can be reused in the future or applied to similar problems. In addition, use imagery or data visualization when possible. The goals of communication may include efforts to explain, convey information, persuade, and serve as a call to action. If the model is to be used only by the developer(s), then the final report should include a description of what was done and why, as well as details of the steps taken in the modeling process. The documentation should have enough detail so that if one were to go back weeks or months after creating the model, it can be fully understood so that the model could be modified or passed on to other analysts. Content for technical versus non-technical audiences The main contents of presentations and reports are shown in Table 14.1 for both technical and non-technical audiences. .cl-57a4321e{}.cl-57969b18{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-57969b22{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-579caeb8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-579ccb28{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-579ccb32{width:3in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-579ccb33{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-579ccb3c{width:3in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-579ccb46{width:1.5in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-579ccb47{width:3in;background-color:transparent;vertical-align: top;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.1: Content recommendations for technical and non-technical audiences. Content areaNon-technical audienceTechnical audienceProject GoalsList the major objectives of the project.List the major objectives of the project.Description of methodology and modelDescribe methodology at a high level without technical details. Provide a non-technical overview of the modeling technique.Discuss model accuracy and validity in non-technical terms.Provide details on modeling techniques and technology and the reason for selecting the particular algorithms.Present the main logic of the model, including data preparation steps, the type of model, list of variables, model type, list of variables, key assumptions, and validation steps, and predictive accuracy.Discuss key results List key findings with bullet points.Avoid text-heavy slides numeric tables. Instead, use uncluttered, high quality presentation visuals and non-technical graphics. Show detailed list of findings.Use analyst-oriented charts and graphs, such as ROC curves, histograms, and density plots. RecommendationsIf deployment is recommended, focus on business impact, including risks and ROI. Otherwise, present recommendations for future efforts.If deployment is recommended, discuss implications for deploying in a production environment. Otherwise, discuss reasons for non-deployment including model and data limitations. Summarize key learnings for future modeling efforts. "],["style-and-order-of-presentation-contents.html", "Style and order of presentation contents", " Style and order of presentation contents There has been a great deal of discussion about the importance of storytelling in presentations (Dykes, 2020), (Knaflic, 2015), (EMC, 2015), and (Davenport, 2013). These authors present a convincing case for presenting analytics results in the form of a story. Dykes book suggests four steps in crafting a data story: The setting which provides background on the current situation that culminates on the “hook” - information that reveals a problem or opportunity). Insights into the problem or opportunity and supporting details. The “Aha Moment” where the major findings are revealed. Options, recommended actions, and next steps. This story structure can be effective with the right audience, but in many business situations the analysts will be faced with executives that are impatient and pressed for time. Many presenters can cite a time when they were cut-off mid-presentation and asked, “What’s the point of this?”, or, worse, having key executives simply leave the room. When faced with the prospect of an audience like this, the “inverted pyramid” structure is a good alternative to the structured story. The inverted pyramid begins with the “bottom line” and proceeds as follows: Most important information, recommendations, and results. Supporting information. Other details. The inverted pyramid structure does not mean that engaging anecdotes or examples be omitted and does not mean that the presentation to executives should be dry facts and figures. Graphics and images can help convey the intended message as with other audiences. "],["data-visualization.html", "Data visualization", " Data visualization Data visualization has two related is simply the use of images to represent information. There are two main uses for graphical display of data: exploration and presentation. KNIME provides many options for data visualization to support data cleaning, exploration, and understanding. KNIME graphics enable users to visually explore data to discover new insights, but those graphics are not always presentation ready. Instead, the data outputs from KNIME analytics can be exported to Excel, Power BI, Tableau, and other software that can produce presentation-ready and interactive graphics and dashboards. While nearly everyone learned about pie charts and bar charts in elementary school, the power of computer processing and high-resolution monitors and color printers has created new opportunities for analysis and communications. These new modes of display can leverage the power, flexibility, and immediacy of the human perceptual process. Unfortunately, the technology has also led to the ability to create graphs and charts that are more likely to confuse or mislead than communicate by including chart junk, e.g., unnecessary background images, background colors, 3-d effects, bold labels, redundant labels, borders, and shadows (Raj, 2022). Anything that doesn’t contribute in an essential way to the meaning of a graph is a distraction that harms communication. There are several tasks involved in creating a visual display. The first task is data selection. This refers to the art of selecting which data to include in the visual representation. This is clearly an important step because data left out can result in misleading conclusions, but it is also important because all data and details cannot be included. The second task is encoding the data into graphical form which involves mapping data into visual cues. The objective of mapping is to create an accurate visual representation of the data so that interpretations are faithful to the actual data. The importance of this step is made evident by the many examples of purposefully or accidentally created graphics that distort or even mislead viewers. The third task is constructing the graphic image in the available space on the page or the screen in a way that accurately and effectively communicates to the audience. There are four basic purposes for creating data visualization: making comparisons, showing composition, demonstrating relationships, and showing distributions. The fourth task is incorporating interactivity and motion into the visualization. While this is not always feasible, interactivity can increase the effectiveness of what is communicated as well as enhance audience engagement. Software has been developed and made available that can make visualizations dynamic so that the user or presenter can manipulate what is seen and dig into the data at will to refine or focus understanding. "],["encoding-the-data-into-graphical-form.html", "Encoding the data into graphical form", " Encoding the data into graphical form There are many data visualization software packages available, some open source and some quite expensive. The design and structure of a graph has a strong effect on what is perceived and what is attended to. Conceptual foundations for graphical design were developed by the French cartographer Jacques Bertin the classic work Sémiologie Graphique published 1967. This groundbreaking work, later translated into English (Bertin, J. and W. J. Berg, 1983), organized the visual elements of graphical display according to the type of information that is communicated. Bertin identified seven main categories of graphics for data visualization which are illustrated: texture, value, size, color, shape, orientation, and position. Figure 14.1: Graphical elements used to communicate information. The elements shown in Figure 14.1 can be used to construct an enormous variety of charts. Of these elements in the figure, Stephen Few maintains that the most powerful ways to encode quantitative information are line length (including bars, if considered “fat” lines) and position in two dimensions. These elements can be combined into dozens of different types of charts. Constructing the graphical image While there are some principles that have been offered by graphics experts such as Stephen Few and Edward Tufte, is best considered a craft rather than a science. Visualization has roots in statistics, graphic design, cartography, cognitive science and computer science. The multi-disciplinary mix in data visualization makes it a difficult subject to master. There isn’t a generally agreed-upon set of principles, yet there is both science and art underlying effective visualization. The figure on the on the following page provides a useful set of basic charts for four basic purposes: showing composition, making comparison, showing relationships, and showing distributions. "],["chart-suggestions---a-thought-starter.html", "Chart Suggestions - A Thought Starter", " Chart Suggestions - A Thought Starter Figure 14.2: (C) Dr. A. Abela a.v.abela@gmail.com 2006 "],["deploying-predictive-models.html", "Deploying predictive models", " Deploying predictive models Deploying predictive models, while part of the analytics process discussed in chapter one, can be a separate and complex process. After spending the time and effort to build a predictive model, it is perhaps understandable that the analyst or data sciences team would like to see the model used. The scope of deployment can be: For use by the developer or development team. Incorporated into a production process within the organization’s systems. Made available to current and potential customers, suppliers, investors, or others. In addition, the data pipeline for a predictive model can in batch mode as needed or scheduled, or available for real time processing. As implementation ranges from individual, in-company use to real-time processing for external users, the complexity, investment, and buy-in depends on the scope and pipeline. As the deployment scope moves from batch use by the developer or development team toward real-time use outside of the organization, complexity and required investments increase in: Data privacy and security. Robustness. Usability of interface. Periodic maintenance. Performance monitoring. Not all projects will lead to deployment. In fact, there is substantial evidence that most models are not successfully deployed. A KDnuggets poll revealed that many data scientists reported that fewer than 20% of models generated were deployed (Siegel, 2022). Dean Abbott noted that many predictive models are never deployed due to technical issues, political roadblocks, or government regulations (Abbott, 2014). This does not necessarily mean that the project has no value because the insights can still lead to changes in strategy. Abbott identified several approaches to deployment. The simplest, and most common, is to deploy a model using the predictive modeling software itself. Deployment in this way requires the user to have access to the predictive software and to obtain and load the required data. Some software solutions offer add-ons to deploy models. IBM SPSS Modeler, Rapid Miner, Amazon ML, KNIME, and other services deploy models without the need for developing custom software. While these approaches are convenient and frequently offer features such as automatic alerts for problems, these services can be expensive. Other deployment approaches typically require translation of the model into languages such as C#, Java, or Python. PMML (Predictive Model Markup Language) is a standard that allows communication of models from analytics software (such as KNIME, Rapid Miner, SAS, SPSS, etc.) by translating a predictive model into a standard format which can then be read by other programs for deployment. The PMML files contain the data dictionary, the data transformations used in the predictive model, and information on the specific model (e.g., decision trees, regression), and outputs with the predictions. The competencies required for moving a model into production are different from the skillset and experience of most analysts and thus a handoff to IT teams is usually necessary. Since the emphasis in this book is on low- or no-code analytics, in-software deployment will be demonstrated using KNIME. "],["deploying-predictive-models-for-use-by-the-developer-or-team.html", "Deploying predictive models for use by the developer or team", " Deploying predictive models for use by the developer or team There are two simple ways of deploying a model for individual or team use. One is to deploy the model using the software tool used to create the model. The other is to translate the model into another tool or program. Examples of each approach will be presented here. Deployment using KNIME KNIME offers Integrated Deployment nodes to capture the workflows needed to run in a production environment. This example will demonstrate deploying a workflow within the KNIME software itself. Deployment more generally requires a KNIME server account. The example from chapter 7 on predicting employee retention will be used in this demonstration. Figure 14.3 (file: WorkflowForFigure14.3) shows a workflow which captures two elements of a logistic regression model to predict employee retention: (a) data preparation which involves taking the logarithm of Years at the Company, and (b) the logistic model predictor using the input data. The two captured areas are combined and then saved as workflow. In general, new data submitted to a saved model must be prepared and processed in the same way that was done for model building. This includes how missing values were handled, variable transformations, normalization, and other data preparation steps. The saved workflow can then be used to score new data using the employee turnover predictive model. While this example only has a single Math node, it is important that all data preparation steps are captured in model deployment workflow so that model performance is preserved when new data is applied. Table 14.2 has the descriptions of each node in Figure 14.2. Figure 14.3: Capturing the employment retention model for deployment. "],["node-desciptions-for-figure-14.2-workflow.html", "Node desciptions for Figure 14.2 workflow", " Node desciptions for Figure 14.2 workflow .cl-57ea8a2a{}.cl-57dcc2b4{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-57dcc2be{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-57e2c240{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-57e2dd84{width:1in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57e2dd8e{width:5in;background-color:rgba(207, 207, 207, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57e2dd8f{width:1in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57e2dd90{width:5in;background-color:rgba(239, 239, 239, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57e2dd98{width:1in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-57e2dda2{width:5in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.2: Node desciptions for Figure 14.2 workflow. NodesDescriptionsInput and output portsNode 1File ReaderRead Employee_turnover.csvOutput port: KNIME data table with employee turnover with 14,999 rows and 9 columnsNode 2Capture Workflow StartThis starts the capture of a workflow segment.The entire workflow within the scope of the Capture Workflow Start and Capture Workflow End nodes are made availableInput port: KNIME data table with employee turnover with 14,999 rows and 9 columnsCaptured workflow inputs plus KNIME data table with employee turnover with 14,999 rows and 9 columnNode 3Math FormulaThis node can evaluate a mathematical expression based on the row values of a variable using a large assortment of available functionsMath Expression- ln($YearsAtCompany$)- Append Column: lnYearsAtCompanyInput node: KNIME data table with employee turnover Output node: Data table with ln(YearsAtCompany)Node 4Capture Workflow EndThis ends the capture of a workflow segment.Input node: Data table with ln(YearsAtCompany)Output node: Captured workflow inputs plus Data table with ln(YearsAtCompany) Node 5SmoteSMOTE oversamples the input dataSettings- Class column: Left- Check: Oversample minority classes- Check: Enable static seed: 123Input node: Data table with ln(YearsAtCompany)Output node: Oversampled with a balanced number of Left and Did not leave target valuesNode 6Logistic Regression LearnerCreate the logistic modelSettings:- Target column: Left- Select solver: Iteratively reweighted least squares- Include: All predictor variables except YearsAtCompanyInput port: Oversampled dataUpper output port: Logistic regression modelMiddle output port: Coefficients and statisticsLower output port: Model and learning propertiesNode 7Capture Workflow StartThis starts the capture of a workflow segment.- The entire workflow within the scope of the Capture Workflow Start and Capture Workflow End nodes are made availableInput port: KNIME data table with employee turnover with 14,999 rows and 9 columnsCaptured workflow inputs plus KNIME data table with employee turnover with 14,999 rows and 9 columnsNode 8Logistic Regression PredictorPredict the target variable using the logistic model Settings:Check: Custom prediction column name: Left PredictCheck: Append columns with predicted probabilitiesUpper input port: Logistic modelLower input port: Data table with ln(YearsAtCompany)Output port: Original data table plus predicted valuesNode 9Capture Workflow EndThis ends the capture of a workflow segmentInput node: Original data table plus predicted valuesOutput node: Captured workflow inputs plus original data table plus predicted valuesNode 10Workflow CombinerCombines two workflows into a single workflowUpper input node: Captured workflow from Node 4Lower input node: Captured workflow from Node 9Output port: Combine workflowsNode 11Workflow WriterWrite the workflow to the current workflow areaWorkflow created: WorkflowForFigure14.2 "],["created-workflow.html", "Created workflow", " Created workflow At this point a new workflow has been automatically created which can use data on employee characteristics to predict retention. The only node to add is the File Reader with the new input data. The variable in the input data file must use in the same format and column names as the original data used to create the workflow in Figure 14.3. The created workflow is shown in Figure 14.3. The nodes within the “Saved deployment workflow” box were created by KNIME when the workflow was written to WorkflowForFigure14.4 (file: WorkflowForFigure14.4). The Test input data box contains a single node that is used to read new data. In this case a File Reader node was inserted to read data from a .csv file. The new data for this demonstration consisted of two rows of employee characteristics which is shown in Table 14.3. Figure 14.4: Deployed workflow to predict employee retention. .cl-58192e5c{}.cl-580e2f7a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-580e2f84{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58127b3e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58127b48{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58127b52{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-58129808{width:1in;background-color:transparent;vertical-align: bottom;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58129812{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5812981c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58129826{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.3: Test input data to predict employee retention. SatisfactionLast EvaluationProjectsAverage HoursYears At CompanyPromotionDepartmentSalary0.70.8821573NosalesHigh0.20.5051595YessalesLow The predicted values for the two test cases are: “Did not leave” for case 1 and “Left” for case 2. This approach would work for any number of new cases. Any analyst or manager wishing to use this model would need to have KNIME installed on their machine plus access to the file WorkflowForFigure14.3. "],["deployment-using-excel.html", "Deployment using Excel", " Deployment using Excel If the model uses a relatively straightforward formula to make predictions, the model can be deployed in Excel. The logistic equation model from the workflow in Figure 14.1 is available from the Logistic Regression Learner node. This node has three output ports as shown in Figure 14.4. Figure 14.5: Output ports of the KNIME logistic learner. For this example, the model coefficients were captured from the middle port (shown in Table 14.4) and copied into an Excel workbook: DeploymentOfEmployeeRetentionModel.xlsx. An Excel worksheet was created that used the coefficients to estimate the probability of leaving as a function of the values of the input features. The worksheet, shown in Figure 14.6 was set to check values in each column to ensure that they were in the appropriate range. For example, Satisfaction ranged from 0.0 to 1.0, so any values outside this range would not be accepted. .cl-58423766{}.cl-5836e7c6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5836e7d0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-583b64ea{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-583b64f4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-583b64f5{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-583b807e{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-583b807f{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-583b8088{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-583b8089{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-583b8092{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-583b8093{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.4: Logistic regression coefficients from the workflow in Figure 14.4. VariableCoefficientsSatisfaction-4.761LastEvaluation1.023Projects-0.527AverageHours0.005Promotion=Yes-1.732Department=ResAndDevel-0.397Department=accounting0.185Department=hr0.422Department=management-0.459Department=marketing0.127Department=product_mgt0.076Department=sales0.135Department=support0.225Department=technical0.301Salary=Low1.927Salary=Medium1.413LN_YearsAtCompany2.556Constant-2.042 Figure 14.6: Segment of Excel worksheet for predicting retention. "],["selecting-and-preparing-data-for-explanatory-visualizations.html", "Selecting and preparing data for explanatory visualizations", " Selecting and preparing data for explanatory visualizations Table 14.5 contains the total number of medals won in the Summer Olympics for selected countries25. There are many ways to show this data on number of medals in a chart, but there a several questions to address before creating the chart listed in Table 14.6. .cl-58768958{}.cl-586a9e68{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-586a9e72{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-586f30b8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-586f30c2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-586f30c3{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-586f5160{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f516a{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f516b{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f5174{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f5175{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f517e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f517f{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-586f5188{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.5: Total number of medals won in Summer Olympics. Country1996200020042008201220162021United States10193101112104121113China505863100927089Russia 63899080815671Great Britain15283051656764Australia41585046352946Germany65564941444237France37383343354233South Korea27283032302120Totals for 8 countries399448446505486448473 .cl-589ba378{}.cl-588ddedc{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-588ddee6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58924dfa{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-589269a2{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-589269ac{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-589269b6{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-589269b7{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-589269c0{width:2.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-589269c1{width:3.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.6: Questions to ask before charting the data in Table 14.5. QuestionsPossible responsesWhat are the important characteristics of the data?The numbers in the chart range from 15 to 121 and represent the total number of medals, gold, silver, and bronze. The data represents only a small segment of the over 200 countries that participate in the Summer Olympics.What additional data might be useful?The total number of medals awarded to all countries each year.The number of countries that participated each year. The number of events held each year.The distribution of gold, silver, and bronze medals by country by year.What questions might be answered in a chart or charts?What are the trends in total medals for each country? Which countries gained or lost the largest number of medals? Did the rank order of countries vary over the years? Which countries are most consistent in the number of medals won? What are the key stories of trends by country?Should the numbers be transformed? The data could be normed by the number of countries participating, the number of medals awarded, or the number of events each year. Raw numbers or percentages could be reported. Normalization of the data might be helpful to better compare the trends. The eight country entries in Table 14.5 could be normed by the total number of medals won by those countries. Table 14.7 shows this normalization. .cl-58c90ebc{}.cl-58ba877a{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58ba8784{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58c019d8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58c019e2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58c019ec{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-58c0379c{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037a6{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037b0{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037b1{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037b2{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037ba{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037bb{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58c037c4{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.7: Medals by country as percentage of totals for 8 countries. Country1996200020042008201220162021United States25%21%23%22%21%27%24%China13%13%14%20%19%16%19%Russia 16%20%20%16%17%13%15%Great Britain4%6%7%10%13%15%14%Australia10%13%11%9%7%6%10%Germany16%13%11%8%9%9%8%France9%8%7%9%7%9%7%South Korea7%6%7%6%6%5%4%Total100%100%100%100%100%100%100% Another approach is to normalize each country by the 1996 data. This can highlight trends in a different way. However, 1996 might not be the most representative year for all of the countries. So, instead the data was normalized by the average values over the seven years fore each country as shown in Table 14.8. .cl-58f2e296{}.cl-58e75160{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58e7516a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58ebd2c6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58ebd2d0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58ebd2e4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:20pt;line-height: 1;background-color:transparent;}.cl-58ebf508{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58ebf512{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58ebf513{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58ebf51c{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58ebf51d{width:2in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58ebf51e{width:1in;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;} Table 14.8: Medals awarded normed by average for each country. Country1996200020042008201220162021United States95%87%95%105%98%114%106%China67%78%84%134%123%94%119%Russia 83%118%119%106%107%74%94%Great Britain33%61%66%112%142%147%140%Australia94%133%115%106%80%67%106%Germany136%117%103%86%92%88%78%France99%102%89%115%94%113%89%South Korea101%104%112%119%112%78%74% While the tables are informative, it is difficult to discern trends. So, data visualizations can be used to better communicate. Examples of both built-in and more specialized charts will be illustrated using the Summer Olympics data. This is based on a workshop presentation by the TMA consulting group. https://the-modeling-agency.com↩︎ "],["excel-charts.html", "Excel charts", " Excel charts Figure 14.7: Excel chart1. Figure 14.8: Excel chart2. Figure 14.9: Excel chart3. Figure 14.10: Excel chart4. "],["references.html", "References", " References "]]
